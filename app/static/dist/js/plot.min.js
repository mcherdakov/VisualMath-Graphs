!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.sheckley=n():t.sheckley=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(1),a=r(o),s=e(2),l=e(4),c=r(l),f=e(5),h=r(f),p=e(37),g=r(p),d=function(){function t(n){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.id=n,this.attrs=s.extend({},e),this.plotters=new c["default"],this.plotterCounter=0}return u(t,[{key:"getAttrs",value:function(){return this.attrs}},{key:"getId",value:function(){return this.id}},{key:"getPlotters",value:function(){return this.plotters}},{key:"getPlottersNumber",value:function(){return this.plotterCounter}},{key:"addPlot",value:function(t){var n=this.addEmptyDiv(),e=new h["default"](n,t);return this.plotters.add(e),e}},{key:"addEmptyDiv",value:function(){var t="plotter"+this.plotterCounter++;return a["default"].select("#"+this.id).append("div").attr("id",t),t}}]),t}();window.PlotContainer=d,window.OverContainer=g["default"],n.PlotContainer=d,n.Plotter=h["default"]},function(t,n,e){var r,i;!function(){function u(t,n){return n>t?-1:t>n?1:t>=n?0:NaN}function o(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function s(t){return{left:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);i>r;){var u=r+i>>>1;t(n[u],e)<0?r=u+1:i=u}return r},right:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);i>r;){var u=r+i>>>1;t(n[u],e)>0?i=u:r=u+1}return r}}}function l(t){return t.length}function c(t){for(var n=1;t*n%1;)n*=10;return n}function f(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function h(){this._=Object.create(null)}function p(t){return(t+="")===go||t[0]===vo?vo+t:t}function g(t){return(t+="")[0]===vo?t.slice(1):t}function d(t){return p(t)in this._}function v(t){return(t=p(t))in this._&&delete this._[t]}function y(){var t=[];for(var n in this._)t.push(g(n));return t}function m(){var t=0;for(var n in this._)++t;return t}function x(){for(var t in this._)return!1;return!0}function b(){this._=Object.create(null)}function _(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function M(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=yo.length;r>e;++e){var i=yo[e]+n;if(i in t)return i}}function w(){}function k(){}function S(t){function n(){for(var n,r=e,i=-1,u=r.length;++i<u;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],r=new h;return n.on=function(n,i){var u,o=r.get(n);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,u=e.indexOf(o)).concat(e.slice(u+1)),r.remove(n)),i&&e.push(r.set(n,{on:i})),t)},n}function C(){Qu.event.preventDefault()}function E(){for(var t,n=Qu.event;t=n.sourceEvent;)n=t;return n}function N(t){for(var n=new k,e=0,r=arguments.length;++e<r;)n[arguments[e]]=S(n);return n.of=function(e,r){return function(i){try{var u=i.sourceEvent=Qu.event;i.target=t,Qu.event=i,n[i.type].apply(e,r)}finally{Qu.event=u}}},n}function A(t){return xo(t,ko),t}function z(t){return"function"==typeof t?t:function(){return bo(t,this)}}function j(t){return"function"==typeof t?t:function(){return _o(t,this)}}function P(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function u(){this.setAttributeNS(t.space,t.local,n)}function o(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=Qu.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?a:o:t.local?u:i}function L(t){return t.trim().replace(/\s+/g," ")}function O(t){return new RegExp("(?:^|\\s+)"+Qu.requote(t)+"(?:\\s+|$)","g")}function T(t){return(t+"").trim().split(/^|\s+/)}function D(t,n){function e(){for(var e=-1;++e<i;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<i;)t[e](this,r)}t=T(t).map(R);var i=t.length;return"function"==typeof n?r:e}function R(t){var n=O(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",L(i+" "+t))):e.setAttribute("class",L(i.replace(n," ")))}}function q(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function u(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?u:i}function F(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?i:r}function I(t){return"function"==typeof t?t:(t=Qu.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function Y(t){return{__data__:t}}function U(t){return function(){return wo(this,t)}}function X(t){return arguments.length||(t=u),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function H(t,n){for(var e=0,r=t.length;r>e;e++)for(var i,u=t[e],o=0,a=u.length;a>o;o++)(i=u[o])&&n(i,o,e);return t}function B(t){return xo(t,Co),t}function W(t){var n,e;return function(r,i,u){var o,a=t[u].update,s=a.length;for(u!=e&&(e=u,n=0),i>=n&&(n=i+1);!(o=a[n])&&++n<s;);return o}}function Z(){var t=this.__transition__;t&&++t.active}function $(t,n,e){function r(){var n=this[o];n&&(this.removeEventListener(t,n,n.$),delete this[o])}function i(){var i=s(n,no(arguments));r.call(this),this.addEventListener(t,this[o]=i,i.$=e),i._=n}function u(){var n,e=new RegExp("^__on([^.]+)"+Qu.requote(t)+"$");for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}var o="__on"+t,a=t.indexOf("."),s=V;a>0&&(t=t.slice(0,a));var l=No.get(t);return l&&(t=l,s=G),a?n?i:r:n?w:u}function V(t,n){return function(e){var r=Qu.event;Qu.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{Qu.event=r}}}function G(t,n){var e=V(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}function J(){var t=".dragsuppress-"+ ++zo,n="click"+t,e=Qu.select(io).on("touchmove"+t,C).on("dragstart"+t,C).on("selectstart"+t,C);if(Ao){var r=ro.style,i=r[Ao];r[Ao]="none"}return function(u){e.on(t,null),Ao&&(r[Ao]=i),u&&!function(){var t=function(){e.on(n,null)};e.on(n,function(){C(),t()},!0),setTimeout(t,0)}()}}function K(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>jo&&(io.scrollX||io.scrollY)){e=Qu.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=e[0][0].getScreenCTM();jo=!(i.f||i.e),e.remove()}return jo?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}function Q(){return Qu.event.changedTouches[0].identifier}function tt(){return Qu.event.target}function nt(){return io}function et(t){return t>0?1:0>t?-1:0}function rt(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function it(t){return t>1?0:-1>t?Po:Math.acos(t)}function ut(t){return t>1?Oo:-1>t?-Oo:Math.asin(t)}function ot(t){return((t=Math.exp(t))-1/t)/2}function at(t){return((t=Math.exp(t))+1/t)/2}function st(t){return((t=Math.exp(2*t))-1)/(t+1)}function lt(t){return(t=Math.sin(t/2))*t}function ct(){}function ft(t,n,e){return this instanceof ft?(this.h=+t,this.s=+n,void(this.l=+e)):arguments.length<2?t instanceof ft?new ft(t.h,t.s,t.l):St(""+t,Ct,ft):new ft(t,n,e)}function ht(t,n,e){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?u+(o-u)*t/60:180>t?o:240>t?u+(o-u)*(240-t)/60:u}function i(t){return Math.round(255*r(t))}var u,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:0>n?0:n>1?1:n,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+n):e+n-e*n,u=2*e-o,new _t(i(t+120),i(t),i(t-120))}function pt(t,n,e){return this instanceof pt?(this.h=+t,this.c=+n,void(this.l=+e)):arguments.length<2?t instanceof pt?new pt(t.h,t.c,t.l):t instanceof dt?yt(t.l,t.a,t.b):yt((t=Et((t=Qu.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new pt(t,n,e)}function gt(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new dt(e,Math.cos(t*=Ro)*n,Math.sin(t)*n)}function dt(t,n,e){return this instanceof dt?(this.l=+t,this.a=+n,void(this.b=+e)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof pt?gt(t.h,t.c,t.l):Et((t=_t(t)).r,t.g,t.b):new dt(t,n,e)}function vt(t,n,e){var r=(t+16)/116,i=r+n/500,u=r-e/200;return i=mt(i)*$o,r=mt(r)*Vo,u=mt(u)*Go,new _t(bt(3.2404542*i-1.5371385*r-.4985314*u),bt(-.969266*i+1.8760108*r+.041556*u),bt(.0556434*i-.2040259*r+1.0572252*u))}function yt(t,n,e){return t>0?new pt(Math.atan2(e,n)*qo,Math.sqrt(n*n+e*e),t):new pt(NaN,NaN,t)}function mt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function xt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function bt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function _t(t,n,e){return this instanceof _t?(this.r=~~t,this.g=~~n,void(this.b=~~e)):arguments.length<2?t instanceof _t?new _t(t.r,t.g,t.b):St(""+t,_t,ht):new _t(t,n,e)}function Mt(t){return new _t(t>>16,t>>8&255,255&t)}function wt(t){return Mt(t)+""}function kt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function St(t,n,e){var r,i,u,o=0,a=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(At(i[0]),At(i[1]),At(i[2]))}return(u=Qo.get(t))?n(u.r,u.g,u.b):(null==t||"#"!==t.charAt(0)||isNaN(u=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&u)>>4,o=o>>4|o,a=240&u,a=a>>4|a,s=15&u,s=s<<4|s):7===t.length&&(o=(16711680&u)>>16,a=(65280&u)>>8,s=255&u)),n(o,a,s))}function Ct(t,n,e){var r,i,u=Math.min(t/=255,n/=255,e/=255),o=Math.max(t,n,e),a=o-u,s=(o+u)/2;return a?(i=.5>s?a/(o+u):a/(2-o-u),r=t==o?(n-e)/a+(e>n?6:0):n==o?(e-t)/a+2:(t-n)/a+4,r*=60):(r=NaN,i=s>0&&1>s?0:r),new ft(r,i,s)}function Et(t,n,e){t=Nt(t),n=Nt(n),e=Nt(e);var r=xt((.4124564*t+.3575761*n+.1804375*e)/$o),i=xt((.2126729*t+.7151522*n+.072175*e)/Vo),u=xt((.0193339*t+.119192*n+.9503041*e)/Go);return dt(116*i-16,500*(r-i),200*(i-u))}function Nt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function At(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function zt(t){return"function"==typeof t?t:function(){return t}}function jt(t){return t}function Pt(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Lt(n,e,t,r)}}function Lt(t,n,e,r){function i(){var t,n=s.status;if(!n&&Tt(s)||n>=200&&300>n||304===n){try{t=e.call(u,s)}catch(r){return void o.error.call(u,r)}o.load.call(u,t)}else o.error.call(u,s)}var u={},o=Qu.dispatch("beforesend","progress","load","error"),a={},s=new XMLHttpRequest,l=null;return!io.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(t){var n=Qu.event;Qu.event=t;try{o.progress.call(u,s)}finally{Qu.event=n}},u.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==n?delete a[t]:a[t]=n+"",u)},u.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",u):n},u.responseType=function(t){return arguments.length?(l=t,u):l},u.response=function(t){return e=t,u},["get","post"].forEach(function(t){u[t]=function(){return u.send.apply(u,[t].concat(no(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(e,t,!0),null==n||"accept"in a||(a.accept=n+",*/*"),s.setRequestHeader)for(var c in a)s.setRequestHeader(c,a[c]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=l&&(s.responseType=l),null!=i&&u.on("error",i).on("load",function(t){i(null,t)}),o.beforesend.call(u,s),s.send(null==r?null:r),u},u.abort=function(){return s.abort(),u},Qu.rebind(u,o,"on"),null==r?u:u.get(Ot(r))}function Ot(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function Tt(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function Dt(){var t=Rt(),n=qt()-t;n>24?(isFinite(n)&&(clearTimeout(ra),ra=setTimeout(Dt,n)),ea=0):(ea=1,ua(Dt))}function Rt(){var t=Date.now();for(ia=ta;ia;)t>=ia.t&&(ia.f=ia.c(t-ia.t)),ia=ia.n;return t}function qt(){for(var t,n=ta,e=1/0;n;)n.f?n=t?t.n=n.n:ta=n.n:(n.t<e&&(e=n.t),n=(t=n).n);return na=t,e}function Ft(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function It(t,n){var e=Math.pow(10,3*po(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}function Yt(t){var n=t.decimal,e=t.thousands,r=t.grouping,i=t.currency,u=r&&e?function(t,n){for(var i=t.length,u=[],o=0,a=r[0],s=0;i>0&&a>0&&(s+a+1>n&&(a=Math.max(1,n-s)),u.push(t.substring(i-=a,i+a)),!((s+=a+1)>n));)a=r[o=(o+1)%r.length];return u.reverse().join(e)}:jt;return function(t){var e=aa.exec(t),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",s=e[4]||"",l=e[5],c=+e[6],f=e[7],h=e[8],p=e[9],g=1,d="",v="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),p){case"n":f=!0,p="g";break;case"%":g=100,v="%",p="f";break;case"p":g=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===s&&(d="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===s&&(d=i[0],v=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=sa.get(p)||Ut;var x=l&&f;return function(t){var e=v;if(y&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>g){var s=Qu.formatPrefix(t,h);t=s.scale(t),e=s.symbol+v}else t*=g;t=p(t,h);var b,_,M=t.lastIndexOf(".");if(0>M){var w=m?t.lastIndexOf("e"):-1;0>w?(b=t,_=""):(b=t.substring(0,w),_=t.substring(w))}else b=t.substring(0,M),_=n+t.substring(M+1);!l&&f&&(b=u(b,1/0));var k=d.length+b.length+_.length+(x?0:i.length),S=c>k?new Array(k=c-k+1).join(r):"";return x&&(b=u(S+b,S.length?c-_.length:1/0)),i+=d,t=b+_,("<"===o?i+t+S:">"===o?S+i+t:"^"===o?S.substring(0,k>>=1)+i+t+S.substring(k):i+(x?t:S+t))+e}}}function Ut(t){return t+""}function Xt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ht(t,n,e){function r(n){var e=t(n),r=u(e,1);return r-n>n-e?e:r}function i(e){return n(e=t(new ca(e-1)),1),e}function u(t,e){return n(t=new ca(+t),e),t}function o(t,r,u){var o=i(t),a=[];if(u>1)for(;r>o;)e(o)%u||a.push(new Date(+o)),n(o,1);else for(;r>o;)a.push(new Date(+o)),n(o,1);return a}function a(t,n,e){try{ca=Xt;var r=new Xt;return r._=t,o(r,n,e)}finally{ca=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=u,t.range=o;var s=t.utc=Bt(t);return s.floor=s,s.round=Bt(r),s.ceil=Bt(i),s.offset=Bt(u),s.range=a,t}function Bt(t){return function(n,e){try{ca=Xt;var r=new Xt;return r._=n,t(r,e)._}finally{ca=Date}}}function Wt(t){function n(t){function n(n){for(var e,i,u,o=[],a=-1,s=0;++a<r;)37===t.charCodeAt(a)&&(o.push(t.slice(s,a)),null!=(i=ha[e=t.charAt(++a)])&&(e=t.charAt(++a)),(u=N[e])&&(e=u(n,null==i?"e"===e?" ":"0":i)),o.push(e),s=a+1);return o.push(t.slice(s,a)),o.join("")}var r=t.length;return n.parse=function(n){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,t,n,0);if(i!=n.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&ca!==Xt,o=new(u?Xt:ca);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?o._:o},n.toString=function(){return t},n}function e(t,n,e,r){for(var i,u,o,a=0,s=n.length,l=e.length;s>a;){if(r>=l)return-1;if(i=n.charCodeAt(a++),37===i){if(o=n.charAt(a++),u=A[o in ha?n.charAt(a++):o],!u||(r=u(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(t,n,e){M.lastIndex=0;var r=M.exec(n.slice(e));return r?(t.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(t,n,e){b.lastIndex=0;var r=b.exec(n.slice(e));return r?(t.w=_.get(r[0].toLowerCase()),e+r[0].length):-1}function u(t,n,e){C.lastIndex=0;var r=C.exec(n.slice(e));return r?(t.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(t,n,e){k.lastIndex=0;var r=k.exec(n.slice(e));return r?(t.m=S.get(r[0].toLowerCase()),e+r[0].length):-1}function a(t,n,r){return e(t,N.c.toString(),n,r)}function s(t,n,r){return e(t,N.x.toString(),n,r)}function l(t,n,r){return e(t,N.X.toString(),n,r)}function c(t,n,e){var r=x.get(n.slice(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)}var f=t.dateTime,h=t.date,p=t.time,g=t.periods,d=t.days,v=t.shortDays,y=t.months,m=t.shortMonths;n.utc=function(t){function e(t){try{ca=Xt;var n=new ca;return n._=t,r(n)}finally{ca=Date}}var r=n(t);return e.parse=function(t){try{ca=Xt;var n=r.parse(t);return n&&n._}finally{ca=Date}},e.toString=r.toString,e},n.multi=n.utc.multi=pn;var x=Qu.map(),b=$t(d),_=Vt(d),M=$t(v),w=Vt(v),k=$t(y),S=Vt(y),C=$t(m),E=Vt(m);g.forEach(function(t,n){x.set(t.toLowerCase(),n)});var N={a:function(t){return v[t.getDay()]},A:function(t){return d[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:n(f),d:function(t,n){return Zt(t.getDate(),n,2)},e:function(t,n){return Zt(t.getDate(),n,2)},H:function(t,n){return Zt(t.getHours(),n,2)},I:function(t,n){return Zt(t.getHours()%12||12,n,2)},j:function(t,n){return Zt(1+la.dayOfYear(t),n,3)},L:function(t,n){return Zt(t.getMilliseconds(),n,3)},m:function(t,n){return Zt(t.getMonth()+1,n,2)},M:function(t,n){return Zt(t.getMinutes(),n,2)},p:function(t){return g[+(t.getHours()>=12)]},S:function(t,n){return Zt(t.getSeconds(),n,2)},U:function(t,n){return Zt(la.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Zt(la.mondayOfYear(t),n,2)},x:n(h),X:n(p),y:function(t,n){return Zt(t.getFullYear()%100,n,2)},Y:function(t,n){return Zt(t.getFullYear()%1e4,n,4)},Z:fn,"%":function(){return"%"}},A={a:r,A:i,b:u,B:o,c:a,d:un,e:un,H:an,I:an,j:on,L:cn,m:rn,M:sn,p:c,S:ln,U:Jt,w:Gt,W:Kt,x:s,X:l,y:tn,Y:Qt,Z:nn,"%":hn};return n}function Zt(t,n,e){var r=0>t?"-":"",i=(r?-t:t)+"",u=i.length;return r+(e>u?new Array(e-u+1).join(n)+i:i)}function $t(t){return new RegExp("^(?:"+t.map(Qu.requote).join("|")+")","i")}function Vt(t){for(var n=new h,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function Gt(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Jt(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function Kt(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function Qt(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function tn(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+2));return r?(t.y=en(+r[0]),e+r[0].length):-1}function nn(t,n,e){return/^[+-]\d{4}$/.test(n=n.slice(e,e+5))?(t.Z=-n,e+5):-1}function en(t){return t+(t>68?1900:2e3)}function rn(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function un(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function on(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function an(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function sn(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ln(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function cn(t,n,e){pa.lastIndex=0;var r=pa.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function fn(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=po(n)/60|0,i=po(n)%60;return e+Zt(r,"0",2)+Zt(i,"0",2)}function hn(t,n,e){ga.lastIndex=0;var r=ga.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function pn(t){for(var n=t.length,e=-1;++e<n;)t[e][0]=this(t[e][0]);return function(n){for(var e=0,r=t[e];!r[1](n);)r=t[++e];return r[0](n)}}function gn(){}function dn(t,n,e){var r=e.s=t+n,i=r-t,u=r-i;e.t=t-u+(n-i)}function vn(t,n){t&&ma.hasOwnProperty(t.type)&&ma[t.type](t,n)}function yn(t,n,e){var r,i=-1,u=t.length-e;for(n.lineStart();++i<u;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function mn(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)yn(t[e],n,1);n.polygonEnd()}function xn(){function t(t,n){t*=Ro,n=n*Ro/2+Po/4;var e=t-r,o=e>=0?1:-1,a=o*e,s=Math.cos(n),l=Math.sin(n),c=u*l,f=i*s+c*Math.cos(a),h=c*o*Math.sin(a);ba.add(Math.atan2(h,f)),r=t,i=s,u=l}var n,e,r,i,u;_a.point=function(o,a){_a.point=t,r=(n=o)*Ro,i=Math.cos(a=(e=a)*Ro/2+Po/4),u=Math.sin(a)},_a.lineEnd=function(){t(n,e)}}function bn(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function _n(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Mn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function wn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function kn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Sn(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Cn(t){return[Math.atan2(t[1],t[0]),ut(t[2])]}function En(t,n){return po(t[0]-n[0])<To&&po(t[1]-n[1])<To}function Nn(t,n){t*=Ro;var e=Math.cos(n*=Ro);An(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function An(t,n,e){++Ma,ka+=(t-ka)/Ma,Sa+=(n-Sa)/Ma,Ca+=(e-Ca)/Ma}function zn(){function t(t,i){t*=Ro;var u=Math.cos(i*=Ro),o=u*Math.cos(t),a=u*Math.sin(t),s=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*s-r*a)*l+(l=r*o-n*s)*l+(l=n*a-e*o)*l),n*o+e*a+r*s);wa+=l,Ea+=l*(n+(n=o)),Na+=l*(e+(e=a)),Aa+=l*(r+(r=s)),An(n,e,r)}var n,e,r;La.point=function(i,u){i*=Ro;var o=Math.cos(u*=Ro);n=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),La.point=t,An(n,e,r)}}function jn(){La.point=Nn}function Pn(){function t(t,n){t*=Ro;var e=Math.cos(n*=Ro),o=e*Math.cos(t),a=e*Math.sin(t),s=Math.sin(n),l=i*s-u*a,c=u*o-r*s,f=r*a-i*o,h=Math.sqrt(l*l+c*c+f*f),p=r*o+i*a+u*s,g=h&&-it(p)/h,d=Math.atan2(h,p);za+=g*l,ja+=g*c,Pa+=g*f,wa+=d,Ea+=d*(r+(r=o)),Na+=d*(i+(i=a)),Aa+=d*(u+(u=s)),An(r,i,u)}var n,e,r,i,u;La.point=function(o,a){n=o,e=a,La.point=t,o*=Ro;var s=Math.cos(a*=Ro);r=s*Math.cos(o),i=s*Math.sin(o),u=Math.sin(a),An(r,i,u)},La.lineEnd=function(){t(n,e),La.lineEnd=jn,La.point=Nn}}function Ln(){return!0}function On(t,n,e,r,i){var u=[],o=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(En(e,r)){i.lineStart();for(var a=0;n>a;++a)i.point((e=t[a])[0],e[1]);return void i.lineEnd()}var s=new Dn(e,t,null,!0),l=new Dn(e,null,s,!1);s.o=l,u.push(s),o.push(l),s=new Dn(r,t,null,!1),l=new Dn(r,null,s,!0),s.o=l,u.push(s),o.push(l)}}),o.sort(n),Tn(u),Tn(o),u.length){for(var a=0,s=e,l=o.length;l>a;++a)o[a].e=s=!s;for(var c,f,h=u[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,l=c.length;l>a;++a)i.point((f=c[a])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){c=p.p.z;for(var a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,g=!g}while(!p.v);i.lineEnd()}}}function Tn(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Dn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rn(t,n,e,r){return function(i,u){function o(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&u.point(n,e)}function a(t,n){var e=i(t,n);v.point(e[0],e[1])}function s(){m.point=a,v.lineStart()}function l(){m.point=o,v.lineEnd()}function c(t,n){d.push([t,n]);var e=i(t,n);b.point(e[0],e[1])}function f(){b.lineStart(),d=[]}function h(){c(d[0][0],d[0][1]),b.lineEnd();var t,n=b.clean(),e=x.buffer(),r=e.length;if(d.pop(),g.push(d),d=null,r)if(1&n){t=e[0];var i,r=t.length-1,o=-1;if(r>0){for(_||(u.polygonStart(),_=!0),u.lineStart();++o<r;)u.point((i=t[o])[0],i[1]);u.lineEnd()}}else r>1&&2&n&&e.push(e.pop().concat(e.shift())),p.push(e.filter(qn))}var p,g,d,v=n(u),y=i.invert(r[0],r[1]),m={point:o,lineStart:s,lineEnd:l,polygonStart:function(){m.point=c,m.lineStart=f,m.lineEnd=h,p=[],g=[]},polygonEnd:function(){m.point=o,m.lineStart=s,m.lineEnd=l,p=Qu.merge(p);var t=Hn(y,g);p.length?(_||(u.polygonStart(),_=!0),On(p,In,t,e,u)):t&&(_||(u.polygonStart(),_=!0),u.lineStart(),e(null,null,1,u),u.lineEnd()),_&&(u.polygonEnd(),_=!1),p=g=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},x=Fn(),b=n(x),_=!1;return m}}function qn(t){return t.length>1}function Fn(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:w,buffer:function e(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function In(t,n){return((t=t.x)[0]<0?t[1]-Oo-To:Oo-t[1])-((n=n.x)[0]<0?n[1]-Oo-To:Oo-n[1])}function Yn(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(u,o){var a=u>0?Po:-Po,s=po(u-e);po(s-Po)<To?(t.point(e,r=(r+o)/2>0?Oo:-Oo),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(u,r),n=0):i!==a&&s>=Po&&(po(e-i)<To&&(e-=i*To),po(u-a)<To&&(u-=a*To),r=Un(e,r,u,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=u,r=o),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function Un(t,n,e,r){var i,u,o=Math.sin(t-e);return po(o)>To?Math.atan((Math.sin(n)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(n))*Math.sin(t))/(i*u*o)):(n+r)/2}function Xn(t,n,e,r){var i;if(null==t)i=e*Oo,r.point(-Po,i),r.point(0,i),r.point(Po,i),r.point(Po,0),r.point(Po,-i),r.point(0,-i),r.point(-Po,-i),r.point(-Po,0),r.point(-Po,i);else if(po(t[0]-n[0])>To){var u=t[0]<n[0]?Po:-Po;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(n[0],n[1])}function Hn(t,n){var e=t[0],r=t[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;ba.reset();for(var a=0,s=n.length;s>a;++a){var l=n[a],c=l.length;if(c)for(var f=l[0],h=f[0],p=f[1]/2+Po/4,g=Math.sin(p),d=Math.cos(p),v=1;;){v===c&&(v=0),t=l[v];var y=t[0],m=t[1]/2+Po/4,x=Math.sin(m),b=Math.cos(m),_=y-h,M=_>=0?1:-1,w=M*_,k=w>Po,S=g*x;if(ba.add(Math.atan2(S*M*Math.sin(w),d*b+S*Math.cos(w))),u+=k?_+M*Lo:_,k^h>=e^y>=e){var C=Mn(bn(f),bn(t));Sn(C);var E=Mn(i,C);Sn(E);var N=(k^_>=0?-1:1)*ut(E[2]);(r>N||r===N&&(C[0]||C[1]))&&(o+=k^_>=0?1:-1)}if(!v++)break;h=y,g=x,d=b,f=t}}return(-To>u||To>u&&0>ba)^1&o}function Bn(t){function n(t,n){return Math.cos(t)*Math.cos(n)>u}function e(t){var e,u,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var p,g=[f,h],d=n(f,h),v=o?d?0:i(f,h):d?i(f+(0>f?Po:-Po),h):0;if(!e&&(l=s=d)&&t.lineStart(),d!==s&&(p=r(e,g),(En(e,p)||En(g,p))&&(g[0]+=To,g[1]+=To,d=n(g[0],g[1]))),d!==s)c=0,d?(t.lineStart(),p=r(g,e),t.point(p[0],p[1])):(p=r(e,g),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&o^d){var y;v&u||!(y=r(g,e,!0))||(c=0,o?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!d||e&&En(e,g)||t.point(g[0],g[1]),e=g,s=d,u=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(l&&s)<<1}}}function r(t,n,e){var r=bn(t),i=bn(n),o=[1,0,0],a=Mn(r,i),s=_n(a,a),l=a[0],c=s-l*l;if(!c)return!e&&t;var f=u*s/c,h=-u*l/c,p=Mn(o,a),g=kn(o,f),d=kn(a,h);wn(g,d);var v=p,y=_n(g,v),m=_n(v,v),x=y*y-m*(_n(g,g)-1);if(!(0>x)){var b=Math.sqrt(x),_=kn(v,(-y-b)/m);if(wn(_,g),_=Cn(_),!e)return _;var M,w=t[0],k=n[0],S=t[1],C=n[1];w>k&&(M=w,w=k,k=M);var E=k-w,N=po(E-Po)<To,A=N||To>E;if(!N&&S>C&&(M=S,S=C,C=M),A?N?S+C>0^_[1]<(po(_[0]-w)<To?S:C):S<=_[1]&&_[1]<=C:E>Po^(w<=_[0]&&_[0]<=k)){var z=kn(v,(-y+b)/m);return wn(z,g),[_,Cn(z)]}}}function i(n,e){var r=o?t:Po-t,i=0;return-r>n?i|=1:n>r&&(i|=2),-r>e?i|=4:e>r&&(i|=8),i}var u=Math.cos(t),o=u>0,a=po(u)>To,s=xe(t,6*Ro);return Rn(n,e,s,o?[0,-t]:[-Po,t-Po])}function Wn(t,n,e,r){return function(i){var u,o=i.a,a=i.b,s=o.x,l=o.y,c=a.x,f=a.y,h=0,p=1,g=c-s,d=f-l;if(u=t-s,g||!(u>0)){if(u/=g,0>g){if(h>u)return;p>u&&(p=u)}else if(g>0){if(u>p)return;u>h&&(h=u)}if(u=e-s,g||!(0>u)){if(u/=g,0>g){if(u>p)return;u>h&&(h=u)}else if(g>0){if(h>u)return;p>u&&(p=u)}if(u=n-l,d||!(u>0)){if(u/=d,0>d){if(h>u)return;p>u&&(p=u)}else if(d>0){if(u>p)return;u>h&&(h=u)}if(u=r-l,d||!(0>u)){if(u/=d,0>d){if(u>p)return;u>h&&(h=u)}else if(d>0){if(h>u)return;p>u&&(p=u)}return h>0&&(i.a={x:s+h*g,y:l+h*d}),1>p&&(i.b={x:s+p*g,y:l+p*d}),i}}}}}}function Zn(t,n,e,r){function i(r,i){return po(r[0]-t)<To?i>0?0:3:po(r[0]-e)<To?i>0?2:1:po(r[1]-n)<To?i>0?1:0:i>0?3:2}function u(t,n){return o(t.x,n.x)}function o(t,n){var e=i(t,1),r=i(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){function s(t){for(var n=0,e=v.length,r=t[1],i=0;e>i;++i)for(var u,o=1,a=v[i],s=a.length,l=a[0];s>o;++o)u=a[o],l[1]<=r?u[1]>r&&rt(l,u,t)>0&&++n:u[1]<=r&&rt(l,u,t)<0&&--n,l=u;return 0!==n}function l(u,a,s,l){var c=0,f=0;if(null==u||(c=i(u,s))!==(f=i(a,s))||o(u,a)<0^s>0){do l.point(0===c||3===c?t:e,c>1?r:n);while((c=(c+s+4)%4)!==f)}else l.point(a[0],a[1])}function c(i,u){return i>=t&&e>=i&&u>=n&&r>=u}function f(t,n){c(t,n)&&a.point(t,n)}function h(){A.point=g,v&&v.push(y=[]),k=!0,w=!1,_=M=NaN}function p(){d&&(g(m,x),b&&w&&E.rejoin(),d.push(E.buffer())),A.point=f,w&&a.lineEnd()}function g(t,n){t=Math.max(-Ta,Math.min(Ta,t)),n=Math.max(-Ta,Math.min(Ta,n));var e=c(t,n);if(v&&y.push([t,n]),k)m=t,x=n,b=e,k=!1,e&&(a.lineStart(),a.point(t,n));else if(e&&w)a.point(t,n);else{var r={a:{x:_,y:M},b:{x:t,y:n}};N(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),S=!1):e&&(a.lineStart(),a.point(t,n),S=!1)}_=t,M=n,w=e}var d,v,y,m,x,b,_,M,w,k,S,C=a,E=Fn(),N=Wn(t,n,e,r),A={point:f,lineStart:h,lineEnd:p,polygonStart:function(){a=E,d=[],v=[],S=!0},polygonEnd:function(){a=C,d=Qu.merge(d);var n=s([t,r]),e=S&&n,i=d.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),i&&On(d,u,n,l,a),a.polygonEnd()),d=v=y=null}};return A}}function $n(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function Vn(t){var n=0,e=Po/3,r=fe(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Po/180,e=t[1]*Po/180):[n/Po*180,e/Po*180]},i}function Gn(t,n){function e(t,n){var e=Math.sqrt(u-2*i*Math.sin(n))/i;return[e*Math.sin(t*=i),o-e*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(n))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/i,ut((u-(t*t+e*e)*i*i)/(2*i))]},e}function Jn(){function t(t,n){Ra+=i*t-r*n,r=t,i=n}var n,e,r,i;Ua.point=function(u,o){Ua.point=t,n=r=u,e=i=o},Ua.lineEnd=function(){t(n,e)}}function Kn(t,n){qa>t&&(qa=t),t>Ia&&(Ia=t),Fa>n&&(Fa=n),n>Ya&&(Ya=n)}function Qn(){function t(t,n){o.push("M",t,",",n,u)}function n(t,n){o.push("M",t,",",n),a.point=e}function e(t,n){o.push("L",t,",",n)}function r(){a.point=t}function i(){o.push("Z")}var u=te(4.5),o=[],a={point:t,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=t},pointRadius:function(t){return u=te(t),a},result:function s(){if(o.length){var s=o.join("");return o=[],s}}};return a;
}function te(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ne(t,n){ka+=t,Sa+=n,++Ca}function ee(){function t(t,r){var i=t-n,u=r-e,o=Math.sqrt(i*i+u*u);Ea+=o*(n+t)/2,Na+=o*(e+r)/2,Aa+=o,ne(n=t,e=r)}var n,e;Ha.point=function(r,i){Ha.point=t,ne(n=r,e=i)}}function re(){Ha.point=ne}function ie(){function t(t,n){var e=t-r,u=n-i,o=Math.sqrt(e*e+u*u);Ea+=o*(r+t)/2,Na+=o*(i+n)/2,Aa+=o,o=i*t-r*n,za+=o*(r+t),ja+=o*(i+n),Pa+=3*o,ne(r=t,i=n)}var n,e,r,i;Ha.point=function(u,o){Ha.point=t,ne(n=r=u,e=i=o)},Ha.lineEnd=function(){t(n,e)}}function ue(t){function n(n,e){t.moveTo(n,e),t.arc(n,e,o,0,Lo)}function e(n,e){t.moveTo(n,e),a.point=r}function r(n,e){t.lineTo(n,e)}function i(){a.point=n}function u(){t.closePath()}var o=4.5,a={point:n,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=n},pointRadius:function(t){return o=t,a},result:w};return a}function oe(t){function n(t){return(a?r:e)(t)}function e(n){return le(n,function(e,r){e=t(e,r),n.point(e[0],e[1])})}function r(n){function e(e,r){e=t(e,r),n.point(e[0],e[1])}function r(){x=NaN,k.point=u,n.lineStart()}function u(e,r){var u=bn([e,r]),o=t(e,r);i(x,b,m,_,M,w,x=o[0],b=o[1],m=e,_=u[0],M=u[1],w=u[2],a,n),n.point(x,b)}function o(){k.point=e,n.lineEnd()}function s(){r(),k.point=l,k.lineEnd=c}function l(t,n){u(f=t,h=n),p=x,g=b,d=_,v=M,y=w,k.point=u}function c(){i(x,b,m,_,M,w,p,g,f,d,v,y,a,n),k.lineEnd=o,o()}var f,h,p,g,d,v,y,m,x,b,_,M,w,k={point:e,lineStart:r,lineEnd:o,polygonStart:function(){n.polygonStart(),k.lineStart=s},polygonEnd:function(){n.polygonEnd(),k.lineStart=r}};return k}function i(n,e,r,a,s,l,c,f,h,p,g,d,v,y){var m=c-n,x=f-e,b=m*m+x*x;if(b>4*u&&v--){var _=a+p,M=s+g,w=l+d,k=Math.sqrt(_*_+M*M+w*w),S=Math.asin(w/=k),C=po(po(w)-1)<To||po(r-h)<To?(r+h)/2:Math.atan2(M,_),E=t(C,S),N=E[0],A=E[1],z=N-n,j=A-e,P=x*z-m*j;(P*P/b>u||po((m*z+x*j)/b-.5)>.3||o>a*p+s*g+l*d)&&(i(n,e,r,a,s,l,N,A,C,_/=k,M/=k,w,v,y),y.point(N,A),i(N,A,C,_,M,w,c,f,h,p,g,d,v,y))}}var u=.5,o=Math.cos(30*Ro),a=16;return n.precision=function(t){return arguments.length?(a=(u=t*t)>0&&16,n):Math.sqrt(u)},n}function ae(t){var n=oe(function(n,e){return t([n*qo,e*qo])});return function(t){return he(n(t))}}function se(t){this.stream=t}function le(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ce(t){return fe(function(){return t})()}function fe(t){function n(t){return t=a(t[0]*Ro,t[1]*Ro),[t[0]*h+s,l-t[1]*h]}function e(t){return t=a.invert((t[0]-s)/h,(l-t[1])/h),t&&[t[0]*qo,t[1]*qo]}function r(){a=$n(o=de(y,m,x),u);var t=u(d,v);return s=p-t[0]*h,l=g+t[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),n}var u,o,a,s,l,c,f=oe(function(t,n){return t=u(t,n),[t[0]*h+s,l-t[1]*h]}),h=150,p=480,g=250,d=0,v=0,y=0,m=0,x=0,b=Oa,_=jt,M=null,w=null;return n.stream=function(t){return c&&(c.valid=!1),c=he(b(o,f(_(t)))),c.valid=!0,c},n.clipAngle=function(t){return arguments.length?(b=null==t?(M=t,Oa):Bn((M=+t)*Ro),i()):M},n.clipExtent=function(t){return arguments.length?(w=t,_=t?Zn(t[0][0],t[0][1],t[1][0],t[1][1]):jt,i()):w},n.scale=function(t){return arguments.length?(h=+t,r()):h},n.translate=function(t){return arguments.length?(p=+t[0],g=+t[1],r()):[p,g]},n.center=function(t){return arguments.length?(d=t[0]%360*Ro,v=t[1]%360*Ro,r()):[d*qo,v*qo]},n.rotate=function(t){return arguments.length?(y=t[0]%360*Ro,m=t[1]%360*Ro,x=t.length>2?t[2]%360*Ro:0,r()):[y*qo,m*qo,x*qo]},Qu.rebind(n,f,"precision"),function(){return u=t.apply(this,arguments),n.invert=u.invert&&e,r()}}function he(t){return le(t,function(n,e){t.point(n*Ro,e*Ro)})}function pe(t,n){return[t,n]}function ge(t,n){return[t>Po?t-Lo:-Po>t?t+Lo:t,n]}function de(t,n,e){return t?n||e?$n(ye(t),me(n,e)):ye(t):n||e?me(n,e):ge}function ve(t){return function(n,e){return n+=t,[n>Po?n-Lo:-Po>n?n+Lo:n,e]}}function ye(t){var n=ve(t);return n.invert=ve(-t),n}function me(t,n){function e(t,n){var e=Math.cos(n),a=Math.cos(t)*e,s=Math.sin(t)*e,l=Math.sin(n),c=l*r+a*i;return[Math.atan2(s*u-c*o,a*r-l*i),ut(c*u+s*o)]}var r=Math.cos(t),i=Math.sin(t),u=Math.cos(n),o=Math.sin(n);return e.invert=function(t,n){var e=Math.cos(n),a=Math.cos(t)*e,s=Math.sin(t)*e,l=Math.sin(n),c=l*u-s*o;return[Math.atan2(s*u+l*o,a*r+c*i),ut(c*r-a*i)]},e}function xe(t,n){var e=Math.cos(t),r=Math.sin(t);return function(i,u,o,a){var s=o*n;null!=i?(i=be(e,i),u=be(e,u),(o>0?u>i:i>u)&&(i+=o*Lo)):(i=t+o*Lo,u=t-.5*s);for(var l,c=i;o>0?c>u:u>c;c-=s)a.point((l=Cn([e,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function be(t,n){var e=bn(n);e[0]-=t,Sn(e);var r=it(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-To)%(2*Math.PI)}function _e(t,n,e){var r=Qu.range(t,n-To,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Me(t,n,e){var r=Qu.range(t,n-To,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function we(t){return t.source}function ke(t){return t.target}function Se(t,n,e,r){var i=Math.cos(n),u=Math.sin(n),o=Math.cos(r),a=Math.sin(r),s=i*Math.cos(t),l=i*Math.sin(t),c=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(lt(r-n)+i*o*lt(e-t))),p=1/Math.sin(h),g=h?function(t){var n=Math.sin(t*=h)*p,e=Math.sin(h-t)*p,r=e*s+n*c,i=e*l+n*f,o=e*u+n*a;return[Math.atan2(i,r)*qo,Math.atan2(o,Math.sqrt(r*r+i*i))*qo]}:function(){return[t*qo,n*qo]};return g.distance=h,g}function Ce(){function t(t,i){var u=Math.sin(i*=Ro),o=Math.cos(i),a=po((t*=Ro)-n),s=Math.cos(a);Ba+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*s)*a),e*u+r*o*s),n=t,e=u,r=o}var n,e,r;Wa.point=function(i,u){n=i*Ro,e=Math.sin(u*=Ro),r=Math.cos(u),Wa.point=t},Wa.lineEnd=function(){Wa.point=Wa.lineEnd=w}}function Ee(t,n){function e(n,e){var r=Math.cos(n),i=Math.cos(e),u=t(r*i);return[u*i*Math.sin(n),u*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),i=n(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*u,r*o),Math.asin(r&&e*u/r)]},e}function Ne(t,n){function e(t,n){o>0?-Oo+To>n&&(n=-Oo+To):n>Oo-To&&(n=Oo-To);var e=o/Math.pow(i(n),u);return[e*Math.sin(u*t),o-e*Math.cos(u*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Po/4+t/2)},u=t===n?Math.sin(t):Math.log(r/Math.cos(n))/Math.log(i(n)/i(t)),o=r*Math.pow(i(t),u)/u;return u?(e.invert=function(t,n){var e=o-n,r=et(u)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/u,2*Math.atan(Math.pow(o/r,1/u))-Oo]},e):ze}function Ae(t,n){function e(t,n){var e=u-n;return[e*Math.sin(i*t),u-e*Math.cos(i*t)]}var r=Math.cos(t),i=t===n?Math.sin(t):(r-Math.cos(n))/(n-t),u=r/i+t;return po(i)<To?pe:(e.invert=function(t,n){var e=u-n;return[Math.atan2(t,e)/i,u-et(i)*Math.sqrt(t*t+e*e)]},e)}function ze(t,n){return[t,Math.log(Math.tan(Po/4+n/2))]}function je(t){var n,e=ce(t),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=i.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var o=u.apply(e,arguments);if(o===e){if(n=null==t){var a=Po*r(),s=i();u([[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]])}}else n&&(o=null);return o},e.clipExtent(null)}function Pe(t,n){return[Math.log(Math.tan(Po/4+n/2)),-t]}function Le(t){return t[0]}function Oe(t){return t[1]}function Te(t){for(var n=t.length,e=[0,1],r=2,i=2;n>i;i++){for(;r>1&&rt(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function De(t,n){return t[0]-n[0]||t[1]-n[1]}function Re(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function qe(t,n,e,r){var i=t[0],u=e[0],o=n[0]-i,a=r[0]-u,s=t[1],l=e[1],c=n[1]-s,f=r[1]-l,h=(a*(s-l)-f*(i-u))/(f*o-a*c);return[i+h*o,s+h*c]}function Fe(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}function Ie(){ar(this),this.edge=this.site=this.circle=null}function Ye(t){var n=is.pop()||new Ie;return n.site=t,n}function Ue(t){Ke(t),ns.remove(t),is.push(t),ar(t)}function Xe(t){var n=t.circle,e=n.x,r=n.cy,i={x:e,y:r},u=t.P,o=t.N,a=[t];Ue(t);for(var s=u;s.circle&&po(e-s.circle.x)<To&&po(r-s.circle.cy)<To;)u=s.P,a.unshift(s),Ue(s),s=u;a.unshift(s),Ke(s);for(var l=o;l.circle&&po(e-l.circle.x)<To&&po(r-l.circle.cy)<To;)o=l.N,a.push(l),Ue(l),l=o;a.push(l),Ke(l);var c,f=a.length;for(c=1;f>c;++c)l=a[c],s=a[c-1],ir(l.edge,s.site,l.site,i);s=a[0],l=a[f-1],l.edge=er(s.site,l.site,null,i),Je(s),Je(l)}function He(t){for(var n,e,r,i,u=t.x,o=t.y,a=ns._;a;)if(r=Be(a,o)-u,r>To)a=a.L;else{if(i=u-We(a,o),!(i>To)){r>-To?(n=a.P,e=a):i>-To?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}var s=Ye(t);if(ns.insert(n,s),n||e){if(n===e)return Ke(n),e=Ye(n.site),ns.insert(s,e),s.edge=e.edge=er(n.site,s.site),Je(n),void Je(e);if(!e)return void(s.edge=er(n.site,s.site));Ke(n),Ke(e);var l=n.site,c=l.x,f=l.y,h=t.x-c,p=t.y-f,g=e.site,d=g.x-c,v=g.y-f,y=2*(h*v-p*d),m=h*h+p*p,x=d*d+v*v,b={x:(v*m-p*x)/y+c,y:(h*x-d*m)/y+f};ir(e.edge,l,g,b),s.edge=er(l,t,null,b),e.edge=er(t,g,null,b),Je(n),Je(e)}}function Be(t,n){var e=t.site,r=e.x,i=e.y,u=i-n;if(!u)return r;var o=t.P;if(!o)return-(1/0);e=o.site;var a=e.x,s=e.y,l=s-n;if(!l)return a;var c=a-r,f=1/u-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-s+l/2+i-u/2)))/f+r:(r+a)/2}function We(t,n){var e=t.N;if(e)return Be(e,n);var r=t.site;return r.y===n?r.x:1/0}function Ze(t){this.site=t,this.edges=[]}function $e(t){for(var n,e,r,i,u,o,a,s,l,c,f=t[0][0],h=t[1][0],p=t[0][1],g=t[1][1],d=ts,v=d.length;v--;)if(u=d[v],u&&u.prepare())for(a=u.edges,s=a.length,o=0;s>o;)c=a[o].end(),r=c.x,i=c.y,l=a[++o%s].start(),n=l.x,e=l.y,(po(r-n)>To||po(i-e)>To)&&(a.splice(o,0,new ur(rr(u.site,c,po(r-f)<To&&g-i>To?{x:f,y:po(n-f)<To?e:g}:po(i-g)<To&&h-r>To?{x:po(e-g)<To?n:h,y:g}:po(r-h)<To&&i-p>To?{x:h,y:po(n-h)<To?e:p}:po(i-p)<To&&r-f>To?{x:po(e-p)<To?n:f,y:p}:null),u.site,null)),++s)}function Ve(t,n){return n.angle-t.angle}function Ge(){ar(this),this.x=this.y=this.arc=this.site=this.cy=null}function Je(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,u=e.site;if(r!==u){var o=i.x,a=i.y,s=r.x-o,l=r.y-a,c=u.x-o,f=u.y-a,h=2*(s*f-l*c);if(!(h>=-Do)){var p=s*s+l*l,g=c*c+f*f,d=(f*p-l*g)/h,v=(s*g-c*p)/h,f=v+a,y=us.pop()||new Ge;y.arc=t,y.site=i,y.x=d+o,y.y=f+Math.sqrt(d*d+v*v),y.cy=f,t.circle=y;for(var m=null,x=rs._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}rs.insert(m,y),m||(es=y)}}}}function Ke(t){var n=t.circle;n&&(n.P||(es=n.N),rs.remove(n),us.push(n),ar(n),t.circle=null)}function Qe(t){for(var n,e=Qa,r=Wn(t[0][0],t[0][1],t[1][0],t[1][1]),i=e.length;i--;)n=e[i],(!tr(n,t)||!r(n)||po(n.a.x-n.b.x)<To&&po(n.a.y-n.b.y)<To)&&(n.a=n.b=null,e.splice(i,1))}function tr(t,n){var e=t.b;if(e)return!0;var r,i,u=t.a,o=n[0][0],a=n[1][0],s=n[0][1],l=n[1][1],c=t.l,f=t.r,h=c.x,p=c.y,g=f.x,d=f.y,v=(h+g)/2,y=(p+d)/2;if(d===p){if(o>v||v>=a)return;if(h>g){if(u){if(u.y>=l)return}else u={x:v,y:s};e={x:v,y:l}}else{if(u){if(u.y<s)return}else u={x:v,y:l};e={x:v,y:s}}}else if(r=(h-g)/(d-p),i=y-r*v,-1>r||r>1)if(h>g){if(u){if(u.y>=l)return}else u={x:(s-i)/r,y:s};e={x:(l-i)/r,y:l}}else{if(u){if(u.y<s)return}else u={x:(l-i)/r,y:l};e={x:(s-i)/r,y:s}}else if(d>p){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return t.a=u,t.b=e,!0}function nr(t,n){this.l=t,this.r=n,this.a=this.b=null}function er(t,n,e,r){var i=new nr(t,n);return Qa.push(i),e&&ir(i,t,n,e),r&&ir(i,n,t,r),ts[t.i].edges.push(new ur(i,t,n)),ts[n.i].edges.push(new ur(i,n,t)),i}function rr(t,n,e){var r=new nr(t,null);return r.a=n,r.b=e,Qa.push(r),r}function ir(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function ur(t,n,e){var r=t.a,i=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function or(){this._=null}function ar(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function sr(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function lr(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function cr(t){for(;t.L;)t=t.L;return t}function fr(t,n){var e,r,i,u=t.sort(hr).pop();for(Qa=[],ts=new Array(t.length),ns=new or,rs=new or;;)if(i=es,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))(u.x!==e||u.y!==r)&&(ts[u.i]=new Ze(u),He(u),e=u.x,r=u.y),u=t.pop();else{if(!i)break;Xe(i.arc)}n&&(Qe(n),$e(n));var o={cells:ts,edges:Qa};return ns=rs=Qa=ts=null,o}function hr(t,n){return n.y-t.y||n.x-t.x}function pr(t,n,e){return(t.x-e.x)*(n.y-t.y)-(t.x-n.x)*(e.y-t.y)}function gr(t){return t.x}function dr(t){return t.y}function vr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function yr(t,n,e,r,i,u){if(!t(n,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),s=n.nodes;s[0]&&yr(t,s[0],e,r,o,a),s[1]&&yr(t,s[1],o,r,i,a),s[2]&&yr(t,s[2],e,a,o,u),s[3]&&yr(t,s[3],o,a,i,u)}}function mr(t,n){t=Qu.rgb(t),n=Qu.rgb(n);var e=t.r,r=t.g,i=t.b,u=n.r-e,o=n.g-r,a=n.b-i;return function(t){return"#"+kt(Math.round(e+u*t))+kt(Math.round(r+o*t))+kt(Math.round(i+a*t))}}function xr(t,n){var e,r={},i={};for(e in t)e in n?r[e]=Mr(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function br(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function _r(t,n){var e,r,i,u=as.lastIndex=ss.lastIndex=0,o=-1,a=[],s=[];for(t+="",n+="";(e=as.exec(t))&&(r=ss.exec(n));)(i=r.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,s.push({i:o,x:br(e,r)})),u=ss.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?s[0]?(n=s[0].x,function(t){return n(t)+""}):function(){return n}:(n=s.length,function(t){for(var e,r=0;n>r;++r)a[(e=s[r]).i]=e.x(t);return a.join("")})}function Mr(t,n){for(var e,r=Qu.interpolators.length;--r>=0&&!(e=Qu.interpolators[r](t,n)););return e}function wr(t,n){var e,r=[],i=[],u=t.length,o=n.length,a=Math.min(t.length,n.length);for(e=0;a>e;++e)r.push(Mr(t[e],n[e]));for(;u>e;++e)i[e]=t[e];for(;o>e;++e)i[e]=n[e];return function(t){for(e=0;a>e;++e)i[e]=r[e](t);return i}}function kr(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function Sr(t){return function(n){return 1-t(1-n)}}function Cr(t){return function(n){return.5*(.5>n?t(2*n):2-t(2-2*n))}}function Er(t){return t*t}function Nr(t){return t*t*t}function Ar(t){if(0>=t)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(.5>t?e:3*(t-n)+e-.75)}function zr(t){return function(n){return Math.pow(n,t)}}function jr(t){return 1-Math.cos(t*Oo)}function Pr(t){return Math.pow(2,10*(t-1))}function Lr(t){return 1-Math.sqrt(1-t*t)}function Or(t,n){var e;return arguments.length<2&&(n=.45),arguments.length?e=n/Lo*Math.asin(1/t):(t=1,e=n/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*Lo/n)}}function Tr(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function Dr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,n){t=Qu.hcl(t),n=Qu.hcl(n);var e=t.h,r=t.c,i=t.l,u=n.h-e,o=n.c-r,a=n.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?n.c:r),isNaN(u)?(u=0,e=isNaN(e)?n.h:e):u>180?u-=360:-180>u&&(u+=360),function(t){return gt(e+u*t,r+o*t,i+a*t)+""}}function qr(t,n){t=Qu.hsl(t),n=Qu.hsl(n);var e=t.h,r=t.s,i=t.l,u=n.h-e,o=n.s-r,a=n.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?n.s:r),isNaN(u)?(u=0,e=isNaN(e)?n.h:e):u>180?u-=360:-180>u&&(u+=360),function(t){return ht(e+u*t,r+o*t,i+a*t)+""}}function Fr(t,n){t=Qu.lab(t),n=Qu.lab(n);var e=t.l,r=t.a,i=t.b,u=n.l-e,o=n.a-r,a=n.b-i;return function(t){return vt(e+u*t,r+o*t,i+a*t)+""}}function Ir(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function Yr(t){var n=[t.a,t.b],e=[t.c,t.d],r=Xr(n),i=Ur(n,e),u=Xr(Hr(e,n,-i))||0;n[0]*e[1]<e[0]*n[1]&&(n[0]*=-1,n[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*qo,this.translate=[t.e,t.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*qo:0}function Ur(t,n){return t[0]*n[0]+t[1]*n[1]}function Xr(t){var n=Math.sqrt(Ur(t,t));return n&&(t[0]/=n,t[1]/=n),n}function Hr(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}function Br(t,n){var e,r=[],i=[],u=Qu.transform(t),o=Qu.transform(n),a=u.translate,s=o.translate,l=u.rotate,c=o.rotate,f=u.skew,h=o.skew,p=u.scale,g=o.scale;return a[0]!=s[0]||a[1]!=s[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:br(a[0],s[0])},{i:3,x:br(a[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:br(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:br(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=g[0]||p[1]!=g[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:br(p[0],g[0])},{i:e-2,x:br(p[1],g[1])})):(1!=g[0]||1!=g[1])&&r.push(r.pop()+"scale("+g+")"),e=i.length,function(t){for(var n,u=-1;++u<e;)r[(n=i[u]).i]=n.x(t);return r.join("")}}function Wr(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function Zr(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function $r(t){for(var n=t.source,e=t.target,r=Gr(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Vr(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function Gr(t,n){if(t===n)return t;for(var e=Vr(t),r=Vr(n),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function Jr(t){t.fixed|=2}function Kr(t){t.fixed&=-7}function Qr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ti(t){t.fixed&=-5}function ni(t,n,e){var r=0,i=0;if(t.charge=0,!t.leaf)for(var u,o=t.nodes,a=o.length,s=-1;++s<a;)u=o[s],null!=u&&(ni(u,n,e),t.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=n*e[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ei(t,n){return Qu.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=si,t}function ri(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function ii(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(u=t.children)&&(i=u.length))for(var i,u,o=-1;++o<i;)e.push(u[o]);for(;null!=(t=r.pop());)n(t)}function ui(t){return t.children}function oi(t){return t.value}function ai(t,n){return n.value-t.value}function si(t){return Qu.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function li(t){return t.x}function ci(t){return t.y}function fi(t,n,e){t.y0=n,t.y=e}function hi(t){return Qu.range(t.length)}function pi(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function gi(t){for(var n,e=1,r=0,i=t[0][1],u=t.length;u>e;++e)(n=t[e][1])>i&&(r=e,i=n);return r}function di(t){return t.reduce(vi,0)}function vi(t,n){return t+n[1]}function yi(t,n){return mi(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function mi(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,u=[];++e<=n;)u[e]=i*e+r;return u}function xi(t){return[Qu.min(t),Qu.max(t)]}function bi(t,n){return t.value-n.value}function _i(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function Mi(t,n){t._pack_next=n,n._pack_prev=t}function wi(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return.999*i*i>e*e+r*r}function ki(t){function n(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((e=t.children)&&(l=e.length)){var e,r,i,u,o,a,s,l,c=1/0,f=-(1/0),h=1/0,p=-(1/0);if(e.forEach(Si),r=e[0],r.x=-r.r,r.y=0,n(r),l>1&&(i=e[1],i.x=i.r,i.y=0,n(i),l>2))for(u=e[2],Ni(r,i,u),n(u),_i(r,u),r._pack_prev=u,_i(u,i),i=r._pack_next,o=3;l>o;o++){Ni(r,i,u=e[o]);var g=0,d=1,v=1;for(a=i._pack_next;a!==i;a=a._pack_next,d++)if(wi(a,u)){g=1;break}if(1==g)for(s=r._pack_prev;s!==a._pack_prev&&!wi(s,u);s=s._pack_prev,v++);g?(v>d||d==v&&i.r<r.r?Mi(r,i=a):Mi(r=s,i),o--):(_i(r,u),i=u,n(u))}var y=(c+f)/2,m=(h+p)/2,x=0;for(o=0;l>o;o++)u=e[o],u.x-=y,u.y-=m,x=Math.max(x,u.r+Math.sqrt(u.x*u.x+u.y*u.y));t.r=x,e.forEach(Ci)}}function Si(t){t._pack_next=t._pack_prev=t}function Ci(t){delete t._pack_next,delete t._pack_prev}function Ei(t,n,e,r){var i=t.children;if(t.x=n+=r*t.x,t.y=e+=r*t.y,t.r*=r,i)for(var u=-1,o=i.length;++u<o;)Ei(i[u],n,e,r)}function Ni(t,n,e){var r=t.r+e.r,i=n.x-t.x,u=n.y-t.y;if(r&&(i||u)){var o=n.r+e.r,a=i*i+u*u;o*=o,r*=r;var s=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=t.x+s*i+l*u,e.y=t.y+s*u-l*i}else e.x=t.x+r,e.y=t.y}function Ai(t,n){return t.parent==n.parent?1:2}function zi(t){var n=t.children;return n.length?n[0]:t.t}function ji(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function Pi(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Li(t){for(var n,e=0,r=0,i=t.children,u=i.length;--u>=0;)n=i[u],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function Oi(t,n,e){return t.a.parent===n.parent?t.a:e}function Ti(t){return 1+Qu.max(t,function(t){return t.y})}function Di(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Ri(t){for(var n=!0;n;){var e=t;n=!1;var r=e.children;{if(!r||!r.length)return e;t=r[0],n=!0,r=void 0}}}function qi(t){for(var n=!0;n;){var e=t;n=!1;var r,i=e.children;{if(!i||!(r=i.length))return e;t=i[r-1],n=!0,i=r=void 0}}}function Fi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ii(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],u=t.dy-n[0]-n[2];return 0>i&&(e+=i/2,i=0),0>u&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Yi(t){var n=t[0],e=t[t.length-1];return e>n?[n,e]:[e,n]}function Ui(t){return t.rangeExtent?t.rangeExtent():Yi(t.range())}function Xi(t,n,e,r){var i=e(t[0],t[1]),u=r(n[0],n[1]);return function(t){return u(i(t))}}function Hi(t,n){var e,r=0,i=t.length-1,u=t[r],o=t[i];return u>o&&(e=r,r=i,i=e,e=u,u=o,o=e),t[r]=n.floor(u),t[i]=n.ceil(o),t}function Bi(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:xs}function Wi(t,n,e,r){var i=[],u=[],o=0,a=Math.min(t.length,n.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<=a;)i.push(e(t[o-1],t[o])),u.push(r(n[o-1],n[o]));return function(n){var e=Qu.bisect(t,n,1,a)-1;return u[e](i[e](n))}}function Zi(t,n,e,r){function i(){var i=Math.min(t.length,n.length)>2?Wi:Xi,s=r?Zr:Wr;return o=i(t,n,s,e),a=i(n,t,s,Mr),u}function u(t){return o(t)}var o,a;return u.invert=function(t){return a(t)},u.domain=function(n){return arguments.length?(t=n.map(Number),i()):t},u.range=function(t){return arguments.length?(n=t,i()):n},u.rangeRound=function(t){return u.range(t).interpolate(Ir)},u.clamp=function(t){return arguments.length?(r=t,i()):r},u.interpolate=function(t){return arguments.length?(e=t,i()):e},u.ticks=function(n){return Ji(t,n)},u.tickFormat=function(n,e){return Ki(t,n,e)},u.nice=function(n){return Vi(t,n),i()},u.copy=function(){return Zi(t,n,e,r)},i()}function $i(t,n){return Qu.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Vi(t,n){return Hi(t,Bi(Gi(t,n)[2]))}function Gi(t,n){null==n&&(n=10);var e=Yi(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),u=n/r*i;return.15>=u?i*=10:.35>=u?i*=5:.75>=u&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Ji(t,n){return Qu.range.apply(Qu,Gi(t,n))}function Ki(t,n,e){var r=Gi(t,n);if(e){var i=aa.exec(e);if(i.shift(),"s"===i[8]){var u=Qu.formatPrefix(Math.max(po(r[0]),po(r[1])));return i[7]||(i[7]="."+Qi(u.scale(r[2]))),i[8]="f",e=Qu.format(i.join("")),function(t){return e(u.scale(t))+u.symbol}}i[7]||(i[7]="."+tu(i[8],r)),e=i.join("")}else e=",."+Qi(r[2])+"f";return Qu.format(e)}function Qi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function tu(t,n){var e=Qi(n[2]);return t in bs?Math.abs(e-Qi(Math.max(po(n[0]),po(n[1]))))+ +("e"!==t):e-2*("%"===t)}function nu(t,n,e,r){function i(t){return(e?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function u(t){return e?Math.pow(n,t):-Math.pow(n,-t)}function o(n){return t(i(n))}return o.invert=function(n){return u(t.invert(n))},o.domain=function(n){return arguments.length?(e=n[0]>=0,t.domain((r=n.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(n=+e,t.domain(r.map(i)),o):n},o.nice=function(){var n=Hi(r.map(i),e?Math:Ms);return t.domain(n),r=n.map(u),o},o.ticks=function(){var t=Yi(r),o=[],a=t[0],s=t[1],l=Math.floor(i(a)),c=Math.ceil(i(s)),f=n%1?2:n;if(isFinite(c-l)){if(e){for(;c>l;l++)for(var h=1;f>h;h++)o.push(u(l)*h);o.push(u(l))}else for(o.push(u(l));l++<c;)for(var h=f-1;h>0;h--)o.push(u(l)*h);for(l=0;o[l]<a;l++);for(c=o.length;o[c-1]>s;c--);o=o.slice(l,c)}return o},o.tickFormat=function(t,n){if(!arguments.length)return _s;arguments.length<2?n=_s:"function"!=typeof n&&(n=Qu.format(n));var r,a=Math.max(.1,t/o.ticks().length),s=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/u(s(i(t)+r))<=a?n(t):""}},o.copy=function(){return nu(t.copy(),n,e,r)},$i(o,t)}function eu(t,n,e){function r(n){return t(i(n))}var i=ru(n),u=ru(1/n);return r.invert=function(n){return u(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(i)),r):e},r.ticks=function(t){return Ji(e,t)},r.tickFormat=function(t,n){return Ki(e,t,n)},r.nice=function(t){return r.domain(Vi(e,t))},r.exponent=function(o){return arguments.length?(i=ru(n=o),u=ru(1/n),t.domain(e.map(i)),r):n},r.copy=function(){return eu(t.copy(),n,e)},$i(r,t)}function ru(t){return function(n){return 0>n?-Math.pow(-n,t):Math.pow(n,t)}}function iu(t,n){function e(e){return u[((i.get(e)||("range"===n.t?i.set(e,t.push(e)):NaN))-1)%u.length]}function r(n,e){return Qu.range(t.length).map(function(t){return n+e*t})}var i,u,o;return e.domain=function(r){if(!arguments.length)return t;t=[],i=new h;for(var u,o=-1,a=r.length;++o<a;)i.has(u=r[o])||i.set(u,t.push(u));return e[n.t].apply(e,n.a)},e.range=function(t){return arguments.length?(u=t,o=0,n={t:"range",a:arguments},e):u},e.rangePoints=function(i,a){arguments.length<2&&(a=0);var s=i[0],l=i[1],c=(l-s)/(Math.max(1,t.length-1)+a);return u=r(t.length<2?(s+l)/2:s+c*a/2,c),o=0,n={t:"rangePoints",a:arguments},e},e.rangeBands=function(i,a,s){arguments.length<2&&(a=0),arguments.length<3&&(s=a);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=(f-c)/(t.length-a+2*s);return u=r(c+h*s,h),l&&u.reverse(),o=h*(1-a),n={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,a,s){arguments.length<2&&(a=0),arguments.length<3&&(s=a);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=Math.floor((f-c)/(t.length-a+2*s)),p=f-c-(t.length-a)*h;return u=r(c+Math.round(p/2),h),l&&u.reverse(),o=Math.round(h*(1-a)),n={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Yi(n.a[0])},e.copy=function(){return iu(t,n)},e.domain(t)}function uu(t,n){function e(){var e=0,u=n.length;for(i=[];++e<u;)i[e-1]=Qu.quantile(t,e/u);return r}function r(t){return isNaN(t=+t)?void 0:n[Qu.bisect(i,t)]}var i;return r.domain=function(n){return arguments.length?(t=n.map(o).filter(a).sort(u),e()):t},r.range=function(t){return arguments.length?(n=t,e()):n},r.quantiles=function(){return i},r.invertExtent=function(e){return e=n.indexOf(e),0>e?[NaN,NaN]:[e>0?i[e-1]:t[0],e<i.length?i[e]:t[t.length-1]]},r.copy=function(){return uu(t,n)},e()}function ou(t,n,e){function r(n){return e[Math.max(0,Math.min(o,Math.floor(u*(n-t))))]}function i(){return u=e.length/(n-t),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],i()):[t,n]},r.range=function(t){return arguments.length?(e=t,i()):e},r.invertExtent=function(n){return n=e.indexOf(n),n=0>n?NaN:n/u+t,[n,n+1/u]},r.copy=function(){return ou(t,n,e)},i()}function au(t,n){function e(e){return e>=e?n[Qu.bisect(t,e)]:void 0}return e.domain=function(n){return arguments.length?(t=n,e):t},e.range=function(t){return arguments.length?(n=t,e):n},e.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},e.copy=function(){return au(t,n)},e}function su(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return Ji(t,n)},n.tickFormat=function(n,e){return Ki(t,n,e)},n.copy=function(){return su(t)},n}function lu(t){return t.innerRadius}function cu(t){return t.outerRadius}function fu(t){return t.startAngle}function hu(t){return t.endAngle}function pu(t){function n(n){function o(){l.push("M",u(t(c),a))}for(var s,l=[],c=[],f=-1,h=n.length,p=zt(e),g=zt(r);++f<h;)i.call(this,s=n[f],f)?c.push([+p.call(this,s,f),+g.call(this,s,f)]):c.length&&(o(),c=[]);return c.length&&o(),l.length?l.join(""):null}var e=Le,r=Oe,i=Ln,u=gu,o=u.key,a=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.defined=function(t){return arguments.length?(i=t,n):i},n.interpolate=function(t){return arguments.length?(o="function"==typeof t?u=t:(u=As.get(t)||gu).key,n):o},n.tension=function(t){return arguments.length?(a=t,n):a},n}function gu(t){return t.join("L")}function du(t){return gu(t)+"Z"}function vu(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function yu(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function mu(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function xu(t,n){return t.length<4?gu(t):t[1]+Mu(t.slice(1,t.length-1),wu(t,n))}function bu(t,n){return t.length<3?gu(t):t[0]+Mu((t.push(t[0]),t),wu([t[t.length-2]].concat(t,[t[1]]),n))}function _u(t,n){return t.length<3?gu(t):t[0]+Mu(t,wu(t,n))}function Mu(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return gu(t);var e=t.length!=n.length,r="",i=t[0],u=t[1],o=n[0],a=o,s=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=t[1],s=2),n.length>1){a=n[1],u=t[s],s++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var l=2;l<n.length;l++,s++)u=t[s],a=n[l],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var c=t[s];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+c[0]+","+c[1]}return r}function wu(t,n){for(var e,r=[],i=(1-n)/2,u=t[0],o=t[1],a=1,s=t.length;++a<s;)e=u,u=o,o=t[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function ku(t){if(t.length<3)return gu(t);var n=1,e=t.length,r=t[0],i=r[0],u=r[1],o=[i,i,i,(r=t[1])[0]],a=[u,u,u,r[1]],s=[i,",",u,"L",Nu(Ps,o),",",Nu(Ps,a)];for(t.push(t[e-1]);++n<=e;)r=t[n],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Au(s,o,a);return t.pop(),s.push("L",r),s.join("")}function Su(t){if(t.length<4)return gu(t);for(var n,e=[],r=-1,i=t.length,u=[0],o=[0];++r<3;)n=t[r],u.push(n[0]),o.push(n[1]);for(e.push(Nu(Ps,u)+","+Nu(Ps,o)),--r;++r<i;)n=t[r],u.shift(),u.push(n[0]),o.shift(),o.push(n[1]),Au(e,u,o);return e.join("")}function Cu(t){for(var n,e,r=-1,i=t.length,u=i+4,o=[],a=[];++r<4;)e=t[r%i],o.push(e[0]),a.push(e[1]);for(n=[Nu(Ps,o),",",Nu(Ps,a)],--r;++r<u;)e=t[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Au(n,o,a);return n.join("")}function Eu(t,n){var e=t.length-1;if(e)for(var r,i,u=t[0][0],o=t[0][1],a=t[e][0]-u,s=t[e][1]-o,l=-1;++l<=e;)r=t[l],i=l/e,r[0]=n*r[0]+(1-n)*(u+i*a),r[1]=n*r[1]+(1-n)*(o+i*s);return ku(t)}function Nu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Au(t,n,e){t.push("C",Nu(zs,n),",",Nu(zs,e),",",Nu(js,n),",",Nu(js,e),",",Nu(Ps,n),",",Nu(Ps,e))}function zu(t,n){return(n[1]-t[1])/(n[0]-t[0])}function ju(t){for(var n=0,e=t.length-1,r=[],i=t[0],u=t[1],o=r[0]=zu(i,u);++n<e;)r[n]=(o+(o=zu(i=u,u=t[n+1])))/2;return r[n]=o,r}function Pu(t){for(var n,e,r,i,u=[],o=ju(t),a=-1,s=t.length-1;++a<s;)n=zu(t[a],t[a+1]),po(n)<To?o[a]=o[a+1]=0:(e=o[a]/n,r=o[a+1]/n,i=e*e+r*r,i>9&&(i=3*n/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r));for(a=-1;++a<=s;)i=(t[Math.min(s,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function Lu(t){return t.length<3?gu(t):t[0]+Mu(t,Pu(t))}function Ou(t){for(var n,e,r,i=-1,u=t.length;++i<u;)n=t[i],e=n[0],r=n[1]+Es,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function Tu(t){
function n(n){function s(){d.push("M",a(t(y),f),c,l(t(v.reverse()),f),"Z")}for(var h,p,g,d=[],v=[],y=[],m=-1,x=n.length,b=zt(e),_=zt(i),M=e===r?function(){return p}:zt(r),w=i===u?function(){return g}:zt(u);++m<x;)o.call(this,h=n[m],m)?(v.push([p=+b.call(this,h,m),g=+_.call(this,h,m)]),y.push([+M.call(this,h,m),+w.call(this,h,m)])):v.length&&(s(),v=[],y=[]);return v.length&&s(),d.length?d.join(""):null}var e=Le,r=Le,i=0,u=Oe,o=Ln,a=gu,s=a.key,l=a,c="L",f=.7;return n.x=function(t){return arguments.length?(e=r=t,n):r},n.x0=function(t){return arguments.length?(e=t,n):e},n.x1=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(i=u=t,n):u},n.y0=function(t){return arguments.length?(i=t,n):i},n.y1=function(t){return arguments.length?(u=t,n):u},n.defined=function(t){return arguments.length?(o=t,n):o},n.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=As.get(t)||gu).key,l=a.reverse||a,c=a.closed?"M":"L",n):s},n.tension=function(t){return arguments.length?(f=t,n):f},n}function Du(t){return t.radius}function Ru(t){return[t.x,t.y]}function qu(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]+Es;return[e*Math.cos(r),e*Math.sin(r)]}}function Fu(){return 64}function Iu(){return"circle"}function Yu(t){var n=Math.sqrt(t/Po);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function Uu(t,n){return xo(t,qs),t.id=n,t}function Xu(t,n,e,r){var i=t.id;return H(t,"function"==typeof e?function(t,u,o){t.__transition__[i].tween.set(n,r(e.call(t,t.__data__,u,o)))}:(e=r(e),function(t){t.__transition__[i].tween.set(n,e)}))}function Hu(t){return null==t&&(t=""),function(){this.textContent=t}}function Bu(t,n,e,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),u=i[e];if(!u){var o=r.time;u=i[e]={tween:new h,time:o,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Qu.timer(function(r){function a(r){return i.active>e?l():(i.active=e,u.event&&u.event.start.call(t,c,n),u.tween.forEach(function(e,r){(r=r.call(t,c,n))&&d.push(r)}),void Qu.timer(function(){return g.c=s(r||1)?Ln:s,1},0,o))}function s(r){if(i.active!==e)return l();for(var o=r/p,a=f(o),s=d.length;s>0;)d[--s].call(t,a);return o>=1?(u.event&&u.event.end.call(t,c,n),l()):void 0}function l(){return--i.count?delete i[e]:delete t.__transition__,1}var c=t.__data__,f=u.ease,h=u.delay,p=u.duration,g=ia,d=[];return g.t=h+o,r>=h?a(r-h):void(g.c=a)},0,o)}}function Wu(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate("+(isFinite(r)?r:e(t))+",0)"})}function Zu(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate(0,"+(isFinite(r)?r:e(t))+")"})}function $u(t){return t.toISOString()}function Vu(t,n,e){function r(n){return t(n)}function i(t,e){var r=t[1]-t[0],i=r/e,u=Qu.bisect(Zs,i);return u==Zs.length?[n.year,Gi(t.map(function(t){return t/31536e6}),e)[2]]:u?n[i/Zs[u-1]<Zs[u]/i?u-1:u]:[Gs,Gi(t,e)[2]]}return r.invert=function(n){return Gu(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map(Gu)},r.nice=function(t,n){function e(e){return!isNaN(e)&&!t.range(e,Gu(+e+1),n).length}var u=r.domain(),o=Yi(u),a=null==t?i(o,10):"number"==typeof t&&i(o,t);return a&&(t=a[0],n=a[1]),r.domain(Hi(u,n>1?{floor:function(n){for(;e(n=t.floor(n));)n=Gu(n-1);return n},ceil:function(n){for(;e(n=t.ceil(n));)n=Gu(+n+1);return n}}:t))},r.ticks=function(t,n){var e=Yi(r.domain()),u=null==t?i(e,10):"number"==typeof t?i(e,t):!t.range&&[{range:t},n];return u&&(t=u[0],n=u[1]),t.range(e[0],Gu(+e[1]+1),1>n?1:n)},r.tickFormat=function(){return e},r.copy=function(){return Vu(t.copy(),n,e)},$i(r,t)}function Gu(t){return new Date(t)}function Ju(t){return JSON.parse(t.responseText)}function Ku(t){var n=eo.createRange();return n.selectNode(eo.body),n.createContextualFragment(t.responseText)}var Qu={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var to=[].slice,no=function(t){return to.call(t)},eo=document,ro=eo.documentElement,io=window;try{no(ro.childNodes)[0].nodeType}catch(uo){no=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}try{eo.createElement("div").style.setProperty("opacity",0,"")}catch(oo){var ao=io.Element.prototype,so=ao.setAttribute,lo=ao.setAttributeNS,co=io.CSSStyleDeclaration.prototype,fo=co.setProperty;ao.setAttribute=function(t,n){so.call(this,t,n+"")},ao.setAttributeNS=function(t,n,e){lo.call(this,t,n,e+"")},co.setProperty=function(t,n,e){fo.call(this,t,n+"",e)}}Qu.ascending=u,Qu.descending=function(t,n){return t>n?-1:n>t?1:n>=t?0:NaN},Qu.min=function(t,n){var e,r,i=-1,u=t.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=t[i])&&e>=e);)e=void 0;for(;++i<u;)null!=(r=t[i])&&e>r&&(e=r)}else{for(;++i<u&&!(null!=(e=n.call(t,t[i],i))&&e>=e);)e=void 0;for(;++i<u;)null!=(r=n.call(t,t[i],i))&&e>r&&(e=r)}return e},Qu.max=function(t,n){var e,r,i=-1,u=t.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=t[i])&&e>=e);)e=void 0;for(;++i<u;)null!=(r=t[i])&&r>e&&(e=r)}else{for(;++i<u&&!(null!=(e=n.call(t,t[i],i))&&e>=e);)e=void 0;for(;++i<u;)null!=(r=n.call(t,t[i],i))&&r>e&&(e=r)}return e},Qu.extent=function(t,n){var e,r,i,u=-1,o=t.length;if(1===arguments.length){for(;++u<o&&!(null!=(e=i=t[u])&&e>=e);)e=i=void 0;for(;++u<o;)null!=(r=t[u])&&(e>r&&(e=r),r>i&&(i=r))}else{for(;++u<o&&!(null!=(e=i=n.call(t,t[u],u))&&e>=e);)e=void 0;for(;++u<o;)null!=(r=n.call(t,t[u],u))&&(e>r&&(e=r),r>i&&(i=r))}return[e,i]},Qu.sum=function(t,n){var e,r=0,i=t.length,u=-1;if(1===arguments.length)for(;++u<i;)a(e=+t[u])&&(r+=e);else for(;++u<i;)a(e=+n.call(t,t[u],u))&&(r+=e);return r},Qu.mean=function(t,n){var e,r=0,i=t.length,u=-1,s=i;if(1===arguments.length)for(;++u<i;)a(e=o(t[u]))?r+=e:--s;else for(;++u<i;)a(e=o(n.call(t,t[u],u)))?r+=e:--s;return s?r/s:void 0},Qu.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],u=e-r;return u?i+u*(t[r]-i):i},Qu.median=function(t,n){var e,r=[],i=t.length,s=-1;if(1===arguments.length)for(;++s<i;)a(e=o(t[s]))&&r.push(e);else for(;++s<i;)a(e=o(n.call(t,t[s],s)))&&r.push(e);return r.length?Qu.quantile(r.sort(u),.5):void 0};var ho=s(u);Qu.bisectLeft=ho.left,Qu.bisect=Qu.bisectRight=ho.right,Qu.bisector=function(t){return s(1===t.length?function(n,e){return u(t(n),e)}:t)},Qu.shuffle=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t},Qu.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},Qu.pairs=function(t){for(var n,e=0,r=t.length-1,i=t[0],u=new Array(0>r?0:r);r>e;)u[e]=[n=i,i=t[++e]];return u},Qu.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=Qu.min(arguments,l),e=new Array(n);++t<n;)for(var r,i=-1,u=e[t]=new Array(r);++i<r;)u[i]=arguments[i][t];return e},Qu.transpose=function(t){return Qu.zip.apply(Qu,t)},Qu.keys=function(t){var n=[];for(var e in t)n.push(e);return n},Qu.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},Qu.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},Qu.merge=function(t){for(var n,e,r,i=t.length,u=-1,o=0;++u<i;)o+=t[u].length;for(e=new Array(o);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--o]=r[n];return e};var po=Math.abs;Qu.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e===1/0)throw new Error("infinite range");var r,i=[],u=c(po(e)),o=-1;if(t*=u,n*=u,e*=u,0>e)for(;(r=t+e*++o)>n;)i.push(r/u);else for(;(r=t+e*++o)<n;)i.push(r/u);return i},Qu.map=function(t){var n=new h;if(t instanceof h)t.forEach(function(t,e){n.set(t,e)});else for(var e in t)n.set(e,t[e]);return n};var go="__proto__",vo="\x00";f(h,{has:d,get:function(t){return this._[p(t)]},set:function(t,n){return this._[p(t)]=n},remove:v,keys:y,values:function Qs(){var Qs=[];for(var t in this._)Qs.push(this._[t]);return Qs},entries:function tl(){var tl=[];for(var t in this._)tl.push({key:g(t),value:this._[t]});return tl},size:m,empty:x,forEach:function(t){for(var n in this._)t.call(this,g(n),this._[n])}}),Qu.nest=function(){function t(n,o,a){if(a>=u.length)return r?r.call(i,o):e?o.sort(e):o;for(var s,l,c,f,p=-1,g=o.length,d=u[a++],v=new h;++p<g;)(f=v.get(s=d(l=o[p])))?f.push(l):v.set(s,[l]);return n?(l=n(),c=function(e,r){l.set(e,t(n,r,a))}):(l={},c=function(e,r){l[e]=t(n,r,a)}),v.forEach(c),l}function n(t,e){if(e>=u.length)return t;var r=[],i=o[e++];return t.forEach(function(t,i){r.push({key:t,values:n(i,e)})}),i?r.sort(function(t,n){return i(t.key,n.key)}):r}var e,r,i={},u=[],o=[];return i.map=function(n,e){return t(e,n,0)},i.entries=function(e){return n(t(Qu.map,e,0),0)},i.key=function(t){return u.push(t),i},i.sortKeys=function(t){return o[u.length-1]=t,i},i.sortValues=function(t){return e=t,i},i.rollup=function(t){return r=t,i},i},Qu.set=function(t){var n=new b;if(t)for(var e=0,r=t.length;r>e;++e)n.add(t[e]);return n},f(b,{has:d,add:function(t){return this._[p(t+="")]=!0,t},remove:v,values:y,size:m,empty:x,forEach:function(t){for(var n in this._)t.call(this,g(n))}}),Qu.behavior={},Qu.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=_(t,n,n[e]);return t};var yo=["webkit","ms","moz","Moz","o","O"];Qu.dispatch=function(){for(var t=new k,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=S(t);return t},k.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Qu.event=null,Qu.requote=function(t){return t.replace(mo,"\\$&")};var mo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xo={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},bo=function(t,n){return n.querySelector(t)},_o=function(t,n){return n.querySelectorAll(t)},Mo=ro.matches||ro[M(ro,"matchesSelector")],wo=function(t,n){return Mo.call(t,n)};"function"==typeof Sizzle&&(bo=function(t,n){return Sizzle(t,n)[0]||null},_o=Sizzle,wo=Sizzle.matchesSelector),Qu.selection=function(){return Eo};var ko=Qu.selection.prototype=[];ko.select=function(t){var n,e,r,i,u=[];t=z(t);for(var o=-1,a=this.length;++o<a;){u.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var s=-1,l=r.length;++s<l;)(i=r[s])?(n.push(e=t.call(i,i.__data__,s,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return A(u)},ko.selectAll=function(t){var n,e,r=[];t=j(t);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,s=o.length;++a<s;)(e=o[a])&&(r.push(n=no(t.call(e,e.__data__,a,i))),n.parentNode=e);return A(r)};var So={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Qu.ns={prefix:So,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.slice(0,n),t=t.slice(n+1)),So.hasOwnProperty(e)?{space:So[e],local:t}:t}},ko.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return t=Qu.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(P(n,t[n]));return this}return this.each(P(t,n))},ko.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=T(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!O(t[i]).test(n))return!1;return!0}for(n in t)this.each(D(n,t[n]));return this}return this.each(D(t,n))},ko.style=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(e in t)this.each(q(e,t[e],n));return this}if(2>r)return io.getComputedStyle(this.node(),null).getPropertyValue(t);e=""}return this.each(q(t,n,e))},ko.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(F(n,t[n]));return this}return this.each(F(t,n))},ko.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ko.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ko.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ko.insert=function(t,n){return t=I(t),n=z(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},ko.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},ko.data=function(t,n){function e(t,e){var r,i,u,o=t.length,c=e.length,f=Math.min(o,c),p=new Array(c),g=new Array(c),d=new Array(o);if(n){var v,y=new h,m=new Array(o);for(r=-1;++r<o;)y.has(v=n.call(i=t[r],i.__data__,r))?d[r]=i:y.set(v,i),m[r]=v;for(r=-1;++r<c;)(i=y.get(v=n.call(e,u=e[r],r)))?i!==!0&&(p[r]=i,i.__data__=u):g[r]=Y(u),y.set(v,!0);for(r=-1;++r<o;)y.get(m[r])!==!0&&(d[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],u=e[r],i?(i.__data__=u,p[r]=i):g[r]=Y(u);for(;c>r;++r)g[r]=Y(e[r]);for(;o>r;++r)d[r]=t[r]}g.update=p,g.parentNode=p.parentNode=d.parentNode=t.parentNode,a.push(g),s.push(p),l.push(d)}var r,i,u=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++u<o;)(i=r[u])&&(t[u]=i.__data__);return t}var a=B([]),s=A([]),l=A([]);if("function"==typeof t)for(;++u<o;)e(r=this[u],t.call(r,r.parentNode.__data__,u));else for(;++u<o;)e(r=this[u],t);return s.enter=function(){return a},s.exit=function(){return l},s},ko.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ko.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=U(t));for(var u=0,o=this.length;o>u;u++){i.push(n=[]),n.parentNode=(e=this[u]).parentNode;for(var a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,u)&&n.push(r)}return A(i)},ko.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},ko.sort=function(t){t=X.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},ko.each=function(t){return H(this,function(n,e,r){t.call(n,n.__data__,e,r)})},ko.call=function(t){var n=no(arguments);return t.apply(n[0]=this,n),this},ko.empty=function(){return!this.node()},ko.node=function(){for(var t=0,n=this.length;n>t;t++)for(var e=this[t],r=0,i=e.length;i>r;r++){var u=e[r];if(u)return u}return null},ko.size=function(){var t=0;return H(this,function(){++t}),t};var Co=[];Qu.selection.enter=B,Qu.selection.enter.prototype=Co,Co.append=ko.append,Co.empty=ko.empty,Co.node=ko.node,Co.call=ko.call,Co.size=ko.size,Co.select=function(t){for(var n,e,r,i,u,o=[],a=-1,s=this.length;++a<s;){r=(i=this[a]).update,o.push(n=[]),n.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(u=i[l])?(n.push(r[l]=e=t.call(i.parentNode,u.__data__,l,a)),e.__data__=u.__data__):n.push(null)}return A(o)},Co.insert=function(t,n){return arguments.length<2&&(n=W(this)),ko.insert.call(this,t,n)},ko.transition=function(){for(var t,n,e=Os||++Fs,r=[],i=Ts||{time:Date.now(),ease:Ar,delay:0,duration:250},u=-1,o=this.length;++u<o;){r.push(t=[]);for(var a=this[u],s=-1,l=a.length;++s<l;)(n=a[s])&&Bu(n,s,e,i),t.push(n)}return Uu(r,e)},ko.interrupt=function(){return this.each(Z)},Qu.select=function(t){var n=["string"==typeof t?bo(t,eo):t];return n.parentNode=ro,A([n])},Qu.selectAll=function(t){var n=no("string"==typeof t?_o(t,eo):t);return n.parentNode=ro,A([n])};var Eo=Qu.select(ro);ko.on=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n=!1);for(e in t)this.each($(e,t[e],n));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each($(t,n,e))};var No=Qu.map({mouseenter:"mouseover",mouseleave:"mouseout"});No.forEach(function(t){"on"+t in eo&&No.remove(t)});var Ao="onselectstart"in eo?null:M(ro.style,"userSelect"),zo=0;Qu.mouse=function(t){return K(t,E())};var jo=/WebKit/.test(io.navigator.userAgent)?-1:0;Qu.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=E().changedTouches),n)for(var r,i=0,u=n.length;u>i;++i)if((r=n[i]).identifier===e)return K(t,r)},Qu.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",u)}function n(t,n,i,u,o){return function(){function a(){var t,e,r=n(h,d);r&&(t=r[0]-x[0],e=r[1]-x[1],g|=t|e,x=r,p({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:e}))}function s(){n(h,d)&&(y.on(u+v,null).on(o+v,null),m(g&&Qu.event.target===f),p({type:"dragend"}))}var l,c=this,f=Qu.event.target,h=c.parentNode,p=e.of(c,arguments),g=0,d=t(),v=".drag"+(null==d?"":"-"+d),y=Qu.select(i()).on(u+v,a).on(o+v,s),m=J(),x=n(h,d);r?(l=r.apply(c,arguments),l=[l.x-x[0],l.y-x[1]]):l=[0,0],p({type:"dragstart"})}}var e=N(t,"drag","dragstart","dragend"),r=null,i=n(w,Qu.mouse,nt,"mousemove","mouseup"),u=n(Q,Qu.touch,tt,"touchmove","touchend");return t.origin=function(n){return arguments.length?(r=n,t):r},Qu.rebind(t,e,"on")},Qu.touches=function(t,n){return arguments.length<2&&(n=E().touches),n?no(n).map(function(n){var e=K(t,n);return e.identifier=n.identifier,e}):[]};var Po=Math.PI,Lo=2*Po,Oo=Po/2,To=1e-6,Do=To*To,Ro=Po/180,qo=180/Po,Fo=Math.SQRT2,Io=2,Yo=4;Qu.interpolateZoom=function(t,n){function e(t){var n=t*m;if(y){var e=at(d),o=u/(Io*h)*(e*st(Fo*n+d)-ot(d));return[r+o*l,i+o*c,u*e/at(Fo*n+d)]}return[r+t*l,i+t*c,u*Math.exp(Fo*n)]}var r=t[0],i=t[1],u=t[2],o=n[0],a=n[1],s=n[2],l=o-r,c=a-i,f=l*l+c*c,h=Math.sqrt(f),p=(s*s-u*u+Yo*f)/(2*u*Io*h),g=(s*s-u*u-Yo*f)/(2*s*Io*h),d=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g),y=v-d,m=(y||Math.log(s/u))/Fo;return e.duration=1e3*m,e},Qu.behavior.zoom=function(){function t(t){t.on(S,l).on(Ho+".zoom",f).on("dblclick.zoom",h).on(z,c)}function n(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function e(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}function r(t){M.k=Math.max(k[0],Math.min(k[1],t))}function i(t,n){n=e(n),M.x+=t[0]-n[0],M.y+=t[1]-n[1]}function u(){x&&x.domain(m.range().map(function(t){return(t-M.x)/M.k}).map(m.invert)),_&&_.domain(b.range().map(function(t){return(t-M.y)/M.k}).map(b.invert))}function o(t){t({type:"zoomstart"})}function a(t){u(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function s(t){t({type:"zoomend"})}function l(){function t(){c=1,i(Qu.mouse(r),h),a(l)}function e(){f.on(E,null).on(A,null),p(c&&Qu.event.target===u),s(l)}var r=this,u=Qu.event.target,l=j.of(r,arguments),c=0,f=Qu.select(io).on(E,t).on(A,e),h=n(Qu.mouse(r)),p=J();Z.call(r),o(l)}function c(){function t(){var t=Qu.touches(p);return h=M.k,t.forEach(function(t){t.identifier in d&&(d[t.identifier]=n(t))}),t}function e(){var n=Qu.event.target;Qu.select(n).on(x,u).on(b,f),_.push(n);for(var e=Qu.event.changedTouches,o=0,s=e.length;s>o;++o)d[e[o].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(500>c-y){var h=l[0],p=d[h.identifier];r(2*M.k),i(h,p),C(),a(g)}y=c}else if(l.length>1){var h=l[0],m=l[1],w=h[0]-m[0],k=h[1]-m[1];v=w*w+k*k}}function u(){for(var t,n,e,u,o=Qu.touches(p),s=0,l=o.length;l>s;++s,u=null)if(e=o[s],u=d[e.identifier]){if(n)break;t=e,n=u}if(u){var c=(c=e[0]-t[0])*c+(c=e[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[(n[0]+u[0])/2,(n[1]+u[1])/2],r(f*h)}y=null,i(t,n),a(g)}function f(){if(Qu.event.touches.length){for(var n=Qu.event.changedTouches,e=0,r=n.length;r>e;++e)delete d[n[e].identifier];for(var i in d)return void t()}Qu.selectAll(_).on(m,null),w.on(S,l).on(z,c),k(),s(g)}var h,p=this,g=j.of(p,arguments),d={},v=0,m=".zoom-"+Qu.event.changedTouches[0].identifier,x="touchmove"+m,b="touchend"+m,_=[],w=Qu.select(p),k=J();Z.call(p),e(),o(g),w.on(S,null).on(z,e)}function f(){var t=j.of(this,arguments);v?clearTimeout(v):(p=n(g=d||Qu.mouse(this)),Z.call(this),o(t)),v=setTimeout(function(){v=null,s(t)},50),C(),r(Math.pow(2,.002*Uo())*M.k),i(g,p),a(t)}function h(){var t=j.of(this,arguments),e=Qu.mouse(this),u=n(e),l=Math.log(M.k)/Math.LN2;o(t),r(Math.pow(2,Qu.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(e,u),a(t),s(t)}var p,g,d,v,y,m,x,b,_,M={x:0,y:0,k:1},w=[960,500],k=Xo,S="mousedown.zoom",E="mousemove.zoom",A="mouseup.zoom",z="touchstart.zoom",j=N(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=j.of(this,arguments),n=M;Os?Qu.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},o(t)}).tween("zoom:zoom",function(){var e=w[0],r=w[1],i=e/2,u=r/2,o=Qu.interpolateZoom([(i-M.x)/M.k,(u-M.y)/M.k,e/M.k],[(i-n.x)/n.k,(u-n.y)/n.k,e/n.k]);return function(n){var r=o(n),s=e/r[2];this.__chart__=M={x:i-r[0]*s,y:u-r[1]*s,k:s},a(t)}}).each("end.zoom",function(){s(t)}):(this.__chart__=M,o(t),a(t),s(t))})},t.translate=function(n){return arguments.length?(M={x:+n[0],y:+n[1],k:M.k},u(),t):[M.x,M.y]},t.scale=function(n){return arguments.length?(M={x:M.x,y:M.y,k:+n},u(),t):M.k},t.scaleExtent=function(n){return arguments.length?(k=null==n?Xo:[+n[0],+n[1]],t):k},t.center=function(n){return arguments.length?(d=n&&[+n[0],+n[1]],t):d},t.size=function(n){return arguments.length?(w=n&&[+n[0],+n[1]],t):w},t.x=function(n){return arguments.length?(x=n,m=n.copy(),M={x:0,y:0,k:1},t):x},t.y=function(n){return arguments.length?(_=n,b=n.copy(),M={x:0,y:0,k:1},t):_},Qu.rebind(t,j,"on")};var Uo,Xo=[0,1/0],Ho="onwheel"in eo?(Uo=function(){return-Qu.event.deltaY*(Qu.event.deltaMode?120:1)},"wheel"):"onmousewheel"in eo?(Uo=function(){return Qu.event.wheelDelta},"mousewheel"):(Uo=function(){return-Qu.event.detail},"MozMousePixelScroll");Qu.color=ct,ct.prototype.toString=function(){return this.rgb()+""},Qu.hsl=ft;var Bo=ft.prototype=new ct;Bo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ft(this.h,this.s,this.l/t)},Bo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ft(this.h,this.s,t*this.l)},Bo.rgb=function(){return ht(this.h,this.s,this.l)},Qu.hcl=pt;var Wo=pt.prototype=new ct;Wo.brighter=function(t){return new pt(this.h,this.c,Math.min(100,this.l+Zo*(arguments.length?t:1)))},Wo.darker=function(t){return new pt(this.h,this.c,Math.max(0,this.l-Zo*(arguments.length?t:1)))},Wo.rgb=function(){return gt(this.h,this.c,this.l).rgb()},Qu.lab=dt;var Zo=18,$o=.95047,Vo=1,Go=1.08883,Jo=dt.prototype=new ct;Jo.brighter=function(t){return new dt(Math.min(100,this.l+Zo*(arguments.length?t:1)),this.a,this.b)},Jo.darker=function(t){return new dt(Math.max(0,this.l-Zo*(arguments.length?t:1)),this.a,this.b)},Jo.rgb=function(){return vt(this.l,this.a,this.b)},Qu.rgb=_t;var Ko=_t.prototype=new ct;Ko.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,i=30;return n||e||r?(n&&i>n&&(n=i),e&&i>e&&(e=i),r&&i>r&&(r=i),new _t(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,r/t))):new _t(i,i,i)},Ko.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new _t(t*this.r,t*this.g,t*this.b)},Ko.hsl=function(){return Ct(this.r,this.g,this.b)},Ko.toString=function(){return"#"+kt(this.r)+kt(this.g)+kt(this.b)};var Qo=Qu.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Qo.forEach(function(t,n){Qo.set(t,Mt(n))}),Qu.functor=zt,Qu.xhr=Pt(jt),Qu.dsv=function(t,n){function e(t,e,u){arguments.length<3&&(u=e,e=null);var o=Lt(t,n,null==e?r:i(e),u);return o.row=function(t){return arguments.length?o.response(null==(e=t)?r:i(t)):e},o}function r(t){return e.parse(t.responseText)}function i(t){return function(n){return e.parse(n.responseText,t)}}function u(n){return n.map(o).join(t)}function o(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);return e.parse=function(t,n){var r;return e.parseRows(t,function(t,e){if(r)return r(t,e-1);var i=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");r=n?function(t,e){return n(i(t),e)}:i})},e.parseRows=function(t,n){function e(){if(c>=l)return o;if(i)return i=!1,u;var n=c;if(34===t.charCodeAt(n)){for(var e=n;e++<l;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}c=e+2;var r=t.charCodeAt(e+1);return 13===r?(i=!0,10===t.charCodeAt(e+2)&&++c):10===r&&(i=!0),t.slice(n+1,e).replace(/""/g,'"')}for(;l>c;){var r=t.charCodeAt(c++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++a);else if(r!==s)continue;return t.slice(n,c-a)}return t.slice(n)}for(var r,i,u={},o={},a=[],l=t.length,c=0,f=0;(r=e())!==o;){for(var h=[];r!==u&&r!==o;)h.push(r),r=e();n&&null==(h=n(h,f++))||a.push(h)}return a},e.format=function(n){if(Array.isArray(n[0]))return e.formatRows(n);var r=new b,i=[];return n.forEach(function(t){for(var n in t)r.has(n)||i.push(r.add(n))}),[i.map(o).join(t)].concat(n.map(function(n){return i.map(function(t){return o(n[t])}).join(t)})).join("\n")},e.formatRows=function(t){return t.map(u).join("\n")},e},Qu.csv=Qu.dsv(",","text/csv"),Qu.tsv=Qu.dsv("	","text/tab-separated-values");var ta,na,ea,ra,ia,ua=io[M(io,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Qu.timer=function(t,n,e){var r=arguments.length;2>r&&(n=0),3>r&&(e=Date.now());var i=e+n,u={c:t,t:i,f:!1,n:null};na?na.n=u:ta=u,na=u,ea||(ra=clearTimeout(ra),ea=1,ua(Dt))},Qu.timer.flush=function(){Rt(),qt()},Qu.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var oa=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(It);Qu.formatPrefix=function(t,n){var e=0;return t&&(0>t&&(t*=-1),n&&(t=Qu.round(t,Ft(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),oa[8+e/3]};var aa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,sa=Qu.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=Qu.round(t,Ft(t,n))).toFixed(Math.max(0,Math.min(20,Ft(t*(1+1e-15),n))))}}),la=Qu.time={},ca=Date;Xt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fa.setUTCDate.apply(this._,arguments)},setDay:function(){fa.setUTCDay.apply(this._,arguments)},setFullYear:function(){fa.setUTCFullYear.apply(this._,arguments)},setHours:function(){fa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fa.setUTCSeconds.apply(this._,arguments)},setTime:function(){fa.setTime.apply(this._,arguments)}};var fa=Date.prototype;la.year=Ht(function(t){return t=la.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),la.years=la.year.range,la.years.utc=la.year.utc.range,la.day=Ht(function(t){var n=new ca(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),la.days=la.day.range,la.days.utc=la.day.utc.range,la.dayOfYear=function(t){var n=la.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=la[t]=Ht(function(t){return(t=la.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var e=la.year(t).getDay();return Math.floor((la.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});la[t+"s"]=e.range,la[t+"s"].utc=e.utc.range,la[t+"OfYear"]=function(t){var e=la.year(t).getDay();return Math.floor((la.dayOfYear(t)+(e+n)%7)/7)}}),la.week=la.sunday,la.weeks=la.sunday.range,la.weeks.utc=la.sunday.utc.range,la.weekOfYear=la.sundayOfYear;var ha={"-":"",_:" ",0:"0"},pa=/^\s*\d+/,ga=/^%/;Qu.locale=function(t){return{numberFormat:Yt(t),timeFormat:Wt(t)}};var da=Qu.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Qu.format=da.numberFormat,Qu.geo={},gn.prototype={s:0,t:0,add:function(t){dn(t,this.t,va),dn(va.s,this.s,this),this.s?this.t+=va.t:this.s=va.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var va=new gn;Qu.geo.stream=function(t,n){t&&ya.hasOwnProperty(t.type)?ya[t.type](t,n):vn(t,n)};var ya={Feature:function(t,n){vn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)vn(e[r].geometry,n)}},ma={Sphere:function(t,n){
n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){yn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)yn(e[r],n,0)},Polygon:function(t,n){mn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)mn(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)vn(e[r],n)}};Qu.geo.area=function(t){return xa=0,Qu.geo.stream(t,_a),xa};var xa,ba=new gn,_a={sphere:function(){xa+=4*Po},point:w,lineStart:w,lineEnd:w,polygonStart:function(){ba.reset(),_a.lineStart=xn},polygonEnd:function(){var t=2*ba;xa+=0>t?4*Po+t:t,_a.lineStart=_a.lineEnd=_a.point=w}};Qu.geo.bounds=function(){function t(t,n){x.push(b=[c=t,h=t]),f>n&&(f=n),n>p&&(p=n)}function n(n,e){var r=bn([n*Ro,e*Ro]);if(y){var i=Mn(y,r),u=[i[1],-i[0],0],o=Mn(u,i);Sn(o),o=Cn(o);var s=n-g,l=s>0?1:-1,d=o[0]*qo*l,v=po(s)>180;if(v^(d>l*g&&l*n>d)){var m=o[1]*qo;m>p&&(p=m)}else if(d=(d+360)%360-180,v^(d>l*g&&l*n>d)){var m=-o[1]*qo;f>m&&(f=m)}else f>e&&(f=e),e>p&&(p=e);v?g>n?a(c,n)>a(c,h)&&(h=n):a(n,h)>a(c,h)&&(c=n):h>=c?(c>n&&(c=n),n>h&&(h=n)):n>g?a(c,n)>a(c,h)&&(h=n):a(n,h)>a(c,h)&&(c=n)}else t(n,e);y=r,g=n}function e(){_.point=n}function r(){b[0]=c,b[1]=h,_.point=t,y=null}function i(t,e){if(y){var r=t-g;m+=po(r)>180?r+(r>0?360:-360):r}else d=t,v=e;_a.point(t,e),n(t,e)}function u(){_a.lineStart()}function o(){i(d,v),_a.lineEnd(),po(m)>To&&(c=-(h=180)),b[0]=c,b[1]=h,y=null}function a(t,n){return(n-=t)<0?n+360:n}function s(t,n){return t[0]-n[0]}function l(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var c,f,h,p,g,d,v,y,m,x,b,_={point:t,lineStart:e,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=u,_.lineEnd=o,m=0,_a.polygonStart()},polygonEnd:function(){_a.polygonEnd(),_.point=t,_.lineStart=e,_.lineEnd=r,0>ba?(c=-(h=180),f=-(p=90)):m>To?p=90:-To>m&&(f=-90),b[0]=c,b[1]=h}};return function(t){p=h=-(c=f=1/0),x=[],Qu.geo.stream(t,_);var n=x.length;if(n){x.sort(s);for(var e,r=1,i=x[0],u=[i];n>r;++r)e=x[r],l(e[0],i)||l(e[1],i)?(a(i[0],e[1])>a(i[0],i[1])&&(i[1]=e[1]),a(e[0],i[1])>a(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(var o,e,g=-(1/0),n=u.length-1,r=0,i=u[n];n>=r;i=e,++r)e=u[r],(o=a(i[1],e[0]))>g&&(g=o,c=e[0],h=i[1])}return x=b=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[h,p]]}}(),Qu.geo.centroid=function(t){Ma=wa=ka=Sa=Ca=Ea=Na=Aa=za=ja=Pa=0,Qu.geo.stream(t,La);var n=za,e=ja,r=Pa,i=n*n+e*e+r*r;return Do>i&&(n=Ea,e=Na,r=Aa,To>wa&&(n=ka,e=Sa,r=Ca),i=n*n+e*e+r*r,Do>i)?[NaN,NaN]:[Math.atan2(e,n)*qo,ut(r/Math.sqrt(i))*qo]};var Ma,wa,ka,Sa,Ca,Ea,Na,Aa,za,ja,Pa,La={sphere:w,point:Nn,lineStart:zn,lineEnd:jn,polygonStart:function(){La.lineStart=Pn},polygonEnd:function(){La.lineStart=zn}},Oa=Rn(Ln,Yn,Xn,[-Po,-Po/2]),Ta=1e9;Qu.geo.clipExtent=function(){var t,n,e,r,i,u,o={stream:function(t){return i&&(i.valid=!1),i=u(t),i.valid=!0,i},extent:function(a){return arguments.length?(u=Zn(t=+a[0][0],n=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[t,n],[e,r]]}};return o.extent([[0,0],[960,500]])},(Qu.geo.conicEqualArea=function(){return Vn(Gn)}).raw=Gn,Qu.geo.albers=function(){return Qu.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Qu.geo.albersUsa=function(){function t(t){var u=t[0],o=t[1];return n=null,e(u,o),n||(r(u,o),n)||i(u,o),n}var n,e,r,i,u=Qu.geo.albers(),o=Qu.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Qu.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){n=[t,e]}};return t.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?a:u).invert(t)},t.stream=function(t){var n=u.stream(t),e=o.stream(t),r=a.stream(t);return{point:function(t,i){n.point(t,i),e.point(t,i),r.point(t,i)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},t.precision=function(n){return arguments.length?(u.precision(n),o.precision(n),a.precision(n),t):u.precision()},t.scale=function(n){return arguments.length?(u.scale(n),o.scale(.35*n),a.scale(n),t.translate(u.translate())):u.scale()},t.translate=function(n){if(!arguments.length)return u.translate();var l=u.scale(),c=+n[0],f=+n[1];return e=u.translate(n).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(s).point,r=o.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+To,f+.12*l+To],[c-.214*l-To,f+.234*l-To]]).stream(s).point,i=a.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+To,f+.166*l+To],[c-.115*l-To,f+.234*l-To]]).stream(s).point,t},t.scale(1070)};var Da,Ra,qa,Fa,Ia,Ya,Ua={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Ra=0,Ua.lineStart=Jn},polygonEnd:function(){Ua.lineStart=Ua.lineEnd=Ua.point=w,Da+=po(Ra/2)}},Xa={point:Kn,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Ha={point:ne,lineStart:ee,lineEnd:re,polygonStart:function(){Ha.lineStart=ie},polygonEnd:function(){Ha.point=ne,Ha.lineStart=ee,Ha.lineEnd=re}};Qu.geo.path=function(){function t(t){return t&&("function"==typeof a&&u.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(u)),Qu.geo.stream(t,o)),u.result()}function n(){return o=null,t}var e,r,i,u,o,a=4.5;return t.area=function(t){return Da=0,Qu.geo.stream(t,i(Ua)),Da},t.centroid=function(t){return ka=Sa=Ca=Ea=Na=Aa=za=ja=Pa=0,Qu.geo.stream(t,i(Ha)),Pa?[za/Pa,ja/Pa]:Aa?[Ea/Aa,Na/Aa]:Ca?[ka/Ca,Sa/Ca]:[NaN,NaN]},t.bounds=function(t){return Ia=Ya=-(qa=Fa=1/0),Qu.geo.stream(t,i(Xa)),[[qa,Fa],[Ia,Ya]]},t.projection=function(t){return arguments.length?(i=(e=t)?t.stream||ae(t):jt,n()):e},t.context=function(t){return arguments.length?(u=null==(r=t)?new Qn:new ue(t),"function"!=typeof a&&u.pointRadius(a),n()):r},t.pointRadius=function(n){return arguments.length?(a="function"==typeof n?n:(u.pointRadius(+n),+n),t):a},t.projection(Qu.geo.albersUsa()).context(null)},Qu.geo.transform=function(t){return{stream:function(n){var e=new se(n);for(var r in t)e[r]=t[r];return e}}},se.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Qu.geo.projection=ce,Qu.geo.projectionMutator=fe,(Qu.geo.equirectangular=function(){return ce(pe)}).raw=pe.invert=pe,Qu.geo.rotation=function(t){function n(n){return n=t(n[0]*Ro,n[1]*Ro),n[0]*=qo,n[1]*=qo,n}return t=de(t[0]%360*Ro,t[1]*Ro,t.length>2?t[2]*Ro:0),n.invert=function(n){return n=t.invert(n[0]*Ro,n[1]*Ro),n[0]*=qo,n[1]*=qo,n},n},ge.invert=pe,Qu.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,n=de(-t[0]*Ro,-t[1]*Ro,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=qo,t[1]*=qo}}),{type:"Polygon",coordinates:[i]}}var n,e,r=[0,0],i=6;return t.origin=function(n){return arguments.length?(r=n,t):r},t.angle=function(r){return arguments.length?(e=xe((n=+r)*Ro,i*Ro),t):n},t.precision=function(r){return arguments.length?(e=xe(n*Ro,(i=+r)*Ro),t):i},t.angle(90)},Qu.geo.distance=function(t,n){var e,r=(n[0]-t[0])*Ro,i=t[1]*Ro,u=n[1]*Ro,o=Math.sin(r),a=Math.cos(r),s=Math.sin(i),l=Math.cos(i),c=Math.sin(u),f=Math.cos(u);return Math.atan2(Math.sqrt((e=f*o)*e+(e=l*c-s*f*a)*e),s*c+l*f*a)},Qu.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Qu.range(Math.ceil(u/v)*v,i,v).map(h).concat(Qu.range(Math.ceil(l/y)*y,s,y).map(p)).concat(Qu.range(Math.ceil(r/g)*g,e,g).filter(function(t){return po(t%v)>To}).map(c)).concat(Qu.range(Math.ceil(a/d)*d,o,d).filter(function(t){return po(t%y)>To}).map(f))}var e,r,i,u,o,a,s,l,c,f,h,p,g=10,d=g,v=90,y=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(p(s).slice(1),h(i).reverse().slice(1),p(l).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(u=+n[0][0],i=+n[1][0],l=+n[0][1],s=+n[1][1],u>i&&(n=u,u=i,i=n),l>s&&(n=l,l=s,s=n),t.precision(m)):[[u,l],[i,s]]},t.minorExtent=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],o=+n[1][1],r>e&&(n=r,r=e,e=n),a>o&&(n=a,a=o,o=n),t.precision(m)):[[r,a],[e,o]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(v=+n[0],y=+n[1],t):[v,y]},t.minorStep=function(n){return arguments.length?(g=+n[0],d=+n[1],t):[g,d]},t.precision=function(n){return arguments.length?(m=+n,c=_e(a,o,90),f=Me(r,e,m),h=_e(l,s,90),p=Me(u,i,m),t):m},t.majorExtent([[-180,-90+To],[180,90-To]]).minorExtent([[-180,-80-To],[180,80+To]])},Qu.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||i.apply(this,arguments)]}}var n,e,r=we,i=ke;return t.distance=function(){return Qu.geo.distance(n||r.apply(this,arguments),e||i.apply(this,arguments))},t.source=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.target=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.precision=function(){return arguments.length?t:0},t},Qu.geo.interpolate=function(t,n){return Se(t[0]*Ro,t[1]*Ro,n[0]*Ro,n[1]*Ro)},Qu.geo.length=function(t){return Ba=0,Qu.geo.stream(t,Wa),Ba};var Ba,Wa={sphere:w,point:w,lineStart:Ce,lineEnd:w,polygonStart:w,polygonEnd:w},Za=Ee(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Qu.geo.azimuthalEqualArea=function(){return ce(Za)}).raw=Za;var $a=Ee(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},jt);(Qu.geo.azimuthalEquidistant=function(){return ce($a)}).raw=$a,(Qu.geo.conicConformal=function(){return Vn(Ne)}).raw=Ne,(Qu.geo.conicEquidistant=function(){return Vn(Ae)}).raw=Ae;var Va=Ee(function(t){return 1/t},Math.atan);(Qu.geo.gnomonic=function(){return ce(Va)}).raw=Va,ze.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Oo]},(Qu.geo.mercator=function(){return je(ze)}).raw=ze;var Ga=Ee(function(){return 1},Math.asin);(Qu.geo.orthographic=function(){return ce(Ga)}).raw=Ga;var Ja=Ee(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Qu.geo.stereographic=function(){return ce(Ja)}).raw=Ja,Pe.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Oo]},(Qu.geo.transverseMercator=function(){var t=je(Pe),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90])}).raw=Pe,Qu.geom={},Qu.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,i=zt(e),u=zt(r),o=t.length,a=[],s=[];for(n=0;o>n;n++)a.push([+i.call(this,t[n],n),+u.call(this,t[n],n),n]);for(a.sort(De),n=0;o>n;n++)s.push([a[n][0],-a[n][1]]);var l=Te(a),c=Te(s),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],p=[];for(n=l.length-1;n>=0;--n)p.push(t[a[l[n]][2]]);for(n=+f;n<c.length-h;++n)p.push(t[a[c[n]][2]]);return p}var e=Le,r=Oe;return arguments.length?n(t):(n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n)},Qu.geom.polygon=function(t){return xo(t,Ka),t};var Ka=Qu.geom.polygon.prototype=[];Ka.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],i=0;++n<e;)t=r,r=this[n],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ka.centroid=function(t){var n,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)n=a,a=this[r],e=n[0]*a[1]-a[0]*n[1],u+=(n[0]+a[0])*e,o+=(n[1]+a[1])*e;return[u*t,o*t]},Ka.clip=function(t){for(var n,e,r,i,u,o,a=Fe(t),s=-1,l=this.length-Fe(this),c=this[l-1];++s<l;){for(n=t.slice(),t.length=0,i=this[s],u=n[(r=n.length-a)-1],e=-1;++e<r;)o=n[e],Re(o,c,i)?(Re(u,c,i)||t.push(qe(u,o,c,i)),t.push(o)):Re(u,c,i)&&t.push(qe(u,o,c,i)),u=o;a&&t.push(t[0]),c=i}return t};var Qa,ts,ns,es,rs,is=[],us=[];Ze.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)t=n[e].edge,t.b&&t.a||n.splice(e,1);return n.sort(Ve),n.length},ur.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},or.prototype={insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=cr(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(sr(this,e),t=e,e=t.U),e.C=!1,r.C=!0,lr(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(lr(this,e),t=e,e=t.U),e.C=!1,r.C=!0,sr(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,u=t.L,o=t.R;if(e=u?o?cr(o):u:o,i?i.L===t?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=t.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=o,o.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,sr(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,lr(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,sr(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,lr(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,sr(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,lr(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},Qu.geom.voronoi=function(t){function n(t){var n=new Array(t.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return fr(e(t),a).cells.forEach(function(e,a){var s=e.edges,l=e.site,c=n[a]=s.length?s.map(function(t){var n=t.start();return[n.x,n.y]}):l.x>=r&&l.x<=u&&l.y>=i&&l.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[];c.point=t[a]}),n}function e(t){return t.map(function(t,n){return{x:Math.round(u(t,n)/To)*To,y:Math.round(o(t,n)/To)*To,i:n}})}var r=Le,i=Oe,u=r,o=i,a=os;return t?n(t):(n.links=function(t){return fr(e(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},n.triangles=function(t){var n=[];return fr(e(t)).cells.forEach(function(e,r){for(var i,u,o=e.site,a=e.edges.sort(Ve),s=-1,l=a.length,c=a[l-1].edge,f=c.l===o?c.r:c.l;++s<l;)i=c,u=f,c=a[s].edge,f=c.l===o?c.r:c.l,r<u.i&&r<f.i&&pr(o,u,f)<0&&n.push([t[r],t[u.i],t[f.i]])}),n},n.x=function(t){return arguments.length?(u=zt(r=t),n):r},n.y=function(t){return arguments.length?(o=zt(i=t),n):i},n.clipExtent=function(t){return arguments.length?(a=null==t?os:t,n):a===os?null:a},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):a===os?null:a&&a[1]},n)};var os=[[-1e6,-1e6],[1e6,1e6]];Qu.geom.delaunay=function(t){return Qu.geom.voronoi().triangles(t)},Qu.geom.quadtree=function(t,n,e,r,i){function u(t){function u(t,n,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var s=t.x,c=t.y;if(null!=s)if(po(s-e)+po(c-r)<.01)l(t,n,e,r,i,u,o,a);else{var f=t.point;t.x=t.y=t.point=null,l(t,f,s,c,i,u,o,a),l(t,n,e,r,i,u,o,a)}else t.x=e,t.y=r,t.point=n}else l(t,n,e,r,i,u,o,a)}function l(t,n,e,r,i,o,a,s){var l=.5*(i+a),c=.5*(o+s),f=e>=l,h=r>=c,p=(h<<1)+f;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=vr()),f?i=l:a=l,h?o=c:s=c,u(t,n,e,r,i,o,a,s)}var c,f,h,p,g,d,v,y,m,x=zt(a),b=zt(s);if(null!=n)d=n,v=e,y=r,m=i;else if(y=m=-(d=v=1/0),f=[],h=[],g=t.length,o)for(p=0;g>p;++p)c=t[p],c.x<d&&(d=c.x),c.y<v&&(v=c.y),c.x>y&&(y=c.x),c.y>m&&(m=c.y),f.push(c.x),h.push(c.y);else for(p=0;g>p;++p){var _=+x(c=t[p],p),M=+b(c,p);d>_&&(d=_),v>M&&(v=M),_>y&&(y=_),M>m&&(m=M),f.push(_),h.push(M)}var w=y-d,k=m-v;w>k?m=v+w:y=d+k;var S=vr();if(S.add=function(t){u(S,t,+x(t,++p),+b(t,p),d,v,y,m)},S.visit=function(t){yr(t,S,d,v,y,m)},p=-1,null==n){for(;++p<g;)u(S,t[p],f[p],h[p],d,v,y,m);--p}else t.forEach(S.add);return f=h=t=c=null,S}var o,a=Le,s=Oe;return(o=arguments.length)?(a=gr,s=dr,3===o&&(i=e,r=n,e=n=0),u(t)):(u.x=function(t){return arguments.length?(a=t,u):a},u.y=function(t){return arguments.length?(s=t,u):s},u.extent=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==n?null:[[n,e],[r,i]]},u.size=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=e=0,r=+t[0],i=+t[1]),u):null==n?null:[r-n,i-e]},u)},Qu.interpolateRgb=mr,Qu.interpolateObject=xr,Qu.interpolateNumber=br,Qu.interpolateString=_r;var as=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ss=new RegExp(as.source,"g");Qu.interpolate=Mr,Qu.interpolators=[function(t,n){var e=typeof n;return("string"===e?Qo.has(n)||/^(#|rgb\(|hsl\()/.test(n)?mr:_r:n instanceof ct?mr:Array.isArray(n)?wr:"object"===e&&isNaN(n)?xr:br)(t,n)}],Qu.interpolateArray=wr;var ls=function(){return jt},cs=Qu.map({linear:ls,poly:zr,quad:function(){return Er},cubic:function(){return Nr},sin:function(){return jr},exp:function(){return Pr},circle:function(){return Lr},elastic:Or,back:Tr,bounce:function(){return Dr}}),fs=Qu.map({"in":jt,out:Sr,"in-out":Cr,"out-in":function(t){return Cr(Sr(t))}});Qu.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.slice(0,n):t,r=n>=0?t.slice(n+1):"in";return e=cs.get(e)||ls,r=fs.get(r)||jt,kr(r(e.apply(null,to.call(arguments,1))))},Qu.interpolateHcl=Rr,Qu.interpolateHsl=qr,Qu.interpolateLab=Fr,Qu.interpolateRound=Ir,Qu.transform=function(t){var n=eo.createElementNS(Qu.ns.prefix.svg,"g");return(Qu.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Yr(e?e.matrix:hs)})(t)},Yr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hs={a:1,b:0,c:0,d:1,e:0,f:0};Qu.interpolateTransform=Br,Qu.layout={},Qu.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push($r(t[e]));return n}},Qu.layout.chord=function(){function t(){var t,l,f,h,p,g={},d=[],v=Qu.range(u),y=[];for(e=[],r=[],t=0,h=-1;++h<u;){for(l=0,p=-1;++p<u;)l+=i[h][p];d.push(l),y.push(Qu.range(u)),t+=l}for(o&&v.sort(function(t,n){return o(d[t],d[n])}),a&&y.forEach(function(t,n){t.sort(function(t,e){return a(i[n][t],i[n][e])})}),t=(Lo-c*u)/t,l=0,h=-1;++h<u;){for(f=l,p=-1;++p<u;){var m=v[h],x=y[m][p],b=i[m][x],_=l,M=l+=b*t;g[m+"-"+x]={index:m,subindex:x,startAngle:_,endAngle:M,value:b}}r[m]={index:m,startAngle:f,endAngle:l,value:(l-f)/t},l+=c}for(h=-1;++h<u;)for(p=h-1;++p<u;){var w=g[h+"-"+p],k=g[p+"-"+h];(w.value||k.value)&&e.push(w.value<k.value?{source:k,target:w}:{source:w,target:k})}s&&n()}function n(){e.sort(function(t,n){return s((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var e,r,i,u,o,a,s,l={},c=0;return l.matrix=function(t){return arguments.length?(u=(i=t)&&i.length,e=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,e=r=null,l):c},l.sortGroups=function(t){return arguments.length?(o=t,e=r=null,l):o},l.sortSubgroups=function(t){return arguments.length?(a=t,e=null,l):a},l.sortChords=function(t){return arguments.length?(s=t,e&&n(),l):s},l.chords=function(){return e||t(),e},l.groups=function(){return r||t(),r},l},Qu.layout.force=function(){function t(t){return function(n,e,r,i){if(n.point!==t){var u=n.cx-t.x,o=n.cy-t.y,a=i-e,s=u*u+o*o;if(s>a*a/v){if(g>s){var l=n.charge/s;t.px-=u*l,t.py-=o*l}return!0}if(n.point&&s&&g>s){var l=n.pointCharge/s;t.px-=u*l,t.py-=o*l}}return!n.charge}}function n(t){t.px=Qu.event.x,t.py=Qu.event.y,a.resume()}var e,r,i,u,o,a={},s=Qu.dispatch("start","tick","end"),l=[1,1],c=.9,f=ps,h=gs,p=-30,g=ds,d=.1,v=.64,y=[],m=[];return a.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var n,e,a,f,h,g,v,x,b,_=y.length,M=m.length;for(e=0;M>e;++e)a=m[e],f=a.source,h=a.target,x=h.x-f.x,b=h.y-f.y,(g=x*x+b*b)&&(g=r*u[e]*((g=Math.sqrt(g))-i[e])/g,x*=g,b*=g,h.x-=x*(v=f.weight/(h.weight+f.weight)),h.y-=b*v,f.x+=x*(v=1-v),f.y+=b*v);if((v=r*d)&&(x=l[0]/2,b=l[1]/2,e=-1,v))for(;++e<_;)a=y[e],a.x+=(x-a.x)*v,a.y+=(b-a.y)*v;if(p)for(ni(n=Qu.geom.quadtree(y),r,o),e=-1;++e<_;)(a=y[e]).fixed||n.visit(t(a));for(e=-1;++e<_;)a=y[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*c,a.y-=(a.py-(a.py=a.y))*c);s.tick({type:"tick",alpha:r})},a.nodes=function(t){return arguments.length?(y=t,a):y},a.links=function(t){return arguments.length?(m=t,a):m},a.size=function(t){return arguments.length?(l=t,a):l},a.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.friction=function(t){return arguments.length?(c=+t,a):c},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.gravity=function(t){return arguments.length?(d=+t,a):d},a.theta=function(t){return arguments.length?(v=t*t,a):Math.sqrt(v)},a.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),Qu.timer(a.tick)),a):r},a.start=function(){function t(t,r){if(!e){for(e=new Array(s),a=0;s>a;++a)e[a]=[];for(a=0;l>a;++a){var i=m[a];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var u,o=e[n],a=-1,l=o.length;++a<l;)if(!isNaN(u=o[a][t]))return u;return Math.random()*r}var n,e,r,s=y.length,c=m.length,g=l[0],d=l[1];for(n=0;s>n;++n)(r=y[n]).index=n,r.weight=0;for(n=0;c>n;++n)r=m[n],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(n=0;s>n;++n)r=y[n],isNaN(r.x)&&(r.x=t("x",g)),isNaN(r.y)&&(r.y=t("y",d)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(n=0;c>n;++n)i[n]=+f.call(this,m[n],n);else for(n=0;c>n;++n)i[n]=f;if(u=[],"function"==typeof h)for(n=0;c>n;++n)u[n]=+h.call(this,m[n],n);else for(n=0;c>n;++n)u[n]=h;if(o=[],"function"==typeof p)for(n=0;s>n;++n)o[n]=+p.call(this,y[n],n);else for(n=0;s>n;++n)o[n]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Qu.behavior.drag().origin(jt).on("dragstart.force",Jr).on("drag.force",n).on("dragend.force",Kr)),arguments.length?void this.on("mouseover.force",Qr).on("mouseout.force",ti).call(e):e},Qu.rebind(a,s,"on")};var ps=20,gs=1,ds=1/0;Qu.layout.hierarchy=function(){function t(i){var u,o=[i],a=[];for(i.depth=0;null!=(u=o.pop());)if(a.push(u),(l=e.call(t,u,u.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)o.push(c=l[s]),c.parent=u,c.depth=u.depth+1;r&&(u.value=0),u.children=l}else r&&(u.value=+r.call(t,u,u.depth)||0),delete u.children;return ii(i,function(t){var e,i;n&&(e=t.children)&&e.sort(n),r&&(i=t.parent)&&(i.value+=t.value)}),a}var n=ai,e=ui,r=oi;return t.sort=function(e){return arguments.length?(n=e,t):n},t.children=function(n){return arguments.length?(e=n,t):e},t.value=function(n){return arguments.length?(r=n,t):r},t.revalue=function(n){return r&&(ri(n,function(t){t.children&&(t.value=0)}),ii(n,function(n){var e;n.children||(n.value=+r.call(t,n,n.depth)||0),(e=n.parent)&&(e.value+=n.value)})),n},t},Qu.layout.partition=function(){function t(n,e,r,i){var u=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,u&&(o=u.length)){var o,a,s,l=-1;for(r=n.value?r/n.value:0;++l<o;)t(a=u[l],e,s=a.value*r,i),e+=s}}function n(t){var e=t.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,n(e[u]));return 1+r}function e(e,u){var o=r.call(this,e,u);return t(o[0],0,i[0],i[1]/n(o[0])),o}var r=Qu.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},ei(e,r)},Qu.layout.pie=function(){function t(u){var o=u.map(function(e,r){return+n.call(t,e,r)}),a=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof i?i.apply(this,arguments):i)-a)/Qu.sum(o),l=Qu.range(u.length);null!=e&&l.sort(e===vs?function(t,n){return o[n]-o[t]}:function(t,n){return e(u[t],u[n])});var c=[];return l.forEach(function(t){var n;c[t]={data:u[t],value:n=o[t],startAngle:a,endAngle:a+=n*s}}),c}var n=Number,e=vs,r=0,i=Lo;return t.value=function(e){return arguments.length?(n=e,t):n},t.sort=function(n){return arguments.length?(e=n,t):e},t.startAngle=function(n){return arguments.length?(r=n,t):r},t.endAngle=function(n){return arguments.length?(i=n,t):i},t};var vs={};Qu.layout.stack=function(){function t(a,s){if(!(h=a.length))return a;var l=a.map(function(e,r){return n.call(t,e,r)}),c=l.map(function(n){return n.map(function(n,e){return[u.call(t,n,e),o.call(t,n,e)]})}),f=e.call(t,c,s);l=Qu.permute(l,f),c=Qu.permute(c,f);var h,p,g,d,v=r.call(t,c,s),y=l[0].length;for(g=0;y>g;++g)for(i.call(t,l[0][g],d=v[g],c[0][g][1]),p=1;h>p;++p)i.call(t,l[p][g],d+=c[p-1][g][1],c[p][g][1]);return a}var n=jt,e=hi,r=pi,i=fi,u=li,o=ci;return t.values=function(e){return arguments.length?(n=e,t):n},t.order=function(n){return arguments.length?(e="function"==typeof n?n:ys.get(n)||hi,t):e},t.offset=function(n){return arguments.length?(r="function"==typeof n?n:ms.get(n)||pi,t):r},t.x=function(n){return arguments.length?(u=n,t):u},t.y=function(n){return arguments.length?(o=n,t):o},t.out=function(n){return arguments.length?(i=n,t):i},t};var ys=Qu.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(gi),u=t.map(di),o=Qu.range(r).sort(function(t,n){return i[t]-i[n]}),a=0,s=0,l=[],c=[];for(n=0;r>n;++n)e=o[n],s>a?(a+=u[e],l.push(e)):(s+=u[e],c.push(e));return c.reverse().concat(l)},reverse:function(t){return Qu.range(t.length).reverse()},"default":hi}),ms=Qu.map({silhouette:function(t){var n,e,r,i=t.length,u=t[0].length,o=[],a=0,s=[];for(e=0;u>e;++e){for(n=0,r=0;i>n;n++)r+=t[n][e][1];r>a&&(a=r),o.push(r)}for(e=0;u>e;++e)s[e]=(a-o[e])/2;return s},wiggle:function(t){var n,e,r,i,u,o,a,s,l,c=t.length,f=t[0],h=f.length,p=[];for(p[0]=s=l=0,e=1;h>e;++e){for(n=0,i=0;c>n;++n)i+=t[n][e][1];for(n=0,u=0,a=f[e][0]-f[e-1][0];c>n;++n){for(r=0,o=(t[n][e][1]-t[n][e-1][1])/(2*a);n>r;++r)o+=(t[r][e][1]-t[r][e-1][1])/a;u+=o*t[n][e][1]}p[e]=s-=i?u/i*a:0,l>s&&(l=s)}for(e=0;h>e;++e)p[e]-=l;return p},expand:function(t){var n,e,r,i=t.length,u=t[0].length,o=1/i,a=[];for(e=0;u>e;++e){for(n=0,r=0;i>n;n++)r+=t[n][e][1];if(r)for(n=0;i>n;n++)t[n][e][1]/=r;else for(n=0;i>n;n++)t[n][e][1]=o}for(e=0;u>e;++e)a[e]=0;return a},zero:pi});Qu.layout.histogram=function(){function t(t,u){for(var o,a,s=[],l=t.map(e,this),c=r.call(this,l,u),f=i.call(this,c,l,u),u=-1,h=l.length,p=f.length-1,g=n?1:1/h;++u<p;)o=s[u]=[],o.dx=f[u+1]-(o.x=f[u]),o.y=0;if(p>0)for(u=-1;++u<h;)a=l[u],a>=c[0]&&a<=c[1]&&(o=s[Qu.bisect(f,a,1,p)-1],o.y+=g,o.push(t[u]));return s}var n=!0,e=Number,r=xi,i=yi;return t.value=function(n){return arguments.length?(e=n,t):e},t.range=function(n){return arguments.length?(r=zt(n),t):r},t.bins=function(n){return arguments.length?(i="number"==typeof n?function(t){return mi(t,n)}:zt(n),t):i},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},Qu.layout.pack=function(){function t(t,u){var o=e.call(this,t,u),a=o[0],s=i[0],l=i[1],c=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(a.x=a.y=0,ii(a,function(t){t.r=+c(t.value)}),ii(a,ki),r){var f=r*(n?1:Math.max(2*a.r/s,2*a.r/l))/2;ii(a,function(t){t.r+=f}),ii(a,ki),ii(a,function(t){t.r-=f})}return Ei(a,s/2,l/2,n?1:1/Math.max(2*a.r/s,2*a.r/l)),o}var n,e=Qu.layout.hierarchy().sort(bi),r=0,i=[1,1];return t.size=function(n){return arguments.length?(i=n,t):i},t.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,t):n},t.padding=function(n){return arguments.length?(r=+n,t):r},ei(t,e)},Qu.layout.tree=function(){function t(t,i){var c=o.call(this,t,i),f=c[0],h=n(f);if(ii(h,e),h.parent.m=-h.z,ri(h,r),l)ri(f,u);else{var p=f,g=f,d=f;ri(f,function(t){t.x<p.x&&(p=t),t.x>g.x&&(g=t),t.depth>d.depth&&(d=t)});var v=a(p,g)/2-p.x,y=s[0]/(g.x+a(g,p)/2+v),m=s[1]/(d.depth||1);ri(f,function(t){t.x=(t.x+v)*y,t.y=t.depth*m})}return c}function n(t){for(var n,e={A:null,children:[t]},r=[e];null!=(n=r.pop());)for(var i,u=n.children,o=0,a=u.length;a>o;++o)r.push((u[o]=i={_:u[o],parent:n,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return e.children[0]}function e(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n.length){Li(t);var u=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+a(t._,r._),t.m=t.z-u):t.z=u}else r&&(t.z=r.z+a(t._,r._));t.parent.A=i(t,r,t.parent.A||e[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,n,e){if(n){for(var r,i=t,u=t,o=n,s=i.parent.children[0],l=i.m,c=u.m,f=o.m,h=s.m;o=ji(o),i=zi(i),o&&i;)s=zi(s),u=ji(u),u.a=t,r=o.z+f-i.z-l+a(o._,i._),r>0&&(Pi(Oi(o,t,e),t,r),l+=r,c+=r),f+=o.m,l+=i.m,h+=s.m,c+=u.m;o&&!ji(u)&&(u.t=o,u.m+=f-c),i&&!zi(s)&&(s.t=i,s.m+=l-h,e=t)}return e}function u(t){t.x*=s[0],t.y=t.depth*s[1]}var o=Qu.layout.hierarchy().sort(null).value(null),a=Ai,s=[1,1],l=null;return t.separation=function(n){return arguments.length?(a=n,t):a},t.size=function(n){return arguments.length?(l=null==(s=n)?u:null,t):l?null:s},t.nodeSize=function(n){return arguments.length?(l=null==(s=n)?null:u,t):l?s:null},ei(t,o)},Qu.layout.cluster=function(){function t(t,u){var o,a=n.call(this,t,u),s=a[0],l=0;ii(s,function(t){var n=t.children;n&&n.length?(t.x=Di(n),t.y=Ti(n)):(t.x=o?l+=e(t,o):0,t.y=0,o=t)});var c=Ri(s),f=qi(s),h=c.x-e(c,f)/2,p=f.x+e(f,c)/2;return ii(s,i?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),a}var n=Qu.layout.hierarchy().sort(null).value(null),e=Ai,r=[1,1],i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(i=null==(r=n),t):i?null:r},t.nodeSize=function(n){return arguments.length?(i=null!=(r=n),t):i?r:null},ei(t,n)},Qu.layout.treemap=function(){function t(t,n){for(var e,r,i=-1,u=t.length;++i<u;)r=(e=t[i]).value*(0>n?0:n),e.area=isNaN(r)||0>=r?0:r}function n(e){var u=e.children;if(u&&u.length){var o,a,s,l=f(e),c=[],h=u.slice(),g=1/0,d="slice"===p?l.dx:"dice"===p?l.dy:"slice-dice"===p?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(h,l.dx*l.dy/e.value),c.area=0;(s=h.length)>0;)c.push(o=h[s-1]),c.area+=o.area,"squarify"!==p||(a=r(c,d))<=g?(h.pop(),g=a):(c.area-=c.pop().area,i(c,d,l,!1),d=Math.min(l.dx,l.dy),c.length=c.area=0,g=1/0);c.length&&(i(c,d,l,!0),c.length=c.area=0),u.forEach(n)}}function e(n){var r=n.children;if(r&&r.length){var u,o=f(n),a=r.slice(),s=[];for(t(a,o.dx*o.dy/n.value),s.area=0;u=a.pop();)s.push(u),s.area+=u.area,null!=u.z&&(i(s,u.z?o.dx:o.dy,o,!a.length),s.length=s.area=0);r.forEach(e)}}function r(t,n){for(var e,r=t.area,i=0,u=1/0,o=-1,a=t.length;++o<a;)(e=t[o].area)&&(u>e&&(u=e),e>i&&(i=e));return r*=r,n*=n,r?Math.max(n*i*g/r,r/(n*u*g)):1/0}function i(t,n,e,r){var i,u=-1,o=t.length,a=e.x,l=e.y,c=n?s(t.area/n):0;if(n==e.dx){for((r||c>e.dy)&&(c=e.dy);++u<o;)i=t[u],i.x=a,i.y=l,i.dy=c,a+=i.dx=Math.min(e.x+e.dx-a,c?s(i.area/c):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=c,e.dy-=c}else{for((r||c>e.dx)&&(c=e.dx);++u<o;)i=t[u],i.x=a,i.y=l,i.dx=c,l+=i.dy=Math.min(e.y+e.dy-l,c?s(i.area/c):0);i.z=!1,i.dy+=e.y+e.dy-l,e.x+=c,e.dx-=c}}function u(r){var i=o||a(r),u=i[0];return u.x=0,u.y=0,u.dx=l[0],u.dy=l[1],o&&a.revalue(u),t([u],u.dx*u.dy/u.value),(o?e:n)(u),h&&(o=i),i}var o,a=Qu.layout.hierarchy(),s=Math.round,l=[1,1],c=null,f=Fi,h=!1,p="squarify",g=.5*(1+Math.sqrt(5));return u.size=function(t){return arguments.length?(l=t,u):l},u.padding=function(t){function n(n){var e=t.call(u,n,n.depth);return null==e?Fi(n):Ii(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return Ii(n,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?Fi:"function"==(r=typeof t)?n:"number"===r?(t=[t,t,t,t],e):e,u},u.round=function(t){return arguments.length?(s=t?Math.round:Number,u):s!=Number},u.sticky=function(t){return arguments.length?(h=t,o=null,u):h;
},u.ratio=function(t){return arguments.length?(g=t,u):g},u.mode=function(t){return arguments.length?(p=t+"",u):p},ei(u,a)},Qu.random={normal:function(t,n){var e=arguments.length;return 2>e&&(n=1),1>e&&(t=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Qu.random.normal.apply(Qu,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=Qu.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;t>e;e++)n+=Math.random();return n}}},Qu.scale={};var xs={floor:jt,ceil:jt};Qu.scale.linear=function(){return Zi([0,1],[0,1],Mr,!1)};var bs={s:1,g:1,p:1,r:1,e:1};Qu.scale.log=function(){return nu(Qu.scale.linear().domain([0,1]),10,!0,[1,10])};var _s=Qu.format(".0e"),Ms={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Qu.scale.pow=function(){return eu(Qu.scale.linear(),1,[0,1])},Qu.scale.sqrt=function(){return Qu.scale.pow().exponent(.5)},Qu.scale.ordinal=function(){return iu([],{t:"range",a:[[]]})},Qu.scale.category10=function(){return Qu.scale.ordinal().range(ws)},Qu.scale.category20=function(){return Qu.scale.ordinal().range(ks)},Qu.scale.category20b=function(){return Qu.scale.ordinal().range(Ss)},Qu.scale.category20c=function(){return Qu.scale.ordinal().range(Cs)};var ws=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wt),ks=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wt),Ss=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wt),Cs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wt);Qu.scale.quantile=function(){return uu([],[])},Qu.scale.quantize=function(){return ou(0,1,[0,1])},Qu.scale.threshold=function(){return au([.5],[0,1])},Qu.scale.identity=function(){return su([0,1])},Qu.svg={},Qu.svg.arc=function(){function t(){var t=n.apply(this,arguments),u=e.apply(this,arguments),o=r.apply(this,arguments)+Es,a=i.apply(this,arguments)+Es,s=(o>a&&(s=o,o=a,a=s),a-o),l=Po>s?"0":"1",c=Math.cos(o),f=Math.sin(o),h=Math.cos(a),p=Math.sin(a);return s>=Ns?t?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":t?"M"+u*c+","+u*f+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*p+"L"+t*h+","+t*p+"A"+t+","+t+" 0 "+l+",0 "+t*c+","+t*f+"Z":"M"+u*c+","+u*f+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*p+"L0,0Z"}var n=lu,e=cu,r=fu,i=hu;return t.innerRadius=function(e){return arguments.length?(n=zt(e),t):n},t.outerRadius=function(n){return arguments.length?(e=zt(n),t):e},t.startAngle=function(n){return arguments.length?(r=zt(n),t):r},t.endAngle=function(n){return arguments.length?(i=zt(n),t):i},t.centroid=function(){var t=(n.apply(this,arguments)+e.apply(this,arguments))/2,u=(r.apply(this,arguments)+i.apply(this,arguments))/2+Es;return[Math.cos(u)*t,Math.sin(u)*t]},t};var Es=-Oo,Ns=Lo-To;Qu.svg.line=function(){return pu(jt)};var As=Qu.map({linear:gu,"linear-closed":du,step:vu,"step-before":yu,"step-after":mu,basis:ku,"basis-open":Su,"basis-closed":Cu,bundle:Eu,cardinal:_u,"cardinal-open":xu,"cardinal-closed":bu,monotone:Lu});As.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var zs=[0,2/3,1/3,0],js=[0,1/3,2/3,0],Ps=[0,1/6,2/3,1/6];Qu.svg.line.radial=function(){var t=pu(Ou);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},yu.reverse=mu,mu.reverse=yu,Qu.svg.area=function(){return Tu(jt)},Qu.svg.area.radial=function(){var t=Tu(Ou);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Qu.svg.chord=function(){function t(t,a){var s=n(this,u,t,a),l=n(this,o,t,a);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(e(s,l)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,s.r,s.p0))+"Z"}function n(t,n,e,r){var i=n.call(t,e,r),u=a.call(t,i,r),o=s.call(t,i,r)+Es,c=l.call(t,i,r)+Es;return{r:u,a0:o,a1:c,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function e(t,n){return t.a0==n.a0&&t.a1==n.a1}function r(t,n,e){return"A"+t+","+t+" 0 "+ +(e>Po)+",1 "+n}function i(t,n,e,r){return"Q 0,0 "+r}var u=we,o=ke,a=Du,s=fu,l=hu;return t.radius=function(n){return arguments.length?(a=zt(n),t):a},t.source=function(n){return arguments.length?(u=zt(n),t):u},t.target=function(n){return arguments.length?(o=zt(n),t):o},t.startAngle=function(n){return arguments.length?(s=zt(n),t):s},t.endAngle=function(n){return arguments.length?(l=zt(n),t):l},t},Qu.svg.diagonal=function(){function t(t,i){var u=n.call(this,t,i),o=e.call(this,t,i),a=(u.y+o.y)/2,s=[u,{x:u.x,y:a},{x:o.x,y:a},o];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var n=we,e=ke,r=Ru;return t.source=function(e){return arguments.length?(n=zt(e),t):n},t.target=function(n){return arguments.length?(e=zt(n),t):e},t.projection=function(n){return arguments.length?(r=n,t):r},t},Qu.svg.diagonal.radial=function(){var t=Qu.svg.diagonal(),n=Ru,e=t.projection;return t.projection=function(t){return arguments.length?e(qu(n=t)):n},t},Qu.svg.symbol=function(){function t(t,r){return(Ls.get(n.call(this,t,r))||Yu)(e.call(this,t,r))}var n=Iu,e=Fu;return t.type=function(e){return arguments.length?(n=zt(e),t):n},t.size=function(n){return arguments.length?(e=zt(n),t):e},t};var Ls=Qu.map({circle:Yu,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Rs)),e=n*Rs;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Ds),e=n*Ds/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Ds),e=n*Ds/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});Qu.svg.symbolTypes=Ls.keys();var Os,Ts,Ds=Math.sqrt(3),Rs=Math.tan(30*Ro),qs=[],Fs=0;qs.call=ko.call,qs.empty=ko.empty,qs.node=ko.node,qs.size=ko.size,Qu.transition=function(t){return arguments.length?Os?t.transition():t:Eo.transition()},Qu.transition.prototype=qs,qs.select=function(t){var n,e,r,i=this.id,u=[];t=z(t);for(var o=-1,a=this.length;++o<a;){u.push(n=[]);for(var s=this[o],l=-1,c=s.length;++l<c;)(r=s[l])&&(e=t.call(r,r.__data__,l,o))?("__data__"in r&&(e.__data__=r.__data__),Bu(e,l,i,r.__transition__[i]),n.push(e)):n.push(null)}return Uu(u,i)},qs.selectAll=function(t){var n,e,r,i,u,o=this.id,a=[];t=j(t);for(var s=-1,l=this.length;++s<l;)for(var c=this[s],f=-1,h=c.length;++f<h;)if(r=c[f]){u=r.__transition__[o],e=t.call(r,r.__data__,f,s),a.push(n=[]);for(var p=-1,g=e.length;++p<g;)(i=e[p])&&Bu(i,p,o,u),n.push(i)}return Uu(a,o)},qs.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=U(t));for(var u=0,o=this.length;o>u;u++){i.push(n=[]);for(var e=this[u],a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,u)&&n.push(r)}return Uu(i,this.id)},qs.tween=function(t,n){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(t):H(this,null==n?function(n){n.__transition__[e].tween.remove(t)}:function(r){r.__transition__[e].tween.set(t,n)})},qs.attr=function(t,n){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(t){return null==t?e:(t+="",function(){var n,e=this.getAttribute(a);return e!==t&&(n=o(e,t),function(t){this.setAttribute(a,n(t))})})}function u(t){return null==t?r:(t+="",function(){var n,e=this.getAttributeNS(a.space,a.local);return e!==t&&(n=o(e,t),function(t){this.setAttributeNS(a.space,a.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var o="transform"==t?Br:Mr,a=Qu.ns.qualify(t);return Xu(this,"attr."+t,n,a.local?u:i)},qs.attrTween=function(t,n){function e(t,e){var r=n.call(this,t,e,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,e){var r=n.call(this,t,e,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Qu.ns.qualify(t);return this.tween("attr."+t,i.local?r:e)},qs.style=function(t,n,e){function r(){this.style.removeProperty(t)}function i(n){return null==n?r:(n+="",function(){var r,i=io.getComputedStyle(this,null).getPropertyValue(t);return i!==n&&(r=Mr(i,n),function(n){this.style.setProperty(t,r(n),e)})})}var u=arguments.length;if(3>u){if("string"!=typeof t){2>u&&(n="");for(e in t)this.style(e,t[e],n);return this}e=""}return Xu(this,"style."+t,n,i)},qs.styleTween=function(t,n,e){function r(r,i){var u=n.call(this,r,i,io.getComputedStyle(this,null).getPropertyValue(t));return u&&function(n){this.style.setProperty(t,u(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,r)},qs.text=function(t){return Xu(this,"text",t,Hu)},qs.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},qs.ease=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].ease:("function"!=typeof t&&(t=Qu.ease.apply(Qu,arguments)),H(this,function(e){e.__transition__[n].ease=t}))},qs.delay=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].delay:H(this,"function"==typeof t?function(e,r,i){e.__transition__[n].delay=+t.call(e,e.__data__,r,i)}:(t=+t,function(e){e.__transition__[n].delay=t}))},qs.duration=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].duration:H(this,"function"==typeof t?function(e,r,i){e.__transition__[n].duration=Math.max(1,t.call(e,e.__data__,r,i))}:(t=Math.max(1,t),function(e){e.__transition__[n].duration=t}))},qs.each=function(t,n){var e=this.id;if(arguments.length<2){var r=Ts,i=Os;Os=e,H(this,function(n,r,i){Ts=n.__transition__[e],t.call(n,n.__data__,r,i)}),Ts=r,Os=i}else H(this,function(r){var i=r.__transition__[e];(i.event||(i.event=Qu.dispatch("start","end"))).on(t,n)});return this},qs.transition=function(){for(var t,n,e,r,i=this.id,u=++Fs,o=[],a=0,s=this.length;s>a;a++){o.push(t=[]);for(var n=this[a],l=0,c=n.length;c>l;l++)(e=n[l])&&(r=Object.create(e.__transition__[i]),r.delay+=r.duration,Bu(e,l,u,r)),t.push(e)}return Uu(o,u)},Qu.svg.axis=function(){function t(t){t.each(function(){var t,l=Qu.select(this),c=this.__chart__||e,f=this.__chart__=e.copy(),h=null==s?f.ticks?f.ticks.apply(f,a):f.domain():s,p=null==n?f.tickFormat?f.tickFormat.apply(f,a):jt:n,g=l.selectAll(".tick").data(h,f),d=g.enter().insert("g",".domain").attr("class","tick").style("opacity",To),v=Qu.transition(g.exit()).style("opacity",To).remove(),y=Qu.transition(g.order()).style("opacity",1),m=Math.max(i,0)+o,x=Ui(f),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),Qu.transition(b));d.append("line"),d.append("text");var M,w,k,S,C=d.select("line"),E=y.select("line"),N=g.select("text").text(p),A=d.select("text"),z=y.select("text"),j="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Wu,M="x",k="y",w="x2",S="y2",N.attr("dy",0>j?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+j*u+"V0H"+x[1]+"V"+j*u)):(t=Zu,M="y",k="x",w="y2",S="x2",N.attr("dy",".32em").style("text-anchor",0>j?"end":"start"),_.attr("d","M"+j*u+","+x[0]+"H0V"+x[1]+"H"+j*u)),C.attr(S,j*i),A.attr(k,j*m),E.attr(w,0).attr(S,j*i),z.attr(M,0).attr(k,j*m),f.rangeBand){var P=f,L=P.rangeBand()/2;c=f=function(t){return P(t)+L}}else c.rangeBand?c=f:v.call(t,f,c);d.call(t,c,f),y.call(t,f,f)})}var n,e=Qu.scale.linear(),r=Is,i=6,u=6,o=3,a=[10],s=null;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(r=n in Ys?n+"":Is,t):r},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(n){return arguments.length?(s=n,t):s},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n){var e=arguments.length;return e?(i=+n,u=+arguments[e-1],t):i},t.innerTickSize=function(n){return arguments.length?(i=+n,t):i},t.outerTickSize=function(n){return arguments.length?(u=+n,t):u},t.tickPadding=function(n){return arguments.length?(o=+n,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Is="bottom",Ys={top:1,right:1,bottom:1,left:1};Qu.svg.brush=function(){function t(u){u.each(function(){var u=Qu.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=u.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),u.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=u.selectAll(".resize").data(g,jt);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Us[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var c,f=Qu.transition(u),h=Qu.transition(o);s&&(c=Ui(s),h.attr("x",c[0]).attr("width",c[1]-c[0]),e(f)),l&&(c=Ui(l),h.attr("y",c[0]).attr("height",c[1]-c[0]),r(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function e(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==Qu.event.keyCode&&(N||(m=null,z[0]-=c[1],z[1]-=f[1],N=2),C())}function g(){32==Qu.event.keyCode&&2==N&&(z[0]+=c[1],z[1]+=f[1],N=0,C())}function d(){var t=Qu.mouse(b),i=!1;x&&(t[0]+=x[0],t[1]+=x[1]),N||(Qu.event.altKey?(m||(m=[(c[0]+c[1])/2,(f[0]+f[1])/2]),z[0]=c[+(t[0]<m[0])],z[1]=f[+(t[1]<m[1])]):m=null),S&&v(t,s,0)&&(e(w),i=!0),E&&v(t,l,1)&&(r(w),i=!0),i&&(n(w),M({type:"brush",mode:N?"move":"resize"}))}function v(t,n,e){var r,i,a=Ui(n),s=a[0],l=a[1],g=z[e],d=e?f:c,v=d[1]-d[0];return N&&(s-=g,l-=v+g),r=(e?p:h)?Math.max(s,Math.min(l,t[e])):t[e],N?i=(r+=g)+v:(m&&(g=Math.max(s,Math.min(l,2*m[e]-r))),r>g?(i=r,r=g):i=g),d[0]!=r||d[1]!=i?(e?o=null:u=null,d[0]=r,d[1]=i,!0):void 0}function y(){d(),w.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Qu.select("body").style("cursor",null),j.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),M({type:"brushend"})}var m,x,b=this,_=Qu.select(Qu.event.target),M=a.of(b,arguments),w=Qu.select(b),k=_.datum(),S=!/^(n|s)$/.test(k)&&s,E=!/^(e|w)$/.test(k)&&l,N=_.classed("extent"),A=J(),z=Qu.mouse(b),j=Qu.select(io).on("keydown.brush",i).on("keyup.brush",g);if(Qu.event.changedTouches?j.on("touchmove.brush",d).on("touchend.brush",y):j.on("mousemove.brush",d).on("mouseup.brush",y),w.interrupt().selectAll("*").interrupt(),N)z[0]=c[0]-z[0],z[1]=f[0]-z[1];else if(k){var P=+/w$/.test(k),L=+/^n/.test(k);x=[c[1-P]-z[0],f[1-L]-z[1]],z[0]=c[P],z[1]=f[L]}else Qu.event.altKey&&(m=z.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),Qu.select("body").style("cursor",_.style("cursor")),M({type:"brushstart"}),d()}var u,o,a=N(t,"brushstart","brush","brushend"),s=null,l=null,c=[0,0],f=[0,0],h=!0,p=!0,g=Xs[0];return t.event=function(t){t.each(function(){var t=a.of(this,arguments),n={x:c,y:f,i:u,j:o},e=this.__chart__||n;this.__chart__=n,Os?Qu.select(this).transition().each("start.brush",function(){u=e.i,o=e.j,c=e.x,f=e.y,t({type:"brushstart"})}).tween("brush:brush",function(){var e=wr(c,n.x),r=wr(f,n.y);return u=o=null,function(i){c=n.x=e(i),f=n.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){u=n.i,o=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(n){return arguments.length?(s=n,g=Xs[!s<<1|!l],t):s},t.y=function(n){return arguments.length?(l=n,g=Xs[!s<<1|!l],t):l},t.clamp=function(n){return arguments.length?(s&&l?(h=!!n[0],p=!!n[1]):s?h=!!n:l&&(p=!!n),t):s&&l?[h,p]:s?h:l?p:null},t.extent=function(n){var e,r,i,a,h;return arguments.length?(s&&(e=n[0],r=n[1],l&&(e=e[0],r=r[0]),u=[e,r],s.invert&&(e=s(e),r=s(r)),e>r&&(h=e,e=r,r=h),(e!=c[0]||r!=c[1])&&(c=[e,r])),l&&(i=n[0],a=n[1],s&&(i=i[1],a=a[1]),o=[i,a],l.invert&&(i=l(i),a=l(a)),i>a&&(h=i,i=a,a=h),(i!=f[0]||a!=f[1])&&(f=[i,a])),t):(s&&(u?(e=u[0],r=u[1]):(e=c[0],r=c[1],s.invert&&(e=s.invert(e),r=s.invert(r)),e>r&&(h=e,e=r,r=h))),l&&(o?(i=o[0],a=o[1]):(i=f[0],a=f[1],l.invert&&(i=l.invert(i),a=l.invert(a)),i>a&&(h=i,i=a,a=h))),s&&l?[[e,i],[r,a]]:s?[e,r]:l&&[i,a])},t.clear=function(){return t.empty()||(c=[0,0],f=[0,0],u=o=null),t},t.empty=function(){return!!s&&c[0]==c[1]||!!l&&f[0]==f[1]},Qu.rebind(t,a,"on")};var Us={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hs=la.format=da.timeFormat,Bs=Hs.utc,Ws=Bs("%Y-%m-%dT%H:%M:%S.%LZ");Hs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?$u:Ws,$u.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},$u.toString=Ws.toString,la.second=Ht(function(t){return new ca(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),la.seconds=la.second.range,la.seconds.utc=la.second.utc.range,la.minute=Ht(function(t){return new ca(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),la.minutes=la.minute.range,la.minutes.utc=la.minute.utc.range,la.hour=Ht(function(t){var n=t.getTimezoneOffset()/60;return new ca(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),la.hours=la.hour.range,la.hours.utc=la.hour.utc.range,la.month=Ht(function(t){return t=la.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),la.months=la.month.range,la.months.utc=la.month.utc.range;var Zs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],$s=[[la.second,1],[la.second,5],[la.second,15],[la.second,30],[la.minute,1],[la.minute,5],[la.minute,15],[la.minute,30],[la.hour,1],[la.hour,3],[la.hour,6],[la.hour,12],[la.day,1],[la.day,2],[la.week,1],[la.month,1],[la.month,3],[la.year,1]],Vs=Hs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ln]]),Gs={range:function(t,n,e){return Qu.range(Math.ceil(t/e)*e,+n,e).map(Gu)},floor:jt,ceil:jt};$s.year=la.year,la.scale=function(){return Vu(Qu.scale.linear(),$s,Vs)};var Js=$s.map(function(t){return[t[0].utc,t[1]]}),Ks=Bs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ln]]);Js.year=la.year.utc,la.scale.utc=function(){return Vu(Qu.scale.linear(),Js,Ks)},Qu.text=Pt(function(t){return t.responseText}),Qu.json=function(t,n){return Lt(t,"application/json",Ju,n)},Qu.html=function(t,n){return Lt(t,"text/html",Ku,n)},Qu.xml=Pt(function(t){return t.responseXML}),r=Qu,i="function"==typeof r?r.call(n,e,n,t):r,!(void 0!==i&&(t.exports=i)),this.d3=Qu}()},function(t,n,e){var r;(function(t,i){(function(){function u(t,n,e){for(var r=(e||0)-1,i=t?t.length:0;++r<i;)if(t[r]===n)return r;return-1}function o(t,n){var e=typeof n;if(t=t.cache,"boolean"==e||null==n)return t[n]?0:-1;"number"!=e&&"string"!=e&&(e="object");var r="number"==e?n:S+n;return t=(t=t[e])&&t[r],"object"==e?t&&u(t,n)>-1?0:-1:t?0:-1}function a(t){var n=this.cache,e=typeof t;if("boolean"==e||null==t)n[t]=!0;else{"number"!=e&&"string"!=e&&(e="object");var r="number"==e?t:S+t,i=n[e]||(n[e]={});"object"==e?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function s(t){return t.charCodeAt(0)}function l(t,n){for(var e=t.criteria,r=n.criteria,i=-1,u=e.length;++i<u;){var o=e[i],a=r[i];if(o!==a){if(o>a||"undefined"==typeof o)return 1;if(a>o||"undefined"==typeof a)return-1}}return t.index-n.index}function c(t){var n=-1,e=t.length,r=t[0],i=t[e/2|0],u=t[e-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&u&&"object"==typeof u)return!1;var o=p();o["false"]=o["null"]=o["true"]=o.undefined=!1;var s=p();for(s.array=t,s.cache=o,s.push=a;++n<e;)s.push(t[n]);return s}function f(t){return"\\"+it[t]}function h(){return b.pop()||[]}function p(){return _.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function g(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function d(t){t.length=0,b.length<E&&b.push(t)}function v(t){var n=t.cache;n&&v(n),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,_.length<E&&_.push(t)}function y(t,n,e){n||(n=0),"undefined"==typeof e&&(e=t?t.length:0);for(var r=-1,i=e-n||0,u=Array(0>i?0:i);++r<i;)u[r]=t[n+r];return u}function m(t){function n(t){return t&&"object"==typeof t&&!fr(t)&&He.call(t,"__wrapped__")?t:new e(t)}function e(t,n){this.__chain__=!!n,this.__wrapped__=t}function r(t){function n(){if(r){var t=y(r);Be.apply(t,arguments)}if(this instanceof n){var u=a(e.prototype),o=e.apply(u,t||arguments);return Rt(o)?o:u}return e.apply(i,t||arguments)}var e=t[0],r=t[2],i=t[4];return cr(n,t),n}function i(t,n,e,r,u){if(e){var o=e(t);if("undefined"!=typeof o)return o}var a=Rt(t);if(!a)return t;var s=Re.call(t);if(!Q[s]||!sr.nodeClass&&g(t))return t;var l=or[s];switch(s){case B:case W:return new l(+t);case V:case K:return new l(t);case J:return o=l(t.source,L.exec(t)),o.lastIndex=t.lastIndex,o}var c=fr(t);if(n){var f=!r;r||(r=h()),u||(u=h());for(var p=r.length;p--;)if(r[p]==t)return u[p];o=c?l(t.length):{}}else o=c?y(t):Mr({},t);return c&&(He.call(t,"index")&&(o.index=t.index),He.call(t,"input")&&(o.input=t.input)),n?(r.push(t),u.push(o),(c?_r:Sr)(t,function(t,a){o[a]=i(t,n,e,r,u)}),f&&(d(r),d(u)),o):o}function a(t,n){return Rt(t)?Je(t):{}}function b(t,n,e){if("function"!=typeof t)return ue;if("undefined"==typeof n||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(sr.funcNames&&(r=!t.name),r=r||!sr.funcDecomp,!r)){var i=Ue.call(t);sr.funcNames||(r=!O.test(i)),r||(r=q.test(i),cr(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,u){return t.call(n,e,r,i,u)}}return Un(t,n)}function _(t){function n(){var t=l?o:this;if(i){var g=y(i);Be.apply(g,arguments)}if((u||f)&&(g||(g=y(arguments)),u&&Be.apply(g,u),f&&g.length<s))return r|=16,_([e,h?r:-4&r,g,null,o,s]);if(g||(g=arguments),c&&(e=t[p]),this instanceof n){t=a(e.prototype);var d=e.apply(t,g);return Rt(d)?d:t}return e.apply(t,g)}var e=t[0],r=t[1],i=t[2],u=t[3],o=t[4],s=t[5],l=1&r,c=2&r,f=4&r,h=8&r,p=e;return cr(n,t),n}function E(t,n){var e=-1,r=dt(),i=t?t.length:0,a=i>=C&&r===u,s=[];if(a){var l=c(n);l?(r=o,n=l):a=!1}for(;++e<i;){var f=t[e];r(n,f)<0&&s.push(f)}return a&&v(n),s}function it(t,n,e,r){for(var i=(r||0)-1,u=t?t.length:0,o=[];++i<u;){var a=t[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(fr(a)||xt(a))){n||(a=it(a,n,e));var s=-1,l=a.length,c=o.length;for(o.length+=l;++s<l;)o[c++]=a[s]}else e||o.push(a)}return o}function ot(t,n,e,r,i,u){if(e){var o=e(t,n);if("undefined"!=typeof o)return!!o}if(t===n)return 0!==t||1/t==1/n;var a=typeof t,s=typeof n;if(!(t!==t||t&&rt[a]||n&&rt[s]))return!1;if(null==t||null==n)return t===n;var l=Re.call(t),c=Re.call(n);if(l==X&&(l=G),c==X&&(c=G),l!=c)return!1;switch(l){case B:case W:return+t==+n;case V:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case J:case K:return t==ze(n)}var f=l==H;if(!f){var p=He.call(t,"__wrapped__"),v=He.call(n,"__wrapped__");if(p||v)return ot(p?t.__wrapped__:t,v?n.__wrapped__:n,e,r,i,u);if(l!=G||!sr.nodeClass&&(g(t)||g(n)))return!1;var y=!sr.argsObject&&xt(t)?Ne:t.constructor,m=!sr.argsObject&&xt(n)?Ne:n.constructor;if(y!=m&&!(Dt(y)&&y instanceof y&&Dt(m)&&m instanceof m)&&"constructor"in t&&"constructor"in n)return!1}var x=!i;i||(i=h()),u||(u=h());for(var b=i.length;b--;)if(i[b]==t)return u[b]==n;var _=0;if(o=!0,i.push(t),u.push(n),f){if(b=t.length,_=n.length,o=_==b,o||r)for(;_--;){var M=b,w=n[_];if(r)for(;M--&&!(o=ot(t[M],w,e,r,i,u)););else if(!(o=ot(t[_],w,e,r,i,u)))break}}else kr(n,function(n,a,s){return He.call(s,a)?(_++,o=He.call(t,a)&&ot(t[a],n,e,r,i,u)):void 0}),o&&!r&&kr(t,function(t,n,e){return He.call(e,n)?o=--_>-1:void 0});return i.pop(),u.pop(),x&&(d(i),d(u)),o}function at(t,n,e,r,i){(fr(n)?rn:Sr)(n,function(n,u){var o,a,s=n,l=t[u];if(n&&((a=fr(n))||Cr(n))){for(var c=r.length;c--;)if(o=r[c]==n){l=i[c];break}if(!o){var f;e&&(s=e(l,n),(f="undefined"!=typeof s)&&(l=s)),f||(l=a?fr(l)?l:[]:Cr(l)?l:{}),r.push(n),i.push(l),f||at(l,n,e,r,i)}}else e&&(s=e(l,n),"undefined"==typeof s&&(s=n)),"undefined"!=typeof s&&(l=s);t[u]=l})}function st(t,n){return t+Ye(ur()*(n-t+1))}function ct(t,n,e){var r=-1,i=dt(),a=t?t.length:0,s=[],l=!n&&a>=C&&i===u,f=e||l?h():s;if(l){var p=c(f);i=o,f=p}for(;++r<a;){var g=t[r],y=e?e(g,r,t):g;(n?!r||f[f.length-1]!==y:i(f,y)<0)&&((e||l)&&f.push(y),s.push(g))}return l?(d(f.array),v(f)):e&&d(f),s}function ft(t){return function(e,r,i){var u={};if(r=n.createCallback(r,i,3),fr(e))for(var o=-1,a=e.length;++o<a;){var s=e[o];t(u,s,r(s,o,e),e)}else _r(e,function(n,e,i){t(u,n,r(n,e,i),i)});return u}}function ht(t,n,e,i,u,o){var a=1&n,s=2&n,l=4&n,c=16&n,f=32&n;if(!s&&!Dt(t))throw new je;c&&!e.length&&(n&=-17,c=e=!1),f&&!i.length&&(n&=-33,f=i=!1);var h=t&&t.__bindData__;if(h&&h!==!0)return h=y(h),h[2]&&(h[2]=y(h[2])),h[3]&&(h[3]=y(h[3])),!a||1&h[1]||(h[4]=u),!a&&1&h[1]&&(n|=8),!l||4&h[1]||(h[5]=o),c&&Be.apply(h[2]||(h[2]=[]),e),f&&Ve.apply(h[3]||(h[3]=[]),i),h[1]|=n,ht.apply(null,h);var p=1==n||17===n?r:_;return p([t,n,e,i,u,o])}function pt(){et.shadowedProps=Y,et.array=et.bottom=et.loop=et.top="",et.init="iterable",et.useHas=!0;for(var t,n=0;t=arguments[n];n++)for(var e in t)et[e]=t[e];var r=et.args;et.firstArg=/^[^,]+/.exec(r)[0];var i=Se("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+lr(et)+"\n}");return i(b,Z,Le,He,w,xt,fr,Ut,et.keys,Oe,rt,ar,K,Te,Re)}function gt(t){return yr[t]}function dt(){var t=(t=n.indexOf)===Sn?u:t;return t}function vt(t){return"function"==typeof t&&qe.test(t)}function yt(t){var n,e;return!t||Re.call(t)!=G||(n=t.constructor,Dt(n)&&!(n instanceof n))||!sr.argsClass&&xt(t)||!sr.nodeClass&&g(t)?!1:sr.ownLast?(kr(t,function(t,n,r){return e=He.call(r,n),!1}),e!==!1):(kr(t,function(t,n){e=n}),"undefined"==typeof e||He.call(t,e))}function mt(t){return mr[t]}function xt(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Re.call(t)==X||!1}function bt(t,n,e,r){return"boolean"!=typeof n&&null!=n&&(r=e,e=n,n=!1),i(t,n,"function"==typeof e&&b(e,r,1))}function _t(t,n,e){return i(t,!0,"function"==typeof n&&b(n,e,1))}function Mt(t,n){var e=a(t);return n?Mr(e,n):e}function wt(t,e,r){var i;return e=n.createCallback(e,r,3),Sr(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function kt(t,e,r){var i;return e=n.createCallback(e,r,3),Ct(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function St(t,n,e){var r=[];kr(t,function(t,n){r.push(n,t)});var i=r.length;for(n=b(n,e,3);i--&&n(r[i--],r[i],t)!==!1;);return t}function Ct(t,n,e){var r=pr(t),i=r.length;for(n=b(n,e,3);i--;){var u=r[i];if(n(t[u],u,t)===!1)break}return t}function Et(t){var n=[];return kr(t,function(t,e){Dt(t)&&n.push(e)}),n.sort()}function Nt(t,n){return t?He.call(t,n):!1}function At(t){for(var n=-1,e=pr(t),r=e.length,i={};++n<r;){var u=e[n];i[t[u]]=u}return i}function zt(t){return t===!0||t===!1||t&&"object"==typeof t&&Re.call(t)==B||!1}function jt(t){return t&&"object"==typeof t&&Re.call(t)==W||!1}function Pt(t){return t&&1===t.nodeType||!1}function Lt(t){var n=!0;if(!t)return n;var e=Re.call(t),r=t.length;return e==H||e==K||(sr.argsClass?e==X:xt(t))||e==G&&"number"==typeof r&&Dt(t.splice)?!r:(Sr(t,function(){return n=!1}),n)}function Ot(t,n,e,r){return ot(t,n,"function"==typeof e&&b(e,r,2))}function Tt(t){return Qe(t)&&!tr(parseFloat(t))}function Dt(t){return"function"==typeof t}function Rt(t){return!(!t||!rt[typeof t])}function qt(t){return It(t)&&t!=+t}function Ft(t){return null===t}function It(t){return"number"==typeof t||t&&"object"==typeof t&&Re.call(t)==V||!1}function Yt(t){return t&&rt[typeof t]&&Re.call(t)==J||!1}function Ut(t){return"string"==typeof t||t&&"object"==typeof t&&Re.call(t)==K||!1}function Xt(t){return"undefined"==typeof t}function Ht(t,e,r){var i={};return e=n.createCallback(e,r,3),Sr(t,function(t,n,r){i[n]=e(t,n,r)}),i}function Bt(t){var n=arguments,e=2;if(!Rt(t))return t;if("number"!=typeof n[2]&&(e=n.length),e>3&&"function"==typeof n[e-2])var r=b(n[--e-1],n[e--],2);else e>2&&"function"==typeof n[e-1]&&(r=n[--e]);for(var i=y(arguments,1,e),u=-1,o=h(),a=h();++u<e;)at(t,i[u],r,o,a);return d(o),d(a),t}function Wt(t,e,r){var i={};if("function"!=typeof e){var u=[];kr(t,function(t,n){u.push(n)}),u=E(u,it(arguments,!0,!1,1));for(var o=-1,a=u.length;++o<a;){var s=u[o];i[s]=t[s]}}else e=n.createCallback(e,r,3),kr(t,function(t,n,r){e(t,n,r)||(i[n]=t)});return i}function Zt(t){for(var n=-1,e=pr(t),r=e.length,i=_e(r);++n<r;){var u=e[n];i[n]=[u,t[u]]}return i}function $t(t,e,r){var i={};if("function"!=typeof e)for(var u=-1,o=it(arguments,!0,!1,1),a=Rt(t)?o.length:0;++u<a;){var s=o[u];s in t&&(i[s]=t[s])}else e=n.createCallback(e,r,3),kr(t,function(t,n,r){e(t,n,r)&&(i[n]=t)});return i}function Vt(t,e,r,i){var u=fr(t);if(null==r)if(u)r=[];else{var o=t&&t.constructor,s=o&&o.prototype;r=a(s)}return e&&(e=n.createCallback(e,i,4),(u?_r:Sr)(t,function(t,n,i){return e(r,t,n,i)})),r}function Gt(t){for(var n=-1,e=pr(t),r=e.length,i=_e(r);++n<r;)i[n]=t[e[n]];return i}function Jt(t){var n=arguments,e=-1,r=it(n,!0,!1,1),i=n[2]&&n[2][n[1]]===t?1:r.length,u=_e(i);for(sr.unindexedChars&&Ut(t)&&(t=t.split(""));++e<i;)u[e]=t[r[e]];return u}function Kt(t,n,e){var r=-1,i=dt(),u=t?t.length:0,o=!1;return e=(0>e?er(0,u+e):e)||0,fr(t)?o=i(t,n,e)>-1:"number"==typeof u?o=(Ut(t)?t.indexOf(n,e):i(t,n,e))>-1:_r(t,function(t){return++r>=e?!(o=t===n):void 0}),o}function Qt(t,e,r){var i=!0;if(e=n.createCallback(e,r,3),fr(t))for(var u=-1,o=t.length;++u<o&&(i=!!e(t[u],u,t)););else _r(t,function(t,n,r){return i=!!e(t,n,r)});return i}function tn(t,e,r){var i=[];if(e=n.createCallback(e,r,3),fr(t))for(var u=-1,o=t.length;++u<o;){var a=t[u];e(a,u,t)&&i.push(a)}else _r(t,function(t,n,r){e(t,n,r)&&i.push(t)});return i}function nn(t,e,r){if(e=n.createCallback(e,r,3),!fr(t)){var i;return _r(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}for(var u=-1,o=t.length;++u<o;){var a=t[u];if(e(a,u,t))return a}}function en(t,e,r){
var i;return e=n.createCallback(e,r,3),un(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}function rn(t,n,e){if(n&&"undefined"==typeof e&&fr(t))for(var r=-1,i=t.length;++r<i&&n(t[r],r,t)!==!1;);else _r(t,n,e);return t}function un(t,n,e){var r=t,i=t?t.length:0;if(n=n&&"undefined"==typeof e?n:b(n,e,3),fr(t))for(;i--&&n(t[i],i,t)!==!1;);else{if("number"!=typeof i){var u=pr(t);i=u.length}else sr.unindexedChars&&Ut(t)&&(r=t.split(""));_r(t,function(t,e,o){return e=u?u[--i]:--i,n(r[e],e,o)})}return t}function on(t,n){var e=y(arguments,2),r=-1,i="function"==typeof n,u=t?t.length:0,o=_e("number"==typeof u?u:0);return rn(t,function(t){o[++r]=(i?n:t[n]).apply(t,e)}),o}function an(t,e,r){var i=-1,u=t?t.length:0,o=_e("number"==typeof u?u:0);if(e=n.createCallback(e,r,3),fr(t))for(;++i<u;)o[i]=e(t[i],i,t);else _r(t,function(t,n,r){o[++i]=e(t,n,r)});return o}function sn(t,e,r){var i=-(1/0),u=i;if("function"!=typeof e&&r&&r[e]===t&&(e=null),null==e&&fr(t))for(var o=-1,a=t.length;++o<a;){var l=t[o];l>u&&(u=l)}else e=null==e&&Ut(t)?s:n.createCallback(e,r,3),_r(t,function(t,n,r){var o=e(t,n,r);o>i&&(i=o,u=t)});return u}function ln(t,e,r){var i=1/0,u=i;if("function"!=typeof e&&r&&r[e]===t&&(e=null),null==e&&fr(t))for(var o=-1,a=t.length;++o<a;){var l=t[o];u>l&&(u=l)}else e=null==e&&Ut(t)?s:n.createCallback(e,r,3),_r(t,function(t,n,r){var o=e(t,n,r);i>o&&(i=o,u=t)});return u}function cn(t,e,r,i){var u=arguments.length<3;if(e=n.createCallback(e,i,4),fr(t)){var o=-1,a=t.length;for(u&&(r=t[++o]);++o<a;)r=e(r,t[o],o,t)}else _r(t,function(t,n,i){r=u?(u=!1,t):e(r,t,n,i)});return r}function fn(t,e,r,i){var u=arguments.length<3;return e=n.createCallback(e,i,4),un(t,function(t,n,i){r=u?(u=!1,t):e(r,t,n,i)}),r}function hn(t,e,r){return e=n.createCallback(e,r,3),tn(t,function(t,n,r){return!e(t,n,r)})}function pn(t,n,e){if(t&&"number"!=typeof t.length?t=Gt(t):sr.unindexedChars&&Ut(t)&&(t=t.split("")),null==n||e)return t?t[st(0,t.length-1)]:x;var r=gn(t);return r.length=rr(er(0,n),r.length),r}function gn(t){var n=-1,e=t?t.length:0,r=_e("number"==typeof e?e:0);return rn(t,function(t){var e=st(0,++n);r[n]=r[e],r[e]=t}),r}function dn(t){var n=t?t.length:0;return"number"==typeof n?n:pr(t).length}function vn(t,e,r){var i;if(e=n.createCallback(e,r,3),fr(t))for(var u=-1,o=t.length;++u<o&&!(i=e(t[u],u,t)););else _r(t,function(t,n,r){return!(i=e(t,n,r))});return!!i}function yn(t,e,r){var i=-1,u=fr(e),o=t?t.length:0,a=_e("number"==typeof o?o:0);for(u||(e=n.createCallback(e,r,3)),rn(t,function(t,n,r){var o=a[++i]=p();u?o.criteria=an(e,function(n){return t[n]}):(o.criteria=h())[0]=e(t,n,r),o.index=i,o.value=t}),o=a.length,a.sort(l);o--;){var s=a[o];a[o]=s.value,u||d(s.criteria),v(s)}return a}function mn(t){return t&&"number"==typeof t.length?sr.unindexedChars&&Ut(t)?t.split(""):y(t):Gt(t)}function xn(t){for(var n=-1,e=t?t.length:0,r=[];++n<e;){var i=t[n];i&&r.push(i)}return r}function bn(t){return E(t,it(arguments,!0,!0,1))}function _n(t,e,r){var i=-1,u=t?t.length:0;for(e=n.createCallback(e,r,3);++i<u;)if(e(t[i],i,t))return i;return-1}function Mn(t,e,r){var i=t?t.length:0;for(e=n.createCallback(e,r,3);i--;)if(e(t[i],i,t))return i;return-1}function wn(t,e,r){var i=0,u=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=n.createCallback(e,r,3);++o<u&&e(t[o],o,t);)i++}else if(i=e,null==i||r)return t?t[0]:x;return y(t,0,rr(er(0,i),u))}function kn(t,n,e,r){return"boolean"!=typeof n&&null!=n&&(r=e,e="function"!=typeof n&&r&&r[n]===t?null:n,n=!1),null!=e&&(t=an(t,e,r)),it(t,n)}function Sn(t,n,e){if("number"==typeof e){var r=t?t.length:0;e=0>e?er(0,r+e):e||0}else if(e){var i=On(t,n);return t[i]===n?i:-1}return u(t,n,e)}function Cn(t,e,r){var i=0,u=t?t.length:0;if("number"!=typeof e&&null!=e){var o=u;for(e=n.createCallback(e,r,3);o--&&e(t[o],o,t);)i++}else i=null==e||r?1:e||i;return y(t,0,rr(er(0,u-i),u))}function En(){for(var t=[],n=-1,e=arguments.length,r=h(),i=dt(),a=i===u,s=h();++n<e;){var l=arguments[n];(fr(l)||xt(l))&&(t.push(l),r.push(a&&l.length>=C&&c(n?t[n]:s)))}var f=t[0],p=-1,g=f?f.length:0,y=[];t:for(;++p<g;){var m=r[0];if(l=f[p],(m?o(m,l):i(s,l))<0){for(n=e,(m||s).push(l);--n;)if(m=r[n],(m?o(m,l):i(t[n],l))<0)continue t;y.push(l)}}for(;e--;)m=r[e],m&&v(m);return d(r),d(s),y}function Nn(t,e,r){var i=0,u=t?t.length:0;if("number"!=typeof e&&null!=e){var o=u;for(e=n.createCallback(e,r,3);o--&&e(t[o],o,t);)i++}else if(i=e,null==i||r)return t?t[u-1]:x;return y(t,er(0,u-i))}function An(t,n,e){var r=t?t.length:0;for("number"==typeof e&&(r=(0>e?er(0,r+e):rr(e,r-1))+1);r--;)if(t[r]===n)return r;return-1}function zn(t){for(var n=arguments,e=0,r=n.length,i=t?t.length:0;++e<r;)for(var u=-1,o=n[e];++u<i;)t[u]===o&&($e.call(t,u--,1),i--);return t}function jn(t,n,e){t=+t||0,e="number"==typeof e?e:+e||1,null==n&&(n=t,t=0);for(var r=-1,i=er(0,Fe((n-t)/(e||1))),u=_e(i);++r<i;)u[r]=t,t+=e;return u}function Pn(t,e,r){var i=-1,u=t?t.length:0,o=[];for(e=n.createCallback(e,r,3);++i<u;){var a=t[i];e(a,i,t)&&(o.push(a),$e.call(t,i--,1),u--)}return o}function Ln(t,e,r){if("number"!=typeof e&&null!=e){var i=0,u=-1,o=t?t.length:0;for(e=n.createCallback(e,r,3);++u<o&&e(t[u],u,t);)i++}else i=null==e||r?1:er(0,e);return y(t,i)}function On(t,e,r,i){var u=0,o=t?t.length:u;for(r=r?n.createCallback(r,i,1):ue,e=r(e);o>u;){var a=u+o>>>1;r(t[a])<e?u=a+1:o=a}return u}function Tn(){return ct(it(arguments,!0,!0))}function Dn(t,e,r,i){return"boolean"!=typeof e&&null!=e&&(i=r,r="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=r&&(r=n.createCallback(r,i,3)),ct(t,e,r)}function Rn(t){return E(t,y(arguments,1))}function qn(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(fr(e)||xt(e))var r=r?ct(E(r,e).concat(E(e,r))):e}return r||[]}function Fn(){for(var t=arguments.length>1?arguments:arguments[0],n=-1,e=t?sn(zr(t,"length")):0,r=_e(0>e?0:e);++n<e;)r[n]=zr(t,n);return r}function In(t,n){var e=-1,r=t?t.length:0,i={};for(n||!r||fr(t[0])||(n=[]);++e<r;){var u=t[e];n?i[u]=n[e]:u&&(i[u[0]]=u[1])}return i}function Yn(t,n){if(!Dt(n))throw new je;return function(){return--t<1?n.apply(this,arguments):void 0}}function Un(t,n){return arguments.length>2?ht(t,17,y(arguments,2),null,n):ht(t,1,null,null,n)}function Xn(t){for(var n=arguments.length>1?it(arguments,!0,!1,1):Et(t),e=-1,r=n.length;++e<r;){var i=n[e];t[i]=ht(t[i],1,null,null,t)}return t}function Hn(t,n){return arguments.length>2?ht(n,19,y(arguments,2),null,t):ht(n,3,null,null,t)}function Bn(){for(var t=arguments,n=t.length;n--;)if(!Dt(t[n]))throw new je;return function(){for(var n=arguments,e=t.length;e--;)n=[t[e].apply(this,n)];return n[0]}}function Wn(t,n){return n="number"==typeof n?n:+n||t.length,ht(t,4,null,null,null,n)}function Zn(t,n,e){var r,i,u,o,a,s,l,c=0,f=!1,h=!0;if(!Dt(t))throw new je;if(n=er(0,n)||0,e===!0){var p=!0;h=!1}else Rt(e)&&(p=e.leading,f="maxWait"in e&&(er(n,e.maxWait)||0),h="trailing"in e?e.trailing:h);var g=function(){var e=n-(Pr()-o);if(0>=e){i&&Ie(i);var f=l;i=s=l=x,f&&(c=Pr(),u=t.apply(a,r),s||i||(r=a=null))}else s=Ze(g,e)},d=function(){s&&Ie(s),i=s=l=x,(h||f!==n)&&(c=Pr(),u=t.apply(a,r),s||i||(r=a=null))};return function(){if(r=arguments,o=Pr(),a=this,l=h&&(s||!p),f===!1)var e=p&&!s;else{i||p||(c=o);var v=f-(o-c),y=0>=v;y?(i&&(i=Ie(i)),c=o,u=t.apply(a,r)):i||(i=Ze(d,v))}return y&&s?s=Ie(s):s||n===f||(s=Ze(g,n)),e&&(y=!0,u=t.apply(a,r)),!y||s||i||(r=a=null),u}}function $n(t){if(!Dt(t))throw new je;var n=y(arguments,1);return Ze(function(){t.apply(x,n)},1)}function Vn(t,n){if(!Dt(t))throw new je;var e=y(arguments,2);return Ze(function(){t.apply(x,e)},n)}function Gn(t,n){if(!Dt(t))throw new je;var e=function(){var r=e.cache,i=n?n.apply(this,arguments):S+arguments[0];return He.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return e.cache={},e}function Jn(t){var n,e;if(!Dt(t))throw new je;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}}function Kn(t){return ht(t,16,y(arguments,1))}function Qn(t){return ht(t,32,null,y(arguments,1))}function te(t,n,e){var r=!0,i=!0;if(!Dt(t))throw new je;return e===!1?r=!1:Rt(e)&&(r="leading"in e?e.leading:r,i="trailing"in e?e.trailing:i),tt.leading=r,tt.maxWait=n,tt.trailing=i,Zn(t,n,tt)}function ne(t,n){return ht(n,16,[t])}function ee(t){return function(){return t}}function re(t,n,e){var r=typeof t;if(null==t||"function"==r)return b(t,n,e);if("object"!=r)return le(t);var i=pr(t),u=i[0],o=t[u];return 1!=i.length||o!==o||Rt(o)?function(n){for(var e=i.length,r=!1;e--&&(r=ot(n[i[e]],t[i[e]],null,!0)););return r}:function(t){var n=t[u];return o===n&&(0!==o||1/o==1/n)}}function ie(t){return null==t?"":ze(t).replace(br,gt)}function ue(t){return t}function oe(t,r,i){var u=!0,o=r&&Et(r);r&&(i||o.length)||(null==i&&(i=r),a=e,r=t,t=n,o=Et(r)),i===!1?u=!1:Rt(i)&&"chain"in i&&(u=i.chain);var a=t,s=Dt(a);rn(o,function(n){var e=t[n]=r[n];s&&(a.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,i=[r];Be.apply(i,arguments);var o=e.apply(t,i);if(u||n){if(r===o&&Rt(o))return this;o=new a(o),o.__chain__=n}return o})})}function ae(){return t._=De,this}function se(){}function le(t){return function(n){return n[t]}}function ce(t,n,e){var r=null==t,i=null==n;if(null==e&&("boolean"==typeof t&&i?(e=t,t=1):i||"boolean"!=typeof n||(e=n,i=!0)),r&&i&&(n=1),t=+t||0,i?(n=t,t=0):n=+n||0,e||t%1||n%1){var u=ur();return rr(t+u*(n-t+parseFloat("1e-"+((u+"").length-1))),n)}return st(t,n)}function fe(t,n){if(t){var e=t[n];return Dt(e)?t[n]():e}}function he(t,e,r){var i=n.templateSettings;t=ze(t||""),r=wr({},r,i);var u,o=wr({},r.imports,i.imports),a=pr(o),s=Gt(o),l=0,c=r.interpolate||R,h="__p += '",p=Ae((r.escape||R).source+"|"+c.source+"|"+(c===T?P:R).source+"|"+(r.evaluate||R).source+"|$","g");t.replace(p,function(n,e,r,i,o,a){return r||(r=i),h+=t.slice(l,a).replace(F,f),e&&(h+="' +\n__e("+e+") +\n'"),o&&(u=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=a+n.length,n}),h+="';\n";var g=r.variable,d=g;d||(g="obj",h="with ("+g+") {\n"+h+"\n}\n"),h=(u?h.replace(A,""):h).replace(z,"$1").replace(j,"$1;"),h="function("+g+") {\n"+(d?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+U++ +"]")+"\n*/";try{var y=Se(a,"return "+h+v).apply(x,s)}catch(m){throw m.source=h,m}return e?y(e):(y.source=h,y)}function pe(t,n,e){t=(t=+t)>-1?t:0;var r=-1,i=_e(t);for(n=b(n,e,1);++r<t;)i[r]=n(r);return i}function ge(t){return null==t?"":ze(t).replace(xr,mt)}function de(t){var n=++M;return ze(null==t?"":t)+n}function ve(t){return t=new e(t),t.__chain__=!0,t}function ye(t,n){return n(t),t}function me(){return this.__chain__=!0,this}function xe(){return ze(this.__wrapped__)}function be(){return this.__wrapped__}t=t?lt.defaults(ut.Object(),t,lt.pick(ut,I)):ut;var _e=t.Array,Me=t.Boolean,we=t.Date,ke=t.Error,Se=t.Function,Ce=t.Math,Ee=t.Number,Ne=t.Object,Ae=t.RegExp,ze=t.String,je=t.TypeError,Pe=[],Le=ke.prototype,Oe=Ne.prototype,Te=ze.prototype,De=t._,Re=Oe.toString,qe=Ae("^"+ze(Re).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Fe=Ce.ceil,Ie=t.clearTimeout,Ye=Ce.floor,Ue=Se.prototype.toString,Xe=vt(Xe=Ne.getPrototypeOf)&&Xe,He=Oe.hasOwnProperty,Be=Pe.push,We=Oe.propertyIsEnumerable,Ze=t.setTimeout,$e=Pe.splice,Ve=Pe.unshift,Ge=function(){try{var t={},n=vt(n=Ne.defineProperty)&&n,e=n(t,t,t)&&n}catch(r){}return e}(),Je=vt(Je=Ne.create)&&Je,Ke=vt(Ke=_e.isArray)&&Ke,Qe=t.isFinite,tr=t.isNaN,nr=vt(nr=Ne.keys)&&nr,er=Ce.max,rr=Ce.min,ir=t.parseInt,ur=Ce.random,or={};or[H]=_e,or[B]=Me,or[W]=we,or[$]=Se,or[G]=Ne,or[V]=Ee,or[J]=Ae,or[K]=ze;var ar={};ar[H]=ar[W]=ar[V]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ar[B]=ar[K]={constructor:!0,toString:!0,valueOf:!0},ar[Z]=ar[$]=ar[J]={constructor:!0,toString:!0},ar[G]={constructor:!0},function(){for(var t=Y.length;t--;){var n=Y[t];for(var e in ar)He.call(ar,e)&&!He.call(ar[e],n)&&(ar[e][n]=!1)}}(),e.prototype=n.prototype;var sr=n.support={};!function(){var n=function(){this.x=1},e={0:1,length:1},r=[];n.prototype={valueOf:1,y:1};for(var i in new n)r.push(i);for(i in arguments);sr.argsClass=Re.call(arguments)==X,sr.argsObject=arguments.constructor==Ne&&!(arguments instanceof _e),sr.enumErrorProps=We.call(Le,"message")||We.call(Le,"name"),sr.enumPrototypes=We.call(n,"prototype"),sr.funcDecomp=!vt(t.WinRTError)&&q.test(m),sr.funcNames="string"==typeof Se.name,sr.nonEnumArgs=0!=i,sr.nonEnumShadows=!/valueOf/.test(r),sr.ownLast="x"!=r[0],sr.spliceObjects=(Pe.splice.call(e,0,1),!e[0]),sr.unindexedChars="x"[0]+Ne("x")[0]!="xx";try{sr.nodeClass=!(Re.call(document)==G&&!({toString:0}+""))}catch(u){sr.nodeClass=!0}}(1),n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:n}};var lr=function(t){var n="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(n+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",sr.unindexedChars&&(n+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),n+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):sr.nonEnumArgs&&(n+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),sr.enumPrototypes&&(n+="\n  var skipProto = typeof iterable == 'function';\n  "),sr.enumErrorProps&&(n+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var e=[];if(sr.enumPrototypes&&e.push('!(skipProto && index == "prototype")'),sr.enumErrorProps&&e.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)n+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",e.length&&(n+="    if ("+e.join(" && ")+") {\n  "),n+=t.loop+";    ",e.length&&(n+="\n    }"),n+="\n  }  ";else if(n+="\n  for (index in iterable) {\n",t.useHas&&e.push("hasOwnProperty.call(iterable, index)"),e.length&&(n+="    if ("+e.join(" && ")+") {\n  "),n+=t.loop+";    ",e.length&&(n+="\n    }"),n+="\n  }    ",sr.nonEnumShadows){for(n+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)n+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(n+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),n+=") {\n      "+t.loop+";\n    }      ";n+="\n  }    "}return(t.array||sr.nonEnumArgs)&&(n+="\n}"),n+=t.bottom+";\nreturn result"};Je||(a=function(){function n(){}return function(e){if(Rt(e)){n.prototype=e;var r=new n;n.prototype=null}return r||t.Object()}}());var cr=Ge?function(t,n){nt.value=n,Ge(t,"__bindData__",nt),nt.value=null}:se;sr.argsClass||(xt=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&He.call(t,"callee")&&!We.call(t,"callee")||!1});var fr=Ke||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Re.call(t)==H||!1},hr=pt({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),pr=nr?function(t){return Rt(t)?sr.enumPrototypes&&"function"==typeof t||sr.nonEnumArgs&&t.length&&xt(t)?hr(t):nr(t):[]}:hr,gr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:pr,loop:"if (callback(iterable[index], index, collection) === false) return result"},dr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:pr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},vr={top:"if (!objectTypes[typeof iterable]) return result;\n"+gr.top,array:!1},yr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mr=At(yr),xr=Ae("("+pr(mr).join("|")+")","g"),br=Ae("["+pr(yr).join("")+"]","g"),_r=pt(gr),Mr=pt(dr,{top:dr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),wr=pt(dr),kr=pt(gr,vr,{useHas:!1}),Sr=pt(gr,vr);Dt(/x/)&&(Dt=function(t){return"function"==typeof t&&Re.call(t)==$});var Cr=Xe?function(t){if(!t||Re.call(t)!=G||!sr.argsClass&&xt(t))return!1;var n=t.valueOf,e=vt(n)&&(e=Xe(n))&&Xe(e);return e?t==e||Xe(t)==e:yt(t)}:yt,Er=ft(function(t,n,e){He.call(t,e)?t[e]++:t[e]=1}),Nr=ft(function(t,n,e){(He.call(t,e)?t[e]:t[e]=[]).push(n)}),Ar=ft(function(t,n,e){t[e]=n}),zr=an,jr=tn,Pr=vt(Pr=we.now)&&Pr||function(){return(new we).getTime()},Lr=8==ir(N+"08")?ir:function(t,n){return ir(Ut(t)?t.replace(D,""):t,n||0)};return n.after=Yn,n.assign=Mr,n.at=Jt,n.bind=Un,n.bindAll=Xn,n.bindKey=Hn,n.chain=ve,n.compact=xn,n.compose=Bn,n.constant=ee,n.countBy=Er,n.create=Mt,n.createCallback=re,n.curry=Wn,n.debounce=Zn,n.defaults=wr,n.defer=$n,n.delay=Vn,n.difference=bn,n.filter=tn,n.flatten=kn,n.forEach=rn,n.forEachRight=un,n.forIn=kr,n.forInRight=St,n.forOwn=Sr,n.forOwnRight=Ct,n.functions=Et,n.groupBy=Nr,n.indexBy=Ar,n.initial=Cn,n.intersection=En,n.invert=At,n.invoke=on,n.keys=pr,n.map=an,n.mapValues=Ht,n.max=sn,n.memoize=Gn,n.merge=Bt,n.min=ln,n.omit=Wt,n.once=Jn,n.pairs=Zt,n.partial=Kn,n.partialRight=Qn,n.pick=$t,n.pluck=zr,n.property=le,n.pull=zn,n.range=jn,n.reject=hn,n.remove=Pn,n.rest=Ln,n.shuffle=gn,n.sortBy=yn,n.tap=ye,n.throttle=te,n.times=pe,n.toArray=mn,n.transform=Vt,n.union=Tn,n.uniq=Dn,n.values=Gt,n.where=jr,n.without=Rn,n.wrap=ne,n.xor=qn,n.zip=Fn,n.zipObject=In,n.collect=an,n.drop=Ln,n.each=rn,n.eachRight=un,n.extend=Mr,n.methods=Et,n.object=In,n.select=tn,n.tail=Ln,n.unique=Dn,n.unzip=Fn,oe(n),n.clone=bt,n.cloneDeep=_t,n.contains=Kt,n.escape=ie,n.every=Qt,n.find=nn,n.findIndex=_n,n.findKey=wt,n.findLast=en,n.findLastIndex=Mn,n.findLastKey=kt,n.has=Nt,n.identity=ue,n.indexOf=Sn,n.isArguments=xt,n.isArray=fr,n.isBoolean=zt,n.isDate=jt,n.isElement=Pt,n.isEmpty=Lt,n.isEqual=Ot,n.isFinite=Tt,n.isFunction=Dt,n.isNaN=qt,n.isNull=Ft,n.isNumber=It,n.isObject=Rt,n.isPlainObject=Cr,n.isRegExp=Yt,n.isString=Ut,n.isUndefined=Xt,n.lastIndexOf=An,n.mixin=oe,n.noConflict=ae,n.noop=se,n.now=Pr,n.parseInt=Lr,n.random=ce,n.reduce=cn,n.reduceRight=fn,n.result=fe,n.runInContext=m,n.size=dn,n.some=vn,n.sortedIndex=On,n.template=he,n.unescape=ge,n.uniqueId=de,n.all=Qt,n.any=vn,n.detect=nn,n.findWhere=nn,n.foldl=cn,n.foldr=fn,n.include=Kt,n.inject=cn,oe(function(){var t={};return Sr(n,function(e,r){n.prototype[r]||(t[r]=e)}),t}(),!1),n.first=wn,n.last=Nn,n.sample=pn,n.take=wn,n.head=wn,Sr(n,function(t,r){var i="sample"!==r;n.prototype[r]||(n.prototype[r]=function(n,r){var u=this.__chain__,o=t(this.__wrapped__,n,r);return u||null!=n&&(!r||i&&"function"==typeof n)?new e(o,u):o})}),n.VERSION="2.4.2",n.prototype.chain=me,n.prototype.toString=xe,n.prototype.value=be,n.prototype.valueOf=be,_r(["join","pop","shift"],function(t){var r=Pe[t];n.prototype[t]=function(){var t=this.__chain__,n=r.apply(this.__wrapped__,arguments);return t?new e(n,t):n}}),_r(["push","reverse","sort","unshift"],function(t){var e=Pe[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),_r(["concat","slice","splice"],function(t){var r=Pe[t];n.prototype[t]=function(){return new e(r.apply(this.__wrapped__,arguments),this.__chain__)}}),sr.spliceObjects||_r(["pop","shift","splice"],function(t){var r=Pe[t],i="splice"==t;n.prototype[t]=function(){var t=this.__chain__,n=this.__wrapped__,u=r.apply(n,arguments);return 0===n.length&&delete n[0],t||i?new e(u,t):u}}),n}var x,b=[],_=[],M=0,w={},S=+new Date+"",C=75,E=40,N=" 	\f\ufeff\n\r\u2028\u2029",A=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,L=/\w*$/,O=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,D=RegExp("^["+N+"]*0+(?=.$)"),R=/($^)/,q=/\bthis\b/,F=/['\n\r\t\u2028\u2029\\]/g,I=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],Y=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],U=0,X="[object Arguments]",H="[object Array]",B="[object Boolean]",W="[object Date]",Z="[object Error]",$="[object Function]",V="[object Number]",G="[object Object]",J="[object RegExp]",K="[object String]",Q={};Q[$]=!1,Q[X]=Q[H]=Q[B]=Q[W]=Q[V]=Q[G]=Q[J]=Q[K]=!0;var tt={leading:!1,maxWait:0,trailing:!1},nt={configurable:!1,enumerable:!1,value:null,writable:!1},et={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},rt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},it={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ut=rt[typeof window]&&window||this,ot=rt[typeof n]&&n&&!n.nodeType&&n,at=rt[typeof t]&&t&&!t.nodeType&&t,st=(at&&at.exports===ot&&ot,rt[typeof i]&&i);!st||st.global!==st&&st.window!==st||(ut=st);var lt=m();ut._=lt,r=function(){return lt}.call(n,e,n,t),!(r!==x&&(t.exports=r))}).call(this)}).call(n,e(3)(t),function(){return this}())},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,n,e){var r,i;i=e(2),r=function(){function t(){this.init()}return t.prototype.add=function(t){return this.arr.push(t),i.last(this.arr)},t.prototype.remove=function(t){var n,e,r;return i.isNumber(t)?(r=t,e=function(t,n){return n===r}):null!=t.constructor&&(e=function(n){return n===t}),n=i.find(this.arr,e),null==n?void console.log("remove:    "+t):(i.remove(this.arr,function(t){return t===n}),n)},t.prototype.each=function(t){return this.arr.forEach(t)},t.prototype.init=function(){return this.removeAll()},t.prototype.removeAll=function(){return this.arr=[],this.number=0},t.prototype.empty=function(){return 0===this.arr.length},t}(),t.exports=r},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(6),a=e(7),s=r(a),l=e(8),c=r(l),f=e(26),h=r(f),p=e(28),g=r(p),d=e(29),v=r(d),y=e(30),m=r(y),x=e(31),b=r(x),M=e(32),w=r(M),k=e(33),S=r(k),C=e(34),E=r(C),N=e(35),A=r(N),z=e(4),j=r(z),P=e(36),L=r(P),O=e(9),T=r(O),D=function(){function t(n,e){var r=this;i(this,t),o.extend(this,e),this.communicate||(this.communicate=!0),this.type=t.type,this.id=n,this.emitter=T["default"](this),this.plot=new c["default"](this.id,new s["default"](e),e),this.plot.emitter.on("draw",function(){r.draw(),r.plot.onDrawCallback&&r.plot.onDrawCallback(r.plot)}),this.elements=new j["default"],setTimeout(function(){null!==window.overContainer&&void 0!==window.overContainer&&window.overContainer.add(r)},0),this.draw()}return u(t,[{key:"update",value:function(){this.draw()}},{key:"redraw",value:function(){this.draw()}},{key:"draw",value:function(){return this.plot.draw(),this.elements.each(function(t){return t.update()}),this.communicate&&this.emitter.emit("drawn"),this}},{key:"addPoint",value:function(t,n,e){var r=3===arguments.length||2===arguments.length?new g["default"](t,n,e):t,i=new h["default"](r,this.plot.graph,this.plot.x,this.plot.y,e);return this.elements.add(i),i}},{key:"point",value:function(t,n,e){return this.addPoint(t,n,e)}},{key:"addFunc",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n.accuracy=n.accuracy||this.plot.width;var e=void 0;if("Func"===t.model)e=new v["default"](t,this.plot.graph,this.plot.x,this.plot.y,n);else{var r=new m["default"](t,n);e=new v["default"](r,this.plot.graph,this.plot.x,this.plot.y,n)}return this.elements.add(e),e}},{key:"func",value:function(t,n){return this.addFunc(t,n)}},{key:"addArea",value:function(t,n){var e=void 0;if("ParametricArray"===t.model)e=new b["default"](t,this.plot.graph,this.plot.x,this.plot.y,n);else{var r=new w["default"](t,n);e=new b["default"](r,this.plot.graph,this.plot.x,this.plot.y,n)}return this.elements.add(e),e}},{key:"area",value:function(t,n){return this.addArea(t,n)}},{key:"addShadedArea",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n.accuracy=n.accuracy||this.plot.width;var e={},r=void 0;if(o.isFunction(t)||"Func"===t.model)o.extend(e,n),r=t;else{if(!o.isFunction(t.pure.getFunc())){var i="shadedArea:    func.";throw i+="   Function  Func.",new Exception(i)}var u=function(t){_(t).keys().difference(A["default"].prototype.defaults.ownDefaults).value()};o.extend(e,o.pick(t,u(v["default"].prototype.defaults))),o.extend(e,o.pick(t.pure,u(m["default"].prototype.defaults))),r=t.pure.getFunc()}var a=new m["default"](r,e),s=new A["default"](a,this.plot.graph,this.plot.x,this.plot.y,e);return this.elements.add(s),s}},{key:"shadedArea",value:function(t,n){return this.addShadedArea(t,n)}},{key:"addParametricFunc",value:function(t,n){var e=new w["default"](t,n),r=new L["default"](e,this.plot.graph,this.plot.x,this.plot.y,n);return this.elements.add(r),r}},{key:"parametricFunc",value:function(t,n){return this.addParametricFunc(t,n)}},{key:"addLine",value:function(t,n,e,r,i){var u=void 0;4===arguments.length||5===arguments.length?u=new E["default"]({x1:t,y1:n,x2:e,y2:r},i):1===arguments.length&&(u=t);var o=new S["default"](u,this.plot.graph,this.plot.x,this.plot.y,i);return this.elements.add(o),o}},{key:"line",value:function(t,n,e,r,i){return this.addLine(t,n,e,r,i)}},{key:"remove",value:function(t){var n=this.elements.remove(t);n.clear()}},{key:"removeAll",value:function(){this.elements.each(function(t){return t.clear()}),this.elements.removeAll()}},{key:"getID",value:function(){return this.id}},{key:"getModel",value:function(){var t={plot:this.plot.getModel(),elements:[]};return this.elements.each(function(n){return t.elements.push(n.getModel())}),t}},{key:"setModel",value:function(t){var n=this;this.plot.setModel(t.plot,{silent:!0}),this.elements.empty()?t.elements.forEach(function(t){return n[t.model](t)}):this.elements.each(function(n,e){return n.setModel(t.elements[e],{silent:!0})}),this.update()}},{key:"getPlot",value:function(){return this.plot}}]),t}();D.version="0.2.1",D.type=null,window.Plotter=D,window._=_,n["default"]=D,t.exports=n["default"]},function(t,n,e){var r;r=e(2),r.mixin({extendDefaults:function(t,n){return r.extend(t,t.defaults,r.pick(n,r.keys(t.defaults)))}}),t.exports=r},function(t,n,e){var r,i;i=e(6),r=function(){function t(t){i.extendDefaults(this,t)}return t.prototype.defaults={left:-4,right:4,bottom:-3,top:3},t}(),t.exports=r},function(t,n,e){var r,i,u,o,a,s,l;s=e(1),a=e(6),l=e(9),o=e(24),u=e(25),i=e(7),r=function(){function t(t,n,e){if(null==e&&(e={}),"Plot"===t.model)this.setModel(t,{silent:!0});else{if(null==t)throw this.constructor.name+":  ID   ";if(this.id="#"===t[0]?t:"#"+t,!(null!=n&&n instanceof i))throw this.constructor.name+":   plot -- "+n;this.pure=n,a.extendDefaults(this,e)}if(this.el=s.select(this.id),this.el.empty())throw this.constructor.name+":      ID -- "+this.id;this.el.style("cursor","default").style("-moz-user-select","-moz-none").style("-o-user-select","none").style("-khtml-user-select","none").style("-webkit-user-select","none").style("user-select","none"),this.el.html(""),this.svg=this.el.append("svg").attr("width",this.width+this.horizontal).attr("height",this.height+this.vertical),this.svg.append("rect").attr("width",this.width).attr("height",this.height).attr("stroke-width",1).attr("stroke",this.stroke).attr("fill-opacity",0),this.axes=this.svg.append("g"),this.graph=this.svg.append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height),this.initScales(),this.initZoom(),this.emitter=l(this)}return t.prototype.defaults={zoom:!0,width:800,height:600,stroke:"#000000",vertical:20,horizontal:30,ticks:10,transformX:function(t){return"translate("+this.x(t)+",0)"},transformY:function(t){return"translate(0,"+this.y(t)+")"},lineWidth:function(t){return t?"1":"2"},lineColor:function(t){return t?"#ccc":"#666"},tickNull:function(t){return Math.abs(t)<1e-10?0:t},onDrawCallback:null,zoom:!0,zoomBehaviour:null},t.prototype.update=function(){return this.draw()},t.prototype.draw=function(){var t,n,e,r,i,u,o,a;return i=this.x.domain(),this.pure.left=i[0],this.pure.right=i[1],u=this.y.domain(),this.pure.bottom=u[0],this.pure.top=u[1],o=this.x.ticks(this.ticks).map(this.tickNull),t=this.axes.selectAll("g.x").data(o,String).attr("transform",this.transformX.bind(this)),n=t.enter().append("g").classed("x",!0).attr("transform",this.transformX.bind(this)),n.append("line").attr("stroke",this.lineColor).attr("stroke-width",this.lineWidth).attr("y1",0).attr("y2",this.height),n.append("text").classed("axis",!0).attr("y",this.height).attr("dy","1em").attr("text-anchor","middle").text(this.x.tickFormat(this.ticks)),t.exit().remove(),a=this.y.ticks(this.ticks).map(this.tickNull),e=this.axes.selectAll("g.y").data(a,String).attr("transform",this.transformY.bind(this)),r=e.enter().append("g").classed("y",!0).attr("transform",this.transformY.bind(this)),r.append("line").attr("stroke",this.lineColor).attr("stroke-width",this.lineWidth).attr("x1",0).attr("x2",this.width),r.append("text").classed("axis",!0).attr("x",this.width).attr("dx","1em").attr("text-anchor","middle").text(this.y.tickFormat(this.ticks)),e.exit().remove()},t.prototype.initScales=function(){return this.x=s.scale.linear().domain([this.pure.left,this.pure.right]).range([0,this.width]),this.y=s.scale.linear().domain([this.pure.bottom,this.pure.top]).range([this.height,0])},t.prototype.initZoom=function(){return this.zoomBehaviour=s.behavior.zoom().x(this.x).y(this.y),this.zoomBehaviour.on("zoom",function(t){return function(){return t.zoom?t.emitter.emit("draw"):void 0}}(this)),this.svg.call(this.zoomBehaviour),this.zoom?this.svg.call(s.behavior.zoom().x(this.x).y(this.y).on("zoom",function(t){return function(){return t.emitter.emit("draw")}}(this))):void 0},t.prototype.setLeft=function(t){return this.x.domain([t,this.x.domain()[1]])},t.prototype.setRight=function(t){return this.x.domain([this.x.domain()[0],t])},t.prototype.setBottom=function(t){return this.y.domain([t,this.y.domain()[1]])},t.prototype.setTop=function(t){return this.y.domain([this.y.domain()[0],t])},t.prototype.setBorders=function(t,n,e,r){return this.x.domain([t,n]),this.y.domain([e,r])},t.prototype.getGraph=function(){return this.graph},t.prototype.getLeft=function(){return this.pure.left},t.prototype.getRight=function(){return this.pure.right},t.prototype.getTop=function(){return this.pure.top},t.prototype.getBottom=function(){return this.pure.bottom},t.prototype.getModel=function(){var t;return t=a.pick(this,a.keys(this.defaults)),t=a.extend(t,a.pick(this.pure,a.keys(this.pure.defaults))),
t.id=this.id,t.model="Plot",t.zoom={translate:this.zoomBehaviour.translate(),scale:this.zoomBehaviour.scale()},delete t.lineColor,delete t.lineWidth,delete t.tickNull,delete t.transformX,delete t.transformY,delete t.zoomBehaviour,t},t.prototype.setModel=function(t,n){return null==n&&(n={}),a.extendDefaults(this,t),null==this.pure&&(this.pure=new i),a.extendDefaults(this.pure,t),this.id=t.id,null!=this.x&&null!=this.y?(this.y.domain([this.pure.bottom,this.pure.top]),this.x.domain([this.pure.left,this.pure.right])):this.initScales(),null!=this.zoomBehaviour?(this.zoomBehaviour.translate(t.zoom.translate),this.zoomBehaviour.scale(t.zoom.scale)):this.initZoom(),n.silent?void 0:this.emitter.emit("draw")},t.prototype.saveSvg=function(){return o(this.id)},t.prototype.savePng=function(){return u(this.id)},t}(),t.exports=r},function(t,n,e){"use strict";var r,i,u,o,a,s,l,c=e(10),f=e(23),h=Function.prototype.apply,p=Function.prototype.call,g=Object.create,d=Object.defineProperty,v=Object.defineProperties,y=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};r=function(t,n){var e;return f(n),y.call(this,"__ee__")?e=this.__ee__:(e=m.value=g(null),d(this,"__ee__",m),m.value=null),e[t]?"object"==typeof e[t]?e[t].push(n):e[t]=[e[t],n]:e[t]=n,this},i=function(t,n){var e,i;return f(n),i=this,r.call(this,t,e=function(){u.call(i,t,e),h.call(n,this,arguments)}),e.__eeOnceListener__=n,this},u=function(t,n){var e,r,i,u;if(f(n),!y.call(this,"__ee__"))return this;if(e=this.__ee__,!e[t])return this;if(r=e[t],"object"==typeof r)for(u=0;i=r[u];++u)(i===n||i.__eeOnceListener__===n)&&(2===r.length?e[t]=r[u?0:1]:r.splice(u,1));else(r===n||r.__eeOnceListener__===n)&&delete e[t];return this},o=function(t){var n,e,r,i,u;if(y.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(e=arguments.length,u=new Array(e-1),n=1;e>n;++n)u[n-1]=arguments[n];for(i=i.slice(),n=0;r=i[n];++n)h.call(r,this,u)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(e=arguments.length,u=new Array(e-1),n=1;e>n;++n)u[n-1]=arguments[n];h.call(i,this,u)}},a={on:r,once:i,off:u,emit:o},s={on:c(r),once:c(i),off:c(u),emit:c(o)},l=v({},s),t.exports=n=function(t){return null==t?g(l):v(Object(t),s)},n.methods=a},function(t,n,e){"use strict";var r,i=e(11),u=e(18),o=e(19),a=e(20);r=t.exports=function(t,n){var e,r,o,s,l;return arguments.length<2||"string"!=typeof t?(s=n,n=t,t=null):s=arguments[2],null==t?(e=o=!0,r=!1):(e=a.call(t,"c"),r=a.call(t,"e"),o=a.call(t,"w")),l={value:n,configurable:e,enumerable:r,writable:o},s?i(u(s),l):l},r.gs=function(t,n,e){var r,s,l,c;return"string"!=typeof t?(l=e,e=n,n=t,t=null):l=arguments[3],null==n?n=void 0:o(n)?null==e?e=void 0:o(e)||(l=e,e=void 0):(l=n,n=e=void 0),null==t?(r=!0,s=!1):(r=a.call(t,"c"),s=a.call(t,"e")),c={get:n,set:e,configurable:r,enumerable:s},l?i(u(l),c):c}},function(t,n,e){"use strict";t.exports=e(12)()?Object.assign:e(13)},function(t,n){"use strict";t.exports=function(){var t,n=Object.assign;return"function"!=typeof n?!1:(t={foo:"raz"},n(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,n,e){"use strict";var r=e(14),i=e(17),u=Math.max;t.exports=function(t,n){var e,o,a,s=u(arguments.length,2);for(t=Object(i(t)),a=function(r){try{t[r]=n[r]}catch(i){e||(e=i)}},o=1;s>o;++o)n=arguments[o],r(n).forEach(a);if(void 0!==e)throw e;return t}},function(t,n,e){"use strict";t.exports=e(15)()?Object.keys:e(16)},function(t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,n){"use strict";var e=Object.keys;t.exports=function(t){return e(null==t?t:Object(t))}},function(t,n){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,n){"use strict";var e=Array.prototype.forEach,r=Object.create,i=function(t,n){var e;for(e in t)n[e]=t[e]};t.exports=function(t){var n=r(null);return e.call(arguments,function(t){null!=t&&i(Object(t),n)}),n}},function(t,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,n,e){"use strict";t.exports=e(21)()?String.prototype.contains:e(22)},function(t,n){"use strict";var e="razdwatrzy";t.exports=function(){return"function"!=typeof e.contains?!1:e.contains("dwa")===!0&&e.contains("foo")===!1}},function(t,n){"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},function(t,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,n,e){"use strict";d3=e(1),_=e(6);var r=function(t){var n=d3.select(t).select("svg").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().outerHTML,e="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)));d3.select("body").append("a").attr("download","graph.svg").attr("href",e).node().click()};t.exports=r},function(t,n,e){"use strict";d3=e(1),_=e(6);var r=function(t){var n=d3.select("body").append("canvas").style("display","none"),e=n.node().getContext("2d"),r=d3.select(t).select("svg").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().outerHTML,i="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r))),u=new Image;u.src=i,n.attr("width",d3.select("svg").attr("width")),n.attr("height",d3.select("svg").attr("height")),e.fillStyle="white",e.fillRect(0,0,n.attr("width"),n.attr("height")),e.drawImage(u,0,0);var o=n.node().toDataURL("image/png"),a='<img src="'+o+'">';d3.select("#pngdataurl").html(a);d3.select("body").append("a").attr("download","graph.png").attr("href",o).node().click();n.remove()};t.exports=r},function(t,n,e){var r,i,u,o,a,s;s=e(1),a=e(2),r=e(27)("Color"),i=e(27)("Colour","color"),o=e(28),u=function(){function t(t,n,e,r,i){"Point"===t.model?this.setModel(t,{silent:!0}):(this.pure=t,a.extend(this,this.defaults,i)),this.onMove&&(this.movable=!0),this.draw(n,e,r)}return a.extend(t.prototype,r.prototype,i.prototype),t.prototype.defaults={movable:!1,color:6,size:3,behaviorType:"free",onMove:null},t.prototype.draw=function(n,e,r){var i;return this.sizeScale=s.scale.ordinal().domain(["large","medium","small","tiny"]).range([5,3,2,1.5]),this.setSize(this.size),t.behavior.call(this,this.behaviorType),this.el=n.append("circle").classed("point",!0).on("mousedown",function(t){return function(){return t.movable?s.event.stopPropagation():void 0}}(this)).call(this.drag),null!=e&&null!=r&&(i=[e,r],this.linearX=i[0],this.linearY=i[1]),this.update()},t.prototype.update=function(){return this.el.attr("cx",this.linearX(this.pure.x)).attr("cy",this.linearY(this.pure.y)).attr("r",this.size).attr("fill",this.Color())},t.prototype.clear=function(){return this.el.remove()},t.prototype.setSize=function(t){return a.isNumber(t)?this.size=t:a.isString(t)&&(this.size=this.sizeScale(t)),null!=this.el?this.update():void 0},t.prototype.getSize=function(){return this.size},t.prototype.Size=function(t){return null!=t?this.setSize(t):this.getSize()},t.prototype.getX=function(){return this.pure.x},t.prototype.setX=function(t){return this.pure.x=t},t.prototype.X=function(t){return null!=t?this.setX(t):this.getX()},t.prototype.getY=function(){return this.pure.y},t.prototype.setY=function(t){return this.pure.y=t},t.prototype.Y=function(t){return null!=t?this.setY(t):this.getY()},t.prototype.setMovable=function(t){return this.movable=t},t.prototype.getMovable=function(){return this.movable},t.prototype.Movable=function(t){return null!=t?this.setMovable(t):this.getMovable()},t.prototype.getModel=function(){var t;return t=a.pick(this,a.keys(this.defaults)),t=a.extend(t,a.pick(this.pure,a.keys(this.pure.defaults))),t.x=this.pure.x,t.y=this.pure.y,t.model="Point",t},t.prototype.setModel=function(t,n){return null==n&&(n={}),a.extendDefaults(this,t),null==this.pure&&(this.pure=new o),a.extendDefaults(this.pure,t),this.pure.x=t.x,this.pure.y=t.y,n.silent?void 0:this.update()},t}(),u.freeBehavior=function(){return this.el.attr("cx",s.event.x).attr("cy",s.event.y),this.pure.x=this.linearX.invert(this.el.attr("cx")),this.pure.y=this.linearY.invert(this.el.attr("cy")),this.onMove?this.onMove(this.pure.x,this.pure.y):void 0},u._behaviorTemplate=function(t){return function(n){return function(){return n.movable&&null!=t?t.call(n):void 0}}(this)},u.behavior=function(t){var n;if(a.isString(t))return null==this.drag&&(this.drag=s.behavior.drag()),n=u.behaviorTypes[t].bind(this),this.drag.on("drag",u._behaviorTemplate.call(this,n)),this.drag},u.behaviorTypes={free:u.freeBehavior},t.exports=u},function(t,n,e){var r,i;i=e(1),r=i.scale.category20().domain([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),r.range().push("#000000"),t.exports=function(t,n){var e;return e=function(){function t(){}return t}(),e.get=function(t){return r(t)},null==n&&(n=t[0].toLowerCase()+t.slice(1)),e.prototype["get"+t]=function(){return _.isString(this[n])?this[n]:this["set"+t](this[n])},e.prototype["set"+t]=function(t){return _.isNumber(t)&&(this[n]=r(t)),_.isString(t)&&(this[n]=t),null!=this.el&&this.update(),this[n]},e.prototype[t]=function(n){return null!=n?this["set"+t](n):this["get"+t]()},e}},function(t,n,e){var r,i;i=e(6),r=function(){function t(t,n,e){var r;if(0!==arguments.length){if("Point"===t.model&&1===arguments.length)return r=t.model,i.extendDefaults(this,r),this.x=r.x,void(this.y=r.y);this.x=null!=t?t:0,this.y=null!=n?n:0,i.extend(this,this.defaults,i.pick(e,i.keys(this.defaults)))}}return t.prototype.defaults={},t}(),t.exports=r},function(t,n,e){var r,i,u,o,a,s,l;l=e(1),s=e(6),r=e(27)("Color"),i=e(27)("Colour","color"),u=e(27)("Fill"),a=e(30),o=function(){function t(t,n,e,r,i){var u,o,a,c,f;for(null==i&&(i={}),"Func"===t.model?this.setModel(t,{silent:!0}):(this.pure=t,s.extend(this,this.defaults,s.pick(i,s.keys(this.defaults))),this.breaks=s.sortBy(this.breaks,function(t){return t})),this.path=l.svg.line().x(function(t){return function(n){return t.linearX(n.x)}}(this)).y(function(t){return function(n){return t.linearY(n.y)}}(this)),this.g=n.append("g"),this.el=[],u=o=0,c=this.breaks.length;c>=0?c>=o:o>=c;u=c>=0?++o:--o)a=this.g.append("path").classed("function",!0),this.el.push(a);null!=e&&null!=r&&(f=[e,r],this.linearX=f[0],this.linearY=f[1]),this.update()}return s.extend(t.prototype,r.prototype,i.prototype,u.prototype),t.prototype.defaults={accuracy:800,strokeWidth:2,color:0,breaks:[],fill:"none",fillOpacity:null},t.prototype.clear=function(){return s.each(this.el,function(t){return t.remove()})},t.prototype.update=function(t){var n,e,r,i,u,o,a,l,c,f;for(a=[this.left(),this.right()],i=a[0],f=a[1],this.currentBreaks=s.filter(this.breaks,function(t){return t>i&&f>t}),l=this.el,c=[],e=r=0,u=l.length;u>r;e=++r)n=l[e],o=null!=t?t:this.getPoints(e),c.push(n.attr("d",this.path(o)).attr("fill",this.Fill()).attr("fill-opacity",this.fillOpacity).attr("stroke-width",this.strokeWidth).attr("stroke",this.Color()));return c},t.prototype.getPoints=function(t,n){var e,r,i,u,o,a,s,l;if(this.left()>=this.right()||t>this.currentBreaks.length)return[];for(n=null!=n?n:this.pure.func,u=[],e=this.linearX.domain(),a=(e[1]-e[0])/this.accuracy,i=a/1e7,r=t>0?this.currentBreaks[t-1]+i:this.left(),o=this.currentBreaks.length>0&&t!==this.currentBreaks.length?this.currentBreaks[t]-i:this.right(),s=Math.floor(r/a)*a+a,u.push({x:r,y:this.yMax(n(r))});o>=s;)l=n(s),u.push({x:s,y:this.yMax(l)}),s+=a;return s!==o&&u.push({x:o,y:this.yMax(n(o))}),u},t.prototype.right=function(){return null==this.pure.getRight()?this.linearX.domain()[1]:Math.min(this.linearX.domain()[1],this.pure.getRight())},t.prototype.left=function(){return null==this.pure.getLeft()?this.linearX.domain()[0]:Math.max(this.linearX.domain()[0],this.pure.getLeft())},t.prototype.yMax=function(t){var n;return n=1e6,t=t>n?n:-n>t?-n:t},t.prototype.moveTo=function(t,n){var e,r,i,u,o,s,c,f;for(null==n&&(n={}),e=n.delay||0,r=n.duration||500,c=this.el,f=[],u=o=0,s=c.length;s>o;u=++o)i=c[u],f.push(function(n){return function(u){return i.transition("transition "+u+" "+Date.now()).delay(e).duration(r).attrTween("d",function(){var e;return e=n.pure.func,function(r){var i,o;return o=n.getPoints(u,e),i=n.getPoints(u,t),n.path(l.interpolateArray(o,i)(r))||" "}}).each("end",function(){return n.pure=new a(t,n.pure)})}}(this)(u));return f},t.prototype.getAccuracy=function(){return this.accuracy},t.prototype.setAccuracy=function(t){return this.accuracy=t,this.update(),t},t.prototype.Accuracy=function(t){return null!=t?this.setAccuracy(t):this.getAccuracy()},t.prototype.getStrokeWidth=function(){return this.strokeWidth},t.prototype.setStrokeWidth=function(t){return this.strokeWidth=t,this.update(),t},t.prototype.strokeWidth=function(t){return null!=t?this.setStrokeWidth(t):this.getStrokeWidth()},t.prototype.getBreaks=function(){return this.breaks},t.prototype.setBreaks=function(t){return this.breaks=t},t.prototype.Breaks=function(t){return null!=t?this.setBreaks(t):this.getBreaks()},t.prototype.getLeft=function(){return this.pure.getLeft()},t.prototype.setLeft=function(t){return this.pure.setLeft(t)},t.prototype.Left=function(t){return null!=t?this.setLeft(t):this.getLeft()},t.prototype.getRight=function(){return this.pure.getRight()},t.prototype.setRight=function(t){return this.pure.setRight(t)},t.prototype.Right=function(t){return null!=t?this.setRight(t):this.getRight()},t.prototype.getFunc=function(){return this.pure.func},t.prototype.setFunc=function(t){return this.pure.func=t},t.prototype.Func=function(t){return null!=t?this.setFunc(t):this.getFunc()},t.prototype.getPathQuantity=function(){return this.pathQuantity()},t.prototype.pathQuantity=function(){return this.el.length},t.prototype.getModel=function(){var t;return t=s.pick(this,s.keys(this.defaults)),t=s.extend(t,s.pick(this.pure,s.keys(this.pure.defaults))),t.func=this.pure.func,t.model="Func",t},t.prototype.setModel=function(t,n){return null==n&&(n={}),s.extendDefaults(this,t),null==this.pure&&(this.pure=new a),s.extendDefaults(this.pure,t),n.silent?void 0:this.update()},t}(),t.exports=o},function(t,n,e){var r,i;i=e(6),r=function(){function t(t,n){if(0!==arguments.length){if("Func"===t.model)return i.extendDefaults(this,t),void(this.func=t.func);this.func=t,i.extend(this,this.defaults,i.pick(n,i.keys(this.defaults)))}}return t.prototype.defaults={left:null,right:null},t.prototype.getRight=function(){return this.right},t.prototype.setRight=function(t){return this.right=t},t.prototype.getLeft=function(){return this.left},t.prototype.setLeft=function(t){return this.left=t},t.prototype.getFunc=function(){return this.func},t}(),t.exports=r},function(t,n,e){var r,i,u,o,a,s,l;s=e(6),l=e(1),r=e(27)("Color"),i=e(27)("Colour","color"),u=e(27)("Fill"),a=e(32),o=function(){function t(t,n,e,r,i){null==i&&(i={}),"ParametricArray"===t.model?this.setModel(t,{silent:!0}):(this.pure=t,s.extend(this,this.defaults,s.pick(i,s.keys(this.defaults)))),this.draw(n,e,r)}return t.prototype.defaults={color:20,fillOpacity:.2,strokeWidth:0,fill:1},s.extend(t.prototype,r.prototype,i.prototype,u.prototype),t.prototype.draw=function(t,n,e){var r,i;return i=this,this.path=l.svg.line().x(function(t){return i.linearX(t.x)}).y(function(t){return i.linearY(t.y)}),this.g=t.append("g"),this.el=this.g.append("path").classed("Parametric",!0),null!=n&&null!=e&&(r=[n,e],this.linearX=r[0],this.linearY=r[1]),this.update()},t.prototype.update=function(){return this.el.attr("d",this.path(this.pure.array)).attr("fill",this.Fill()).attr("fill-opacity",this.fillOpacity).attr("stroke-width",this.strokeWidth).attr("stroke",this.Color())},t.prototype.clear=function(){return this.el.remove()},t.prototype.setFillOpacity=function(t){return this.fillOpacity=t},t.prototype.getFillOpacity=function(){return this.fillOpacity},t.prototype.Opacity=function(t){return null!=t?this.setFillOpacity(t):this.getFillOpacity()},t.prototype.setStrokeWidth=function(t){return this.strokeWidth=t},t.prototype.getStrokeWidth=function(){return this.strokeWidth},t.prototype.StrokeWidth=function(t){return null!=t?this.setStrokeWidth(t):this.getStrokeWidth()},t.prototype.getModel=function(){var t;return t=s.pick(this,s.keys(this.defaults)),t=s.extend(t,s.pick(this.pure,s.keys(this.pure.defaults))),t.array=this.pure.array,t.model="ParametricArray",t},t.prototype.setModel=function(t,n){return null==n&&(n={}),s.extendDefaults(this,t),null==this.pure&&(this.pure=new a),s.extendDefaults(this.pure,t),this.pure.array=t.array,n.silent?void 0:this.update()},t}(),t.exports=o},function(t,n,e){var r,i;i=e(6),r=function(){function t(t,n){if(0!==arguments.length){if("ParametricArray"===t.model)return i.extendDefaults(this,t),void(this.array=t.array);this.array=t,i.extend(this,this.defaults,i.pick(n,i.keys(this.defaults)))}}return t.prototype.defaults={},t.prototype.getX=function(t){return this.array[t].x},t.prototype.getY=function(t){return this.array[t].y},t}(),t.exports=r},function(t,n,e){var r,i,u,o,a,s;s=e(1),a=e(2),r=e(27)("Color"),i=e(27)("Colour","color"),o=e(34),u=function(){function t(t,n,e,r,i){null==i&&(i={}),"Line"===t.model?this.setModel(t,{silent:!0}):(this.pure=t,a.extend(this,this.defaults,a.pick(i,a.keys(this.defaults)))),this.draw(n,e,r)}return a.extend(t.prototype,r.prototype,i.prototype),t.prototype.defaults={strokeWidth:2,color:0},t.prototype.draw=function(t,n,e){var r;return this.el=t.append("line").classed("line",!0),null!=n&&null!=e&&(r=[n,e],this.linearX=r[0],this.linearY=r[1]),this.update()},t.prototype.update=function(){return this.el.attr("x1",this.linearX(this.pure.x1)).attr("x2",this.linearX(this.pure.x2)).attr("y1",this.linearY(this.pure.y1)).attr("y2",this.linearY(this.pure.y2)).attr("stroke",this.Color()).attr("stroke-width",this.strokeWidth)},t.prototype.clear=function(){return this.el.remove()},t.prototype.setX1=function(t){return this.pure.x1=t,this.update()},t.prototype.getX1=function(){return this.pure.x1},t.prototype.X1=function(t){return null!=t?this.setX1(t):this.getX1()},t.prototype.setX2=function(t){return this.pure.x2=t,this.update()},t.prototype.getX2=function(){return this.pure.x2},t.prototype.X2=function(t){return null!=t?this.setX2(t):this.getX2()},t.prototype.setY1=function(t){return this.pure.y1=t,this.update()},t.prototype.getY1=function(){return this.pure.y1},t.prototype.Y1=function(t){return null!=t?this.setY1(t):this.getY1()},t.prototype.setY2=function(t){return this.pure.y2=t,this.update()},t.prototype.getY2=function(){return this.pure.y2},t.prototype.Y2=function(t){return null!=t?this.setY2(t):this.getY2()},t.prototype.getModel=function(){var t;return t=a.pick(this,a.keys(this.defaults)),t=a.extend(t,a.pick(this.pure,a.keys(this.pure.defaults))),t.coordinates=this.pure.getCoordinates(),t.model="Line",t},t.prototype.setModel=function(t,n){return null==n&&(n={}),a.extendDefaults(this,t),null==this.pure&&(this.pure=new o),a.extendDefaults(this.pure,t),this.pure.setCoordinates(t.coordinates),n.silent?void 0:this.update()},t}(),t.exports=u},function(t,n,e){var r,i;i=e(6),r=function(){function t(t,n){if(0!==arguments.length){if("Line"===t.model)return i.extendDefaults(this,t),void(this.coordinates=t.coordinates);this.setCoordinates(t),i.extend(this,this.defaults,i.pick(n,i.keys(this.defaults)))}}return t.prototype.defaults={},t.prototype.getLength=function(){return Math.sqrt(Math.pow(this.x1-this.x2,2)+Math.pow(this.y1-this.y2,2))},t.prototype.getCoordinates=function(){return{x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2}},t.prototype.setCoordinates=function(t){return this.x1=t.x1,this.x2=t.x2,this.y1=t.y1,this.y2=t.y2},t}(),t.exports=r},function(t,n,e){var r,i,u,o=function(t,n){function e(){this.constructor=t}for(var r in n)a.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},a={}.hasOwnProperty;r=e(29),u=e(2),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.defaults=function(){var t;return t=u.clone(r.prototype.defaults),t.fill=1,t.fillOpacity=.3,t.strokeWidth=0,t.ownDefaults=["fill","fillOpacity","strokeWidth"],t.axe="x",t}(),n.prototype.getPoints=function(t){var n,e,i;return n=r.prototype.getPoints.call(this,t),0===n.length?n:("x"===this.axe&&(n.unshift({x:n[0].x,y:0}),n.push({x:n[n.length-1].x,y:0})),"y"===this.axe&&(e=this.pure.getLeft(),i=this.pure.func(e),n.unshift({x:e,y:i}),n.unshift({x:0,y:n[0].y}),e=this.pure.getRight(),i=this.pure.func(e),n.push({x:e,y:i}),n.push({x:0,y:n[n.length-1].y})),n)},n}(r),t.exports=i},function(t,n,e){var r,i,u,o=function(t,n){function e(){this.constructor=t}for(var r in n)a.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},a={}.hasOwnProperty;u=e(6),r=e(31),i=function(t){function n(t,e,r,i,o){null==o&&(o={}),u.extend(o,this.defaults),n.__super__.constructor.call(this,t,e,r,i,o)}return o(n,t),n.prototype.defaults=function(){var t;return t=u.clone(r.prototype.defaults),t.strokeWidth=2,t.color=0,t.fillOpacity=0,t}(),n}(r),t.exports=i},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(t,n,e){for(var r=!0;r;){var i=t,u=n,o=e;r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,u);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,n=u,e=o,r=!0,a=l=void 0}},s=e(4),l=r(s),c=e(9),f=(r(c),e(38)),h=r(f),p=function(t){function n(t,e){i(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.type=t,this.gate=new h["default"](this,e)}return u(n,t),o(n,null,[{key:"SENDER",value:"sender",enumerable:!0},{key:"RECEIVER",value:"receiver",enumerable:!0}]),o(n,[{key:"getModel",value:function(){return this.arr.map(function(t){return t.getModel()})}},{key:"setModel",value:function(t){var n=this;return t.forEach(function(t,e){n.arr[e].setModel(t)})}},{key:"add",value:function(t){var e=this;return l["default"].prototype.add.call(this,t),t.emitter.on("drawn",function(){overContainer.type===n.SENDER&&e.gate.send()})}},{key:"getType",value:function(){return this.type}},{key:"getGate",value:function(){return this.gate}}]),n}(l["default"]);n["default"]=p,t.exports=n["default"]},function(t,n){var e;e=function(){function t(t,n){this.socket=n,this.container=t,"receiver"===this.container.type&&null!=this.socket&&this.socket.on("plot-data",this.receive.bind(this))}return t.prototype.send=function(){return"sender"===this.container.type&&null!=this.socket?this.socket.emit("plot-data",this.container.getModel()):void 0},t.prototype.receive=function(t){return this.container.setModel(t)},t.prototype.getSocket=function(){return null!=this.socket?this.socket:void 0},t}(),t.exports=e}])});